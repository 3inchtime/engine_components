<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="resources/styles.css">
  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  <title>Components | Hello world</title>
  <style>
    button {
      position: absolute;
      z-index: 1;
      padding: 0.5rem;
    }
  </style>
</head>
<body>

  <button id="toggle-button">Toggle projection</button>

  <div class="full-screen" id="container"></div>

  <script type="module">
		import * as OBC from './resources/openbim-components.js';
		import * as THREE from './resources/three.module.js';

		const container = document.getElementById('container');
		const components = new OBC.Components();

		components.scene = new OBC.SimpleScene(components);
		components.renderer = new OBC.SimpleRenderer(components, container);
        const camera = new OBC.OrthoPerspectiveCamera(components);
		components.camera = camera;
		components.raycaster = new OBC.SimpleRaycaster(components);

		components.init();

		const scene = components.scene.get();

		const cube = new THREE.Mesh(new THREE.BoxGeometry(3, 3, 3), new THREE.MeshStandardMaterial({color: "red"}))
		cube.position.set(0, 1.5, 0)
		scene.add(cube)

		components.meshes.push(cube);

		const directionalLight = new THREE.DirectionalLight();
		directionalLight.position.set(5, 10, 3)
		directionalLight.intensity = 0.5;
		scene.add(directionalLight)

		const ambientLight = new THREE.AmbientLight();
		ambientLight.intensity = 0.5;
		scene.add(ambientLight);

        const toggleButton = document.getElementById('toggle-button');
        toggleButton.onclick = () => {
          camera.toggleProjection();
        }
  </script>
</body>
</html>