import{q as At,k as Xe,T as ei,a1 as Bo,a2 as Kl,a as Ie,V as H,f as Ze,P as si,o as Ki,M as ce,C as Ht,z as zo,D as Wl,A as Xl,a3 as $r,H as Wi,a4 as jl,a5 as Zl,p as Ql,a6 as wt,a7 as ql,r as wc,Z as Jl,c as An,y as Yo,i as nn,a8 as Xi,d as ii,I as On,a9 as Fn,B as $e,Q as $l,aa as Ac,ab as cn,w as Da,ac as Oc,ad as Sc,ae as Pn,N as eh,e as Sn,af as Ft,ag as th,ah as yr,ai as mo,X as nh,aj as rt,O as es,E as Zr,v as Ws,x as ih,ak as rh,al as Vo,am as bc,an as Pc,ao as xc,ap as Nc,aq as Lc,ar as sh,as as ko,at as oh,L as Mc,au as ah,av as ch,aw as lh,ax as Go,ay as Ho,az as Ko,aA as Wo,aB as Ua,aC as hh,F as ts,aD as vr,g as $t,aE as uh,aF as Ri,aG as dh,aH as ph,aI as Fi,$ as Cn,aJ as fh,aK as mh,aL as Eh,aM as Ih,aN as gh,aO as _a,aP as Ch,aQ as Th,aR as yh,_ as vh,R as Rh}from"./web-ifc-api-Glg4rFxW.js";import{g as Dc,c as Ba}from"./_commonjsHelpers-Cpj98o6Y.js";var Fh=Object.defineProperty,wh=(l,e,t)=>e in l?Fh(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,T=(l,e,t)=>(wh(l,typeof e!="symbol"?e+"":e,t),t);const Uc=0,Ah=1,Oh=2,za=2,Xs=1.25,Ya=1,Qr=6*4+4+4,is=65535,Sh=Math.pow(2,-24),js=Symbol("SKIP_GENERATION");function bh(l){return l.index?l.index.count:l.attributes.position.count}function oi(l){return bh(l)/3}function Ph(l,e=ArrayBuffer){return l>65535?new Uint32Array(new e(4*l)):new Uint16Array(new e(2*l))}function xh(l,e){if(!l.index){const t=l.attributes.position.count,n=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,r=Ph(t,n);l.setIndex(new Sn(r,1));for(let s=0;s<t;s++)r[s]=s}}function _c(l){const e=oi(l),t=l.drawRange,n=t.start/3,r=(t.start+t.count)/3,s=Math.max(0,n),o=Math.min(e,r)-s;return[{offset:Math.floor(s),count:Math.floor(o)}]}function Bc(l){if(!l.groups||!l.groups.length)return _c(l);const e=[],t=new Set,n=l.drawRange,r=n.start/3,s=(n.start+n.count)/3;for(const c of l.groups){const u=c.start/3,d=(c.start+c.count)/3;t.add(Math.max(r,u)),t.add(Math.min(s,d))}const o=Array.from(t.values()).sort((c,u)=>c-u);for(let c=0;c<o.length-1;c++){const u=o[c],d=o[c+1];e.push({offset:Math.floor(u),count:Math.floor(d-u)})}return e}function Nh(l){if(l.groups.length===0)return!1;const e=oi(l),t=Bc(l).sort((s,o)=>s.offset-o.offset),n=t[t.length-1];n.count=Math.min(e-n.offset,n.count);let r=0;return t.forEach(({count:s})=>r+=s),e!==r}function Ue(l,e,t){return t.min.x=e[l],t.min.y=e[l+1],t.min.z=e[l+2],t.max.x=e[l+3],t.max.y=e[l+4],t.max.z=e[l+5],t}function Lh(l){l[0]=l[1]=l[2]=1/0,l[3]=l[4]=l[5]=-1/0}function Va(l){let e=-1,t=-1/0;for(let n=0;n<3;n++){const r=l[n+3]-l[n];r>t&&(t=r,e=n)}return e}function ka(l,e){e.set(l)}function Ga(l,e,t){let n,r;for(let s=0;s<3;s++){const o=s+3;n=l[s],r=e[s],t[s]=n<r?n:r,n=l[o],r=e[o],t[o]=n>r?n:r}}function Rr(l,e,t){for(let n=0;n<3;n++){const r=e[l+2*n],s=e[l+2*n+1],o=r-s,c=r+s;o<t[n]&&(t[n]=o),c>t[n+3]&&(t[n+3]=c)}}function wi(l){const e=l[3]-l[0],t=l[4]-l[1],n=l[5]-l[2];return 2*(e*t+t*n+n*e)}function Zs(l,e,t,n,r=null){let s=1/0,o=1/0,c=1/0,u=-1/0,d=-1/0,m=-1/0,I=1/0,f=1/0,C=1/0,v=-1/0,F=-1/0,w=-1/0;const A=r!==null;for(let S=e*6,x=(e+t)*6;S<x;S+=6){const y=l[S+0],P=l[S+1],Y=y-P,k=y+P;Y<s&&(s=Y),k>u&&(u=k),A&&y<I&&(I=y),A&&y>v&&(v=y);const K=l[S+2],X=l[S+3],q=K-X,$=K+X;q<o&&(o=q),$>d&&(d=$),A&&K<f&&(f=K),A&&K>F&&(F=K);const J=l[S+4],ie=l[S+5],ue=J-ie,Ee=J+ie;ue<c&&(c=ue),Ee>m&&(m=Ee),A&&J<C&&(C=J),A&&J>w&&(w=J)}n[0]=s,n[1]=o,n[2]=c,n[3]=u,n[4]=d,n[5]=m,A&&(r[0]=I,r[1]=f,r[2]=C,r[3]=v,r[4]=F,r[5]=w)}function Mh(l,e,t,n){let r=1/0,s=1/0,o=1/0,c=-1/0,u=-1/0,d=-1/0;for(let m=e*6,I=(e+t)*6;m<I;m+=6){const f=l[m+0];f<r&&(r=f),f>c&&(c=f);const C=l[m+2];C<s&&(s=C),C>u&&(u=C);const v=l[m+4];v<o&&(o=v),v>d&&(d=v)}n[0]=r,n[1]=s,n[2]=o,n[3]=c,n[4]=u,n[5]=d}function Dh(l,e){Lh(e);const t=l.attributes.position,n=l.index?l.index.array:null,r=oi(l),s=new Float32Array(r*6),o=t.normalized,c=t.array,u=t.offset||0;let d=3;t.isInterleavedBufferAttribute&&(d=t.data.stride);const m=["getX","getY","getZ"];for(let I=0;I<r;I++){const f=I*3,C=I*6;let v=f+0,F=f+1,w=f+2;n&&(v=n[v],F=n[F],w=n[w]),o||(v=v*d+u,F=F*d+u,w=w*d+u);for(let A=0;A<3;A++){let S,x,y;o?(S=t[m[A]](v),x=t[m[A]](F),y=t[m[A]](w)):(S=c[v+A],x=c[F+A],y=c[w+A]);let P=S;x<P&&(P=x),y<P&&(P=y);let Y=S;x>Y&&(Y=x),y>Y&&(Y=y);const k=(Y-P)/2,K=A*2;s[C+K+0]=P+k,s[C+K+1]=k+(Math.abs(P)+k)*Sh,P<e[A]&&(e[A]=P),Y>e[A+3]&&(e[A+3]=Y)}}return s}const kt=32,Uh=(l,e)=>l.candidate-e.candidate,en=new Array(kt).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),Fr=new Float32Array(6);function _h(l,e,t,n,r,s){let o=-1,c=0;if(s===Uc)o=Va(e),o!==-1&&(c=(e[o]+e[o+3])/2);else if(s===Ah)o=Va(l),o!==-1&&(c=Bh(t,n,r,o));else if(s===Oh){const u=wi(l);let d=Xs*r;const m=n*6,I=(n+r)*6;for(let f=0;f<3;f++){const C=e[f],v=(e[f+3]-C)/kt;if(r<kt/4){const F=[...en];F.length=r;let w=0;for(let S=m;S<I;S+=6,w++){const x=F[w];x.candidate=t[S+2*f],x.count=0;const{bounds:y,leftCacheBounds:P,rightCacheBounds:Y}=x;for(let k=0;k<3;k++)Y[k]=1/0,Y[k+3]=-1/0,P[k]=1/0,P[k+3]=-1/0,y[k]=1/0,y[k+3]=-1/0;Rr(S,t,y)}F.sort(Uh);let A=r;for(let S=0;S<A;S++){const x=F[S];for(;S+1<A&&F[S+1].candidate===x.candidate;)F.splice(S+1,1),A--}for(let S=m;S<I;S+=6){const x=t[S+2*f];for(let y=0;y<A;y++){const P=F[y];x>=P.candidate?Rr(S,t,P.rightCacheBounds):(Rr(S,t,P.leftCacheBounds),P.count++)}}for(let S=0;S<A;S++){const x=F[S],y=x.count,P=r-x.count,Y=x.leftCacheBounds,k=x.rightCacheBounds;let K=0;y!==0&&(K=wi(Y)/u);let X=0;P!==0&&(X=wi(k)/u);const q=Ya+Xs*(K*y+X*P);q<d&&(o=f,d=q,c=x.candidate)}}else{for(let A=0;A<kt;A++){const S=en[A];S.count=0,S.candidate=C+v+A*v;const x=S.bounds;for(let y=0;y<3;y++)x[y]=1/0,x[y+3]=-1/0}for(let A=m;A<I;A+=6){let S=~~((t[A+2*f]-C)/v);S>=kt&&(S=kt-1);const x=en[S];x.count++,Rr(A,t,x.bounds)}const F=en[kt-1];ka(F.bounds,F.rightCacheBounds);for(let A=kt-2;A>=0;A--){const S=en[A],x=en[A+1];Ga(S.bounds,x.rightCacheBounds,S.rightCacheBounds)}let w=0;for(let A=0;A<kt-1;A++){const S=en[A],x=S.count,y=S.bounds,P=en[A+1].rightCacheBounds;x!==0&&(w===0?ka(y,Fr):Ga(y,Fr,Fr)),w+=x;let Y=0,k=0;w!==0&&(Y=wi(Fr)/u);const K=r-w;K!==0&&(k=wi(P)/u);const X=Ya+Xs*(Y*w+k*K);X<d&&(o=f,d=X,c=S.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${s} used.`);return{axis:o,pos:c}}function Bh(l,e,t,n){let r=0;for(let s=e,o=e+t;s<o;s++)r+=l[s*6+n*2];return r/t}class wr{constructor(){}}function zh(l,e,t,n,r,s){let o=n,c=n+r-1;const u=s.pos,d=s.axis*2;for(;;){for(;o<=c&&t[o*6+d]<u;)o++;for(;o<=c&&t[c*6+d]>=u;)c--;if(o<c){for(let m=0;m<3;m++){let I=e[o*3+m];e[o*3+m]=e[c*3+m],e[c*3+m]=I}for(let m=0;m<6;m++){let I=t[o*6+m];t[o*6+m]=t[c*6+m],t[c*6+m]=I}o++,c--}else return o}}function Yh(l,e,t,n,r,s){let o=n,c=n+r-1;const u=s.pos,d=s.axis*2;for(;;){for(;o<=c&&t[o*6+d]<u;)o++;for(;o<=c&&t[c*6+d]>=u;)c--;if(o<c){let m=l[o];l[o]=l[c],l[c]=m;for(let I=0;I<6;I++){let f=t[o*6+I];t[o*6+I]=t[c*6+I],t[c*6+I]=f}o++,c--}else return o}}function Vh(l,e){const t=(l.index?l.index.count:l.attributes.position.count)/3,n=t>2**16,r=n?4:2,s=e?new SharedArrayBuffer(t*r):new ArrayBuffer(t*r),o=n?new Uint32Array(s):new Uint16Array(s);for(let c=0,u=o.length;c<u;c++)o[c]=c;return o}function kh(l,e){const t=l.geometry,n=t.index?t.index.array:null,r=e.maxDepth,s=e.verbose,o=e.maxLeafTris,c=e.strategy,u=e.onProgress,d=oi(t),m=l._indirectBuffer;let I=!1;const f=new Float32Array(6),C=new Float32Array(6),v=Dh(t,f),F=e.indirect?Yh:zh,w=[],A=e.indirect?_c(t):Bc(t);if(A.length===1){const y=A[0],P=new wr;P.boundingData=f,Mh(v,y.offset,y.count,C),x(P,y.offset,y.count,C),w.push(P)}else for(let y of A){const P=new wr;P.boundingData=new Float32Array(6),Zs(v,y.offset,y.count,P.boundingData,C),x(P,y.offset,y.count,C),w.push(P)}return w;function S(y){u&&u(y/d)}function x(y,P,Y,k=null,K=0){if(!I&&K>=r&&(I=!0,s&&(console.warn(`MeshBVH: Max depth of ${r} reached when generating BVH. Consider increasing maxDepth.`),console.warn(t))),Y<=o||K>=r)return S(P+Y),y.offset=P,y.count=Y,y;const X=_h(y.boundingData,k,v,P,Y,c);if(X.axis===-1)return S(P+Y),y.offset=P,y.count=Y,y;const q=F(m,n,v,P,Y,X);if(q===P||q===P+Y)S(P+Y),y.offset=P,y.count=Y;else{y.splitAxis=X.axis;const $=new wr,J=P,ie=q-P;y.left=$,$.boundingData=new Float32Array(6),Zs(v,J,ie,$.boundingData,C),x($,J,ie,C,K+1);const ue=new wr,Ee=q,ve=Y-ie;y.right=ue,ue.boundingData=new Float32Array(6),Zs(v,Ee,ve,ue.boundingData,C),x(ue,Ee,ve,C,K+1)}return y}}function Gh(l,e){const t=l.geometry;e.indirect&&(l._indirectBuffer=Vh(t,e.useSharedArrayBuffer),Nh(t)&&!e.verbose&&console.warn('MeshBVH: Provided geometry contains groups that do not fully span the vertex contents while using the "indirect" option. BVH may incorrectly report intersections on unrendered portions of the geometry.')),l._indirectBuffer||xh(t,e);const n=kh(l,e);let r,s,o;const c=[],u=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let I=0;I<n.length;I++){const f=n[I];let C=d(f);const v=new u(Qr*C);r=new Float32Array(v),s=new Uint32Array(v),o=new Uint16Array(v),m(0,f),c.push(v)}l._roots=c;return;function d(I){return I.count?1:1+d(I.left)+d(I.right)}function m(I,f){const C=I/4,v=I/2,F=!!f.count,w=f.boundingData;for(let A=0;A<6;A++)r[C+A]=w[A];if(F){const A=f.offset,S=f.count;return s[C+6]=A,o[v+14]=S,o[v+15]=is,I+Qr}else{const A=f.left,S=f.right,x=f.splitAxis;let y;if(y=m(I+Qr,A),y/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return s[C+6]=y/4,y=m(y,S),s[C+7]=x,y}}}class Kt{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,r=-1/0;for(let s=0,o=e.length;s<o;s++){const c=e[s][t];n=c<n?c:n,r=c>r?c:r}this.min=n,this.max=r}setFromPoints(e,t){let n=1/0,r=-1/0;for(let s=0,o=t.length;s<o;s++){const c=t[s],u=e.dot(c);n=u<n?u:n,r=u>r?u:r}this.min=n,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}}Kt.prototype.setFromBox=function(){const l=new H;return function(e,t){const n=t.min,r=t.max;let s=1/0,o=-1/0;for(let c=0;c<=1;c++)for(let u=0;u<=1;u++)for(let d=0;d<=1;d++){l.x=n.x*c+r.x*(1-c),l.y=n.y*u+r.y*(1-u),l.z=n.z*d+r.z*(1-d);const m=e.dot(l);s=Math.min(m,s),o=Math.max(m,o)}this.min=s,this.max=o}}();const Hh=function(){const l=new H,e=new H,t=new H;return function(n,r,s){const o=n.start,c=l,u=r.start,d=e;t.subVectors(o,u),l.subVectors(n.end,n.start),e.subVectors(r.end,r.start);const m=t.dot(d),I=d.dot(c),f=d.dot(d),C=t.dot(c),v=c.dot(c)*f-I*I;let F,w;v!==0?F=(m*I-C*f)/v:F=0,w=(m+F*I)/f,s.x=F,s.y=w}}(),Xo=function(){const l=new Ze,e=new H,t=new H;return function(n,r,s,o){Hh(n,r,l);let c=l.x,u=l.y;if(c>=0&&c<=1&&u>=0&&u<=1){n.at(c,s),r.at(u,o);return}else if(c>=0&&c<=1){u<0?r.at(0,o):r.at(1,o),n.closestPointToPoint(o,!0,s);return}else if(u>=0&&u<=1){c<0?n.at(0,s):n.at(1,s),r.closestPointToPoint(s,!0,o);return}else{let d;c<0?d=n.start:d=n.end;let m;u<0?m=r.start:m=r.end;const I=e,f=t;if(n.closestPointToPoint(m,!0,e),r.closestPointToPoint(d,!0,t),I.distanceToSquared(m)<=f.distanceToSquared(d)){s.copy(I),o.copy(m);return}else{s.copy(d),o.copy(f);return}}}}(),Kh=function(){const l=new H,e=new H,t=new si,n=new At;return function(r,s){const{radius:o,center:c}=r,{a:u,b:d,c:m}=s;if(n.start=u,n.end=d,n.closestPointToPoint(c,!0,l).distanceTo(c)<=o||(n.start=u,n.end=m,n.closestPointToPoint(c,!0,l).distanceTo(c)<=o)||(n.start=d,n.end=m,n.closestPointToPoint(c,!0,l).distanceTo(c)<=o))return!0;const I=s.getPlane(t);if(Math.abs(I.distanceToPoint(c))<=o){const f=I.projectPoint(c,e);if(s.containsPoint(f))return!0}return!1}}(),Wh=1e-15;function Qs(l){return Math.abs(l)<Wh}class Ot extends ei{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new H),this.satBounds=new Array(4).fill().map(()=>new Kt),this.points=[this.a,this.b,this.c],this.sphere=new Ki,this.plane=new si,this.needsUpdate=!0}intersectsSphere(e){return Kh(e,this)}update(){const e=this.a,t=this.b,n=this.c,r=this.points,s=this.satAxes,o=this.satBounds,c=s[0],u=o[0];this.getNormal(c),u.setFromPoints(c,r);const d=s[1],m=o[1];d.subVectors(e,t),m.setFromPoints(d,r);const I=s[2],f=o[2];I.subVectors(t,n),f.setFromPoints(I,r);const C=s[3],v=o[3];C.subVectors(n,e),v.setFromPoints(C,r),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(c,e),this.needsUpdate=!1}}Ot.prototype.closestPointToSegment=function(){const l=new H,e=new H,t=new At;return function(n,r=null,s=null){const{start:o,end:c}=n,u=this.points;let d,m=1/0;for(let I=0;I<3;I++){const f=(I+1)%3;t.start.copy(u[I]),t.end.copy(u[f]),Xo(t,n,l,e),d=l.distanceToSquared(e),d<m&&(m=d,r&&r.copy(l),s&&s.copy(e))}return this.closestPointToPoint(o,l),d=o.distanceToSquared(l),d<m&&(m=d,r&&r.copy(l),s&&s.copy(o)),this.closestPointToPoint(c,l),d=c.distanceToSquared(l),d<m&&(m=d,r&&r.copy(l),s&&s.copy(c)),Math.sqrt(m)}}();Ot.prototype.intersectsTriangle=function(){const l=new Ot,e=new Array(3),t=new Array(3),n=new Kt,r=new Kt,s=new H,o=new H,c=new H,u=new H,d=new H,m=new At,I=new At,f=new At,C=new H;function v(F,w,A){const S=F.points;let x=0,y=-1;for(let P=0;P<3;P++){const{start:Y,end:k}=m;Y.copy(S[P]),k.copy(S[(P+1)%3]),m.delta(o);const K=Qs(w.distanceToPoint(Y));if(Qs(w.normal.dot(o))&&K){A.copy(m),x=2;break}const X=w.intersectLine(m,C);if(!X&&K&&C.copy(Y),(X||K)&&!Qs(C.distanceTo(k))){if(x<=1)(x===1?A.start:A.end).copy(C),K&&(y=x);else if(x>=2){(y===1?A.start:A.end).copy(C),x=2;break}if(x++,x===2&&y===-1)break}}return x}return function(F,w=null,A=!1){this.needsUpdate&&this.update(),F.isExtendedTriangle?F.needsUpdate&&F.update():(l.copy(F),l.update(),F=l);const S=this.plane,x=F.plane;if(Math.abs(S.normal.dot(x.normal))>1-1e-10){const y=this.satBounds,P=this.satAxes;t[0]=F.a,t[1]=F.b,t[2]=F.c;for(let K=0;K<4;K++){const X=y[K],q=P[K];if(n.setFromPoints(q,t),X.isSeparated(n))return!1}const Y=F.satBounds,k=F.satAxes;e[0]=this.a,e[1]=this.b,e[2]=this.c;for(let K=0;K<4;K++){const X=Y[K],q=k[K];if(n.setFromPoints(q,e),X.isSeparated(n))return!1}for(let K=0;K<4;K++){const X=P[K];for(let q=0;q<4;q++){const $=k[q];if(s.crossVectors(X,$),n.setFromPoints(s,e),r.setFromPoints(s,t),n.isSeparated(r))return!1}}return w&&(A||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),w.start.set(0,0,0),w.end.set(0,0,0)),!0}else{const y=v(this,x,I);if(y===1&&F.containsPoint(I.end))return w&&(w.start.copy(I.end),w.end.copy(I.end)),!0;if(y!==2)return!1;const P=v(F,S,f);if(P===1&&this.containsPoint(f.end))return w&&(w.start.copy(f.end),w.end.copy(f.end)),!0;if(P!==2)return!1;if(I.delta(c),f.delta(u),c.dot(u)<0){let J=f.start;f.start=f.end,f.end=J}const Y=I.start.dot(c),k=I.end.dot(c),K=f.start.dot(c),X=f.end.dot(c),q=k<K,$=Y<X;return Y!==X&&K!==k&&q===$?!1:(w&&(d.subVectors(I.start,f.start),d.dot(c)>0?w.start.copy(I.start):w.start.copy(f.start),d.subVectors(I.end,f.end),d.dot(c)<0?w.end.copy(I.end):w.end.copy(f.end)),!0)}}}();Ot.prototype.distanceToPoint=function(){const l=new H;return function(e){return this.closestPointToPoint(e,l),e.distanceTo(l)}}();Ot.prototype.distanceToTriangle=function(){const l=new H,e=new H,t=["a","b","c"],n=new At,r=new At;return function(s,o=null,c=null){const u=o||c?n:null;if(this.intersectsTriangle(s,u))return(o||c)&&(o&&u.getCenter(o),c&&u.getCenter(c)),0;let d=1/0;for(let m=0;m<3;m++){let I;const f=t[m],C=s[f];this.closestPointToPoint(C,l),I=C.distanceToSquared(l),I<d&&(d=I,o&&o.copy(l),c&&c.copy(C));const v=this[f];s.closestPointToPoint(v,l),I=v.distanceToSquared(l),I<d&&(d=I,o&&o.copy(v),c&&c.copy(l))}for(let m=0;m<3;m++){const I=t[m],f=t[(m+1)%3];n.set(this[I],this[f]);for(let C=0;C<3;C++){const v=t[C],F=t[(C+1)%3];r.set(s[v],s[F]),Xo(n,r,l,e);const w=l.distanceToSquared(e);w<d&&(d=w,o&&o.copy(l),c&&c.copy(e))}}return Math.sqrt(d)}}();class st{constructor(e,t,n){this.isOrientedBox=!0,this.min=new H,this.max=new H,this.matrix=new Ie,this.invMatrix=new Ie,this.points=new Array(8).fill().map(()=>new H),this.satAxes=new Array(3).fill().map(()=>new H),this.satBounds=new Array(3).fill().map(()=>new Kt),this.alignedSatBounds=new Array(3).fill().map(()=>new Kt),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),n&&this.matrix.copy(n)}set(e,t,n){this.min.copy(e),this.max.copy(t),this.matrix.copy(n),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}}st.prototype.update=function(){return function(){const l=this.matrix,e=this.min,t=this.max,n=this.points;for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)for(let m=0;m<=1;m++){const I=1*u|2*d|4*m,f=n[I];f.x=u?t.x:e.x,f.y=d?t.y:e.y,f.z=m?t.z:e.z,f.applyMatrix4(l)}const r=this.satBounds,s=this.satAxes,o=n[0];for(let u=0;u<3;u++){const d=s[u],m=r[u],I=1<<u,f=n[I];d.subVectors(o,f),m.setFromPoints(d,n)}const c=this.alignedSatBounds;c[0].setFromPointsField(n,"x"),c[1].setFromPointsField(n,"y"),c[2].setFromPointsField(n,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();st.prototype.intersectsBox=function(){const l=new Kt;return function(e){this.needsUpdate&&this.update();const t=e.min,n=e.max,r=this.satBounds,s=this.satAxes,o=this.alignedSatBounds;if(l.min=t.x,l.max=n.x,o[0].isSeparated(l)||(l.min=t.y,l.max=n.y,o[1].isSeparated(l))||(l.min=t.z,l.max=n.z,o[2].isSeparated(l)))return!1;for(let c=0;c<3;c++){const u=s[c],d=r[c];if(l.setFromBox(u,e),d.isSeparated(l))return!1}return!0}}();st.prototype.intersectsTriangle=function(){const l=new Ot,e=new Array(3),t=new Kt,n=new Kt,r=new H;return function(s){this.needsUpdate&&this.update(),s.isExtendedTriangle?s.needsUpdate&&s.update():(l.copy(s),l.update(),s=l);const o=this.satBounds,c=this.satAxes;e[0]=s.a,e[1]=s.b,e[2]=s.c;for(let I=0;I<3;I++){const f=o[I],C=c[I];if(t.setFromPoints(C,e),f.isSeparated(t))return!1}const u=s.satBounds,d=s.satAxes,m=this.points;for(let I=0;I<3;I++){const f=u[I],C=d[I];if(t.setFromPoints(C,m),f.isSeparated(t))return!1}for(let I=0;I<3;I++){const f=c[I];for(let C=0;C<4;C++){const v=d[C];if(r.crossVectors(f,v),t.setFromPoints(r,e),n.setFromPoints(r,m),t.isSeparated(n))return!1}}return!0}}();st.prototype.closestPointToPoint=function(){return function(l,e){return this.needsUpdate&&this.update(),e.copy(l).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),e}}();st.prototype.distanceToPoint=function(){const l=new H;return function(e){return this.closestPointToPoint(e,l),e.distanceTo(l)}}();st.prototype.distanceToBox=function(){const l=["x","y","z"],e=new Array(12).fill().map(()=>new At),t=new Array(12).fill().map(()=>new At),n=new H,r=new H;return function(s,o=0,c=null,u=null){if(this.needsUpdate&&this.update(),this.intersectsBox(s))return(c||u)&&(s.getCenter(r),this.closestPointToPoint(r,n),s.closestPointToPoint(n,r),c&&c.copy(n),u&&u.copy(r)),0;const d=o*o,m=s.min,I=s.max,f=this.points;let C=1/0;for(let F=0;F<8;F++){const w=f[F];r.copy(w).clamp(m,I);const A=w.distanceToSquared(r);if(A<C&&(C=A,c&&c.copy(w),u&&u.copy(r),A<d))return Math.sqrt(A)}let v=0;for(let F=0;F<3;F++)for(let w=0;w<=1;w++)for(let A=0;A<=1;A++){const S=(F+1)%3,x=(F+2)%3,y=w<<S|A<<x,P=1<<F|w<<S|A<<x,Y=f[y],k=f[P];e[v].set(Y,k);const K=l[F],X=l[S],q=l[x],$=t[v],J=$.start,ie=$.end;J[K]=m[K],J[X]=w?m[X]:I[X],J[q]=A?m[q]:I[X],ie[K]=I[K],ie[X]=w?m[X]:I[X],ie[q]=A?m[q]:I[X],v++}for(let F=0;F<=1;F++)for(let w=0;w<=1;w++)for(let A=0;A<=1;A++){r.x=F?I.x:m.x,r.y=w?I.y:m.y,r.z=A?I.z:m.z,this.closestPointToPoint(r,n);const S=r.distanceToSquared(n);if(S<C&&(C=S,c&&c.copy(n),u&&u.copy(r),S<d))return Math.sqrt(S)}for(let F=0;F<12;F++){const w=e[F];for(let A=0;A<12;A++){const S=t[A];Xo(w,S,n,r);const x=n.distanceToSquared(r);if(x<C&&(C=x,c&&c.copy(n),u&&u.copy(r),x<d))return Math.sqrt(x)}}return Math.sqrt(C)}}();class jo{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){const e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}}class Xh extends jo{constructor(){super(()=>new Ot)}}const pt=new Xh;function ct(l,e){return e[l+15]===65535}function lt(l,e){return e[l+6]}function ft(l,e){return e[l+14]}function mt(l){return l+8}function Et(l,e){return e[l+6]}function zc(l,e){return e[l+7]}class jh{constructor(){this.float32Array=null,this.uint16Array=null,this.uint32Array=null;const e=[];let t=null;this.setBuffer=n=>{t&&e.push(t),t=n,this.float32Array=new Float32Array(n),this.uint16Array=new Uint16Array(n),this.uint32Array=new Uint32Array(n)},this.clearBuffer=()=>{t=null,this.float32Array=null,this.uint16Array=null,this.uint32Array=null,e.length!==0&&this.setBuffer(e.pop())}}}const Ne=new jh;let on,ti;const zn=[],Ar=new jo(()=>new Xe);function Zh(l,e,t,n,r,s){on=Ar.getPrimitive(),ti=Ar.getPrimitive(),zn.push(on,ti),Ne.setBuffer(l._roots[e]);const o=Eo(0,l.geometry,t,n,r,s);Ne.clearBuffer(),Ar.releasePrimitive(on),Ar.releasePrimitive(ti),zn.pop(),zn.pop();const c=zn.length;return c>0&&(ti=zn[c-1],on=zn[c-2]),o}function Eo(l,e,t,n,r=null,s=0,o=0){const{float32Array:c,uint16Array:u,uint32Array:d}=Ne;let m=l*2;if(ct(m,u)){const I=lt(l,d),f=ft(m,u);return Ue(l,c,on),n(I,f,!1,o,s+l,on)}else{let I=function($){const{uint16Array:J,uint32Array:ie}=Ne;let ue=$*2;for(;!ct(ue,J);)$=mt($),ue=$*2;return lt($,ie)},f=function($){const{uint16Array:J,uint32Array:ie}=Ne;let ue=$*2;for(;!ct(ue,J);)$=Et($,ie),ue=$*2;return lt($,ie)+ft(ue,J)};const C=mt(l),v=Et(l,d);let F=C,w=v,A,S,x,y;if(r&&(x=on,y=ti,Ue(F,c,x),Ue(w,c,y),A=r(x),S=r(y),S<A)){F=v,w=C;const $=A;A=S,S=$,x=y}x||(x=on,Ue(F,c,x));const P=ct(F*2,u),Y=t(x,P,A,o+1,s+F);let k;if(Y===za){const $=I(F),J=f(F)-$;k=n($,J,!0,o+1,s+F,x)}else k=Y&&Eo(F,e,t,n,r,s,o+1);if(k)return!0;y=ti,Ue(w,c,y);const K=ct(w*2,u),X=t(y,K,S,o+1,s+w);let q;if(X===za){const $=I(w),J=f(w)-$;q=n($,J,!0,o+1,s+w,y)}else q=X&&Eo(w,e,t,n,r,s,o+1);return!!q}}const Ai=new H,qs=new H;function Qh(l,e,t={},n=0,r=1/0){const s=n*n,o=r*r;let c=1/0,u=null;if(l.shapecast({boundsTraverseOrder:m=>(Ai.copy(e).clamp(m.min,m.max),Ai.distanceToSquared(e)),intersectsBounds:(m,I,f)=>f<c&&f<o,intersectsTriangle:(m,I)=>{m.closestPointToPoint(e,Ai);const f=e.distanceToSquared(Ai);return f<c&&(qs.copy(Ai),c=f,u=I),f<s}}),c===1/0)return null;const d=Math.sqrt(c);return t.point?t.point.copy(qs):t.point=qs.clone(),t.distance=d,t.faceIndex=u,t}const Yn=new H,Vn=new H,kn=new H,Or=new Ze,Sr=new Ze,br=new Ze,Ha=new H,Ka=new H,Wa=new H,Pr=new H;function qh(l,e,t,n,r,s){let o;return s===ph?o=l.intersectTriangle(n,t,e,!0,r):o=l.intersectTriangle(e,t,n,s!==Xi,r),o===null?null:{distance:l.origin.distanceTo(r),point:r.clone()}}function Jh(l,e,t,n,r,s,o,c,u){Yn.fromBufferAttribute(e,s),Vn.fromBufferAttribute(e,o),kn.fromBufferAttribute(e,c);const d=qh(l,Yn,Vn,kn,Pr,u);if(d){n&&(Or.fromBufferAttribute(n,s),Sr.fromBufferAttribute(n,o),br.fromBufferAttribute(n,c),d.uv=ei.getInterpolation(Pr,Yn,Vn,kn,Or,Sr,br,new Ze)),r&&(Or.fromBufferAttribute(r,s),Sr.fromBufferAttribute(r,o),br.fromBufferAttribute(r,c),d.uv1=ei.getInterpolation(Pr,Yn,Vn,kn,Or,Sr,br,new Ze)),t&&(Ha.fromBufferAttribute(t,s),Ka.fromBufferAttribute(t,o),Wa.fromBufferAttribute(t,c),d.normal=ei.getInterpolation(Pr,Yn,Vn,kn,Ha,Ka,Wa,new H),d.normal.dot(l.direction)>0&&d.normal.multiplyScalar(-1));const m={a:s,b:o,c,normal:new H,materialIndex:0};ei.getNormal(Yn,Vn,kn,m.normal),d.face=m,d.faceIndex=s}return d}function rs(l,e,t,n,r){const s=n*3;let o=s+0,c=s+1,u=s+2;const d=l.index;l.index&&(o=d.getX(o),c=d.getX(c),u=d.getX(u));const{position:m,normal:I,uv:f,uv1:C}=l.attributes,v=Jh(t,m,I,f,C,o,c,u,e);return v?(v.faceIndex=n,r&&r.push(v),v):null}function ke(l,e,t,n){const r=l.a,s=l.b,o=l.c;let c=e,u=e+1,d=e+2;t&&(c=t.getX(c),u=t.getX(u),d=t.getX(d)),r.x=n.getX(c),r.y=n.getY(c),r.z=n.getZ(c),s.x=n.getX(u),s.y=n.getY(u),s.z=n.getZ(u),o.x=n.getX(d),o.y=n.getY(d),o.z=n.getZ(d)}function $h(l,e,t,n,r,s){const{geometry:o,_indirectBuffer:c}=l;for(let u=n,d=n+r;u<d;u++)rs(o,e,t,u,s)}function eu(l,e,t,n,r){const{geometry:s,_indirectBuffer:o}=l;let c=1/0,u=null;for(let d=n,m=n+r;d<m;d++){let I;I=rs(s,e,t,d),I&&I.distance<c&&(u=I,c=I.distance)}return u}function tu(l,e,t,n,r,s,o){const{geometry:c}=t,{index:u}=c,d=c.attributes.position;for(let m=l,I=e+l;m<I;m++){let f;if(f=m,ke(o,f*3,u,d),o.needsUpdate=!0,n(o,f,r,s))return!0}return!1}function nu(l,e=null){e&&Array.isArray(e)&&(e=new Set(e));const t=l.geometry,n=t.index?t.index.array:null,r=t.attributes.position;let s,o,c,u,d=0;const m=l._roots;for(let f=0,C=m.length;f<C;f++)s=m[f],o=new Uint32Array(s),c=new Uint16Array(s),u=new Float32Array(s),I(0,d),d+=s.byteLength;function I(f,C,v=!1){const F=f*2;if(c[F+15]===is){const w=o[f+6],A=c[F+14];let S=1/0,x=1/0,y=1/0,P=-1/0,Y=-1/0,k=-1/0;for(let K=3*w,X=3*(w+A);K<X;K++){let q=n[K];const $=r.getX(q),J=r.getY(q),ie=r.getZ(q);$<S&&(S=$),$>P&&(P=$),J<x&&(x=J),J>Y&&(Y=J),ie<y&&(y=ie),ie>k&&(k=ie)}return u[f+0]!==S||u[f+1]!==x||u[f+2]!==y||u[f+3]!==P||u[f+4]!==Y||u[f+5]!==k?(u[f+0]=S,u[f+1]=x,u[f+2]=y,u[f+3]=P,u[f+4]=Y,u[f+5]=k,!0):!1}else{const w=f+8,A=o[f+6],S=w+C,x=A+C;let y=v,P=!1,Y=!1;e?y||(P=e.has(S),Y=e.has(x),y=!P&&!Y):(P=!0,Y=!0);const k=y||P,K=y||Y;let X=!1;k&&(X=I(w,C,y));let q=!1;K&&(q=I(A,C,y));const $=X||q;if($)for(let J=0;J<3;J++){const ie=w+J,ue=A+J,Ee=u[ie],ve=u[ie+3],Ve=u[ue],Re=u[ue+3];u[f+J]=Ee<Ve?Ee:Ve,u[f+J+3]=ve>Re?ve:Re}return $}}}const Xa=new Xe;function ln(l,e,t,n){return Ue(l,e,Xa),t.intersectBox(Xa,n)}function iu(l,e,t,n,r,s){const{geometry:o,_indirectBuffer:c}=l;for(let u=n,d=n+r;u<d;u++){let m=c?c[u]:u;rs(o,e,t,m,s)}}function ru(l,e,t,n,r){const{geometry:s,_indirectBuffer:o}=l;let c=1/0,u=null;for(let d=n,m=n+r;d<m;d++){let I;I=rs(s,e,t,o?o[d]:d),I&&I.distance<c&&(u=I,c=I.distance)}return u}function su(l,e,t,n,r,s,o){const{geometry:c}=t,{index:u}=c,d=c.attributes.position;for(let m=l,I=e+l;m<I;m++){let f;if(f=t.resolveTriangleIndex(m),ke(o,f*3,u,d),o.needsUpdate=!0,n(o,f,r,s))return!0}return!1}const ja=new H;function ou(l,e,t,n,r){Ne.setBuffer(l._roots[e]),Io(0,l,t,n,r),Ne.clearBuffer()}function Io(l,e,t,n,r){const{float32Array:s,uint16Array:o,uint32Array:c}=Ne,u=l*2;if(ct(u,o)){const d=lt(l,c),m=ft(u,o);$h(e,t,n,d,m,r)}else{const d=mt(l);ln(d,s,n,ja)&&Io(d,e,t,n,r);const m=Et(l,c);ln(m,s,n,ja)&&Io(m,e,t,n,r)}}const Za=new H,au=["x","y","z"];function cu(l,e,t,n){Ne.setBuffer(l._roots[e]);const r=go(0,l,t,n);return Ne.clearBuffer(),r}function go(l,e,t,n){const{float32Array:r,uint16Array:s,uint32Array:o}=Ne;let c=l*2;if(ct(c,s)){const u=lt(l,o),d=ft(c,s);return eu(e,t,n,u,d)}else{const u=zc(l,o),d=au[u],m=n.direction[d]>=0;let I,f;m?(I=mt(l),f=Et(l,o)):(I=Et(l,o),f=mt(l));const C=ln(I,r,n,Za)?go(I,e,t,n):null;if(C){const F=C.point[d];if(m?F<=r[f+u]:F>=r[f+u+3])return C}const v=ln(f,r,n,Za)?go(f,e,t,n):null;return C&&v?C.distance<=v.distance?C:v:C||v||null}}const xr=new Xe,Gn=new Ot,Hn=new Ot,Oi=new Ie,Qa=new st,Nr=new st;function lu(l,e,t,n){Ne.setBuffer(l._roots[e]);const r=Co(0,l,t,n);return Ne.clearBuffer(),r}function Co(l,e,t,n,r=null){const{float32Array:s,uint16Array:o,uint32Array:c}=Ne;let u=l*2;if(r===null&&(t.boundingBox||t.computeBoundingBox(),Qa.set(t.boundingBox.min,t.boundingBox.max,n),r=Qa),ct(u,o)){const d=e.geometry,m=d.index,I=d.attributes.position,f=t.index,C=t.attributes.position,v=lt(l,c),F=ft(u,o);if(Oi.copy(n).invert(),t.boundsTree)return Ue(l,s,Nr),Nr.matrix.copy(Oi),Nr.needsUpdate=!0,t.boundsTree.shapecast({intersectsBounds:w=>Nr.intersectsBox(w),intersectsTriangle:w=>{w.a.applyMatrix4(n),w.b.applyMatrix4(n),w.c.applyMatrix4(n),w.needsUpdate=!0;for(let A=v*3,S=(F+v)*3;A<S;A+=3)if(ke(Hn,A,m,I),Hn.needsUpdate=!0,w.intersectsTriangle(Hn))return!0;return!1}});for(let w=v*3,A=(F+v)*3;w<A;w+=3){ke(Gn,w,m,I),Gn.a.applyMatrix4(Oi),Gn.b.applyMatrix4(Oi),Gn.c.applyMatrix4(Oi),Gn.needsUpdate=!0;for(let S=0,x=f.count;S<x;S+=3)if(ke(Hn,S,f,C),Hn.needsUpdate=!0,Gn.intersectsTriangle(Hn))return!0}}else{const d=l+8,m=c[l+6];return Ue(d,s,xr),!!(r.intersectsBox(xr)&&Co(d,e,t,n,r)||(Ue(m,s,xr),r.intersectsBox(xr)&&Co(m,e,t,n,r)))}}const Lr=new Ie,Js=new st,Si=new st,hu=new H,uu=new H,du=new H,pu=new H;function fu(l,e,t,n={},r={},s=0,o=1/0){e.boundingBox||e.computeBoundingBox(),Js.set(e.boundingBox.min,e.boundingBox.max,t),Js.needsUpdate=!0;const c=l.geometry,u=c.attributes.position,d=c.index,m=e.attributes.position,I=e.index,f=pt.getPrimitive(),C=pt.getPrimitive();let v=hu,F=uu,w=null,A=null;r&&(w=du,A=pu);let S=1/0,x=null,y=null;return Lr.copy(t).invert(),Si.matrix.copy(Lr),l.shapecast({boundsTraverseOrder:P=>Js.distanceToBox(P),intersectsBounds:(P,Y,k)=>k<S&&k<o?(Y&&(Si.min.copy(P.min),Si.max.copy(P.max),Si.needsUpdate=!0),!0):!1,intersectsRange:(P,Y)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:k=>Si.distanceToBox(k),intersectsBounds:(k,K,X)=>X<S&&X<o,intersectsRange:(k,K)=>{for(let X=k,q=k+K;X<q;X++){ke(C,3*X,I,m),C.a.applyMatrix4(t),C.b.applyMatrix4(t),C.c.applyMatrix4(t),C.needsUpdate=!0;for(let $=P,J=P+Y;$<J;$++){ke(f,3*$,d,u),f.needsUpdate=!0;const ie=f.distanceToTriangle(C,v,w);if(ie<S&&(F.copy(v),A&&A.copy(w),S=ie,x=$,y=X),ie<s)return!0}}}});{const k=oi(e);for(let K=0,X=k;K<X;K++){ke(C,3*K,I,m),C.a.applyMatrix4(t),C.b.applyMatrix4(t),C.c.applyMatrix4(t),C.needsUpdate=!0;for(let q=P,$=P+Y;q<$;q++){ke(f,3*q,d,u),f.needsUpdate=!0;const J=f.distanceToTriangle(C,v,w);if(J<S&&(F.copy(v),A&&A.copy(w),S=J,x=q,y=K),J<s)return!0}}}}}),pt.releasePrimitive(f),pt.releasePrimitive(C),S===1/0?null:(n.point?n.point.copy(F):n.point=F.clone(),n.distance=S,n.faceIndex=x,r&&(r.point?r.point.copy(A):r.point=A.clone(),r.point.applyMatrix4(Lr),F.applyMatrix4(Lr),r.distance=F.sub(r.point).length(),r.faceIndex=y),n)}function mu(l,e=null){e&&Array.isArray(e)&&(e=new Set(e));const t=l.geometry,n=t.index?t.index.array:null,r=t.attributes.position;let s,o,c,u,d=0;const m=l._roots;for(let f=0,C=m.length;f<C;f++)s=m[f],o=new Uint32Array(s),c=new Uint16Array(s),u=new Float32Array(s),I(0,d),d+=s.byteLength;function I(f,C,v=!1){const F=f*2;if(c[F+15]===is){const w=o[f+6],A=c[F+14];let S=1/0,x=1/0,y=1/0,P=-1/0,Y=-1/0,k=-1/0;for(let K=w,X=w+A;K<X;K++){const q=3*l.resolveTriangleIndex(K);for(let $=0;$<3;$++){let J=q+$;J=n?n[J]:J;const ie=r.getX(J),ue=r.getY(J),Ee=r.getZ(J);ie<S&&(S=ie),ie>P&&(P=ie),ue<x&&(x=ue),ue>Y&&(Y=ue),Ee<y&&(y=Ee),Ee>k&&(k=Ee)}}return u[f+0]!==S||u[f+1]!==x||u[f+2]!==y||u[f+3]!==P||u[f+4]!==Y||u[f+5]!==k?(u[f+0]=S,u[f+1]=x,u[f+2]=y,u[f+3]=P,u[f+4]=Y,u[f+5]=k,!0):!1}else{const w=f+8,A=o[f+6],S=w+C,x=A+C;let y=v,P=!1,Y=!1;e?y||(P=e.has(S),Y=e.has(x),y=!P&&!Y):(P=!0,Y=!0);const k=y||P,K=y||Y;let X=!1;k&&(X=I(w,C,y));let q=!1;K&&(q=I(A,C,y));const $=X||q;if($)for(let J=0;J<3;J++){const ie=w+J,ue=A+J,Ee=u[ie],ve=u[ie+3],Ve=u[ue],Re=u[ue+3];u[f+J]=Ee<Ve?Ee:Ve,u[f+J+3]=ve>Re?ve:Re}return $}}}const qa=new H;function Eu(l,e,t,n,r){Ne.setBuffer(l._roots[e]),To(0,l,t,n,r),Ne.clearBuffer()}function To(l,e,t,n,r){const{float32Array:s,uint16Array:o,uint32Array:c}=Ne,u=l*2;if(ct(u,o)){const d=lt(l,c),m=ft(u,o);iu(e,t,n,d,m,r)}else{const d=mt(l);ln(d,s,n,qa)&&To(d,e,t,n,r);const m=Et(l,c);ln(m,s,n,qa)&&To(m,e,t,n,r)}}const Ja=new H,Iu=["x","y","z"];function gu(l,e,t,n){Ne.setBuffer(l._roots[e]);const r=yo(0,l,t,n);return Ne.clearBuffer(),r}function yo(l,e,t,n){const{float32Array:r,uint16Array:s,uint32Array:o}=Ne;let c=l*2;if(ct(c,s)){const u=lt(l,o),d=ft(c,s);return ru(e,t,n,u,d)}else{const u=zc(l,o),d=Iu[u],m=n.direction[d]>=0;let I,f;m?(I=mt(l),f=Et(l,o)):(I=Et(l,o),f=mt(l));const C=ln(I,r,n,Ja)?yo(I,e,t,n):null;if(C){const F=C.point[d];if(m?F<=r[f+u]:F>=r[f+u+3])return C}const v=ln(f,r,n,Ja)?yo(f,e,t,n):null;return C&&v?C.distance<=v.distance?C:v:C||v||null}}const Mr=new Xe,Kn=new Ot,Wn=new Ot,bi=new Ie,$a=new st,Dr=new st;function Cu(l,e,t,n){Ne.setBuffer(l._roots[e]);const r=vo(0,l,t,n);return Ne.clearBuffer(),r}function vo(l,e,t,n,r=null){const{float32Array:s,uint16Array:o,uint32Array:c}=Ne;let u=l*2;if(r===null&&(t.boundingBox||t.computeBoundingBox(),$a.set(t.boundingBox.min,t.boundingBox.max,n),r=$a),ct(u,o)){const d=e.geometry,m=d.index,I=d.attributes.position,f=t.index,C=t.attributes.position,v=lt(l,c),F=ft(u,o);if(bi.copy(n).invert(),t.boundsTree)return Ue(l,s,Dr),Dr.matrix.copy(bi),Dr.needsUpdate=!0,t.boundsTree.shapecast({intersectsBounds:w=>Dr.intersectsBox(w),intersectsTriangle:w=>{w.a.applyMatrix4(n),w.b.applyMatrix4(n),w.c.applyMatrix4(n),w.needsUpdate=!0;for(let A=v,S=F+v;A<S;A++)if(ke(Wn,3*e.resolveTriangleIndex(A),m,I),Wn.needsUpdate=!0,w.intersectsTriangle(Wn))return!0;return!1}});for(let w=v,A=F+v;w<A;w++){const S=e.resolveTriangleIndex(w);ke(Kn,3*S,m,I),Kn.a.applyMatrix4(bi),Kn.b.applyMatrix4(bi),Kn.c.applyMatrix4(bi),Kn.needsUpdate=!0;for(let x=0,y=f.count;x<y;x+=3)if(ke(Wn,x,f,C),Wn.needsUpdate=!0,Kn.intersectsTriangle(Wn))return!0}}else{const d=l+8,m=c[l+6];return Ue(d,s,Mr),!!(r.intersectsBox(Mr)&&vo(d,e,t,n,r)||(Ue(m,s,Mr),r.intersectsBox(Mr)&&vo(m,e,t,n,r)))}}const Ur=new Ie,$s=new st,Pi=new st,Tu=new H,yu=new H,vu=new H,Ru=new H;function Fu(l,e,t,n={},r={},s=0,o=1/0){e.boundingBox||e.computeBoundingBox(),$s.set(e.boundingBox.min,e.boundingBox.max,t),$s.needsUpdate=!0;const c=l.geometry,u=c.attributes.position,d=c.index,m=e.attributes.position,I=e.index,f=pt.getPrimitive(),C=pt.getPrimitive();let v=Tu,F=yu,w=null,A=null;r&&(w=vu,A=Ru);let S=1/0,x=null,y=null;return Ur.copy(t).invert(),Pi.matrix.copy(Ur),l.shapecast({boundsTraverseOrder:P=>$s.distanceToBox(P),intersectsBounds:(P,Y,k)=>k<S&&k<o?(Y&&(Pi.min.copy(P.min),Pi.max.copy(P.max),Pi.needsUpdate=!0),!0):!1,intersectsRange:(P,Y)=>{if(e.boundsTree){const k=e.boundsTree;return k.shapecast({boundsTraverseOrder:K=>Pi.distanceToBox(K),intersectsBounds:(K,X,q)=>q<S&&q<o,intersectsRange:(K,X)=>{for(let q=K,$=K+X;q<$;q++){const J=k.resolveTriangleIndex(q);ke(C,3*J,I,m),C.a.applyMatrix4(t),C.b.applyMatrix4(t),C.c.applyMatrix4(t),C.needsUpdate=!0;for(let ie=P,ue=P+Y;ie<ue;ie++){const Ee=l.resolveTriangleIndex(ie);ke(f,3*Ee,d,u),f.needsUpdate=!0;const ve=f.distanceToTriangle(C,v,w);if(ve<S&&(F.copy(v),A&&A.copy(w),S=ve,x=ie,y=q),ve<s)return!0}}}})}else{const k=oi(e);for(let K=0,X=k;K<X;K++){ke(C,3*K,I,m),C.a.applyMatrix4(t),C.b.applyMatrix4(t),C.c.applyMatrix4(t),C.needsUpdate=!0;for(let q=P,$=P+Y;q<$;q++){const J=l.resolveTriangleIndex(q);ke(f,3*J,d,u),f.needsUpdate=!0;const ie=f.distanceToTriangle(C,v,w);if(ie<S&&(F.copy(v),A&&A.copy(w),S=ie,x=q,y=K),ie<s)return!0}}}}}),pt.releasePrimitive(f),pt.releasePrimitive(C),S===1/0?null:(n.point?n.point.copy(F):n.point=F.clone(),n.distance=S,n.faceIndex=x,r&&(r.point?r.point.copy(A):r.point=A.clone(),r.point.applyMatrix4(Ur),F.applyMatrix4(Ur),r.distance=F.sub(r.point).length(),r.faceIndex=y),n)}function wu(){return typeof SharedArrayBuffer<"u"}const Yi=new Ne.constructor,ns=new Ne.constructor,sn=new jo(()=>new Xe),Xn=new Xe,jn=new Xe,eo=new Xe,to=new Xe;let no=!1;function Au(l,e,t,n){if(no)throw new Error("MeshBVH: Recursive calls to bvhcast not supported.");no=!0;const r=l._roots,s=e._roots;let o,c=0,u=0;const d=new Ie().copy(t).invert();for(let m=0,I=r.length;m<I;m++){Yi.setBuffer(r[m]),u=0;const f=sn.getPrimitive();Ue(0,Yi.float32Array,f),f.applyMatrix4(d);for(let C=0,v=s.length;C<v&&(ns.setBuffer(s[m]),o=yt(0,0,t,d,n,c,u,0,0,f),ns.clearBuffer(),u+=s[C].length,!o);C++);if(sn.releasePrimitive(f),Yi.clearBuffer(),c+=r[m].length,o)break}return no=!1,o}function yt(l,e,t,n,r,s=0,o=0,c=0,u=0,d=null,m=!1){let I,f;m?(I=ns,f=Yi):(I=Yi,f=ns);const C=I.float32Array,v=I.uint32Array,F=I.uint16Array,w=f.float32Array,A=f.uint32Array,S=f.uint16Array,x=l*2,y=e*2,P=ct(x,F),Y=ct(y,S);let k=!1;if(Y&&P)m?k=r(lt(e,A),ft(e*2,S),lt(l,v),ft(l*2,F),u,o+e,c,s+l):k=r(lt(l,v),ft(l*2,F),lt(e,A),ft(e*2,S),c,s+l,u,o+e);else if(Y){const K=sn.getPrimitive();Ue(e,w,K),K.applyMatrix4(t);const X=mt(l),q=Et(l,v);Ue(X,C,Xn),Ue(q,C,jn);const $=K.intersectsBox(Xn),J=K.intersectsBox(jn);k=$&&yt(e,X,n,t,r,o,s,u,c+1,K,!m)||J&&yt(e,q,n,t,r,o,s,u,c+1,K,!m),sn.releasePrimitive(K)}else{const K=mt(e),X=Et(e,A);Ue(K,w,eo),Ue(X,w,to);const q=d.intersectsBox(eo),$=d.intersectsBox(to);if(q&&$)k=yt(l,K,t,n,r,s,o,c,u+1,d,m)||yt(l,X,t,n,r,s,o,c,u+1,d,m);else if(q)if(P)k=yt(l,K,t,n,r,s,o,c,u+1,d,m);else{const J=sn.getPrimitive();J.copy(eo).applyMatrix4(t);const ie=mt(l),ue=Et(l,v);Ue(ie,C,Xn),Ue(ue,C,jn);const Ee=J.intersectsBox(Xn),ve=J.intersectsBox(jn);k=Ee&&yt(K,ie,n,t,r,o,s,u,c+1,J,!m)||ve&&yt(K,ue,n,t,r,o,s,u,c+1,J,!m),sn.releasePrimitive(J)}else if($)if(P)k=yt(l,X,t,n,r,s,o,c,u+1,d,m);else{const J=sn.getPrimitive();J.copy(to).applyMatrix4(t);const ie=mt(l),ue=Et(l,v);Ue(ie,C,Xn),Ue(ue,C,jn);const Ee=J.intersectsBox(Xn),ve=J.intersectsBox(jn);k=Ee&&yt(X,ie,n,t,r,o,s,u,c+1,J,!m)||ve&&yt(X,ue,n,t,r,o,s,u,c+1,J,!m),sn.releasePrimitive(J)}}return k}const _r=new st,ec=new Xe;class Zo{static serialize(e,t={}){t={cloneBuffers:!0,...t};const n=e.geometry,r=e._roots,s=e._indirectBuffer,o=n.getIndex();let c;return t.cloneBuffers?c={roots:r.map(u=>u.slice()),index:o.array.slice(),indirectBuffer:s?s.slice():null}:c={roots:r,index:o.array,indirectBuffer:s},c}static deserialize(e,t,n={}){n={setIndex:!0,indirect:!!e.indirectBuffer,...n};const{index:r,roots:s,indirectBuffer:o}=e,c=new Zo(t,{...n,[js]:!0});if(c._roots=s,c._indirectBuffer=o||null,n.setIndex){const u=t.getIndex();if(u===null){const d=new Sn(e.index,1,!1);t.setIndex(d)}else u.array!==r&&(u.array.set(r),u.needsUpdate=!0)}return c}get indirect(){return!!this._indirectBuffer}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:Uc,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,indirect:!1,[js]:!1},t),t.useSharedArrayBuffer&&!wu())throw new Error("MeshBVH: SharedArrayBuffer is not available.");this.geometry=e,this._roots=null,this._indirectBuffer=null,t[js]||(Gh(this,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Xe)));const{_indirectBuffer:n}=this;this.resolveTriangleIndex=t.indirect?r=>n[r]:r=>r}refit(e=null){return(this.indirect?mu:nu)(this,e)}traverse(e,t=0){const n=this._roots[t],r=new Uint32Array(n),s=new Uint16Array(n);o(0);function o(c,u=0){const d=c*2,m=s[d+15]===is;if(m){const I=r[c+6],f=s[d+14];e(u,m,new Float32Array(n,c*4,6),I,f)}else{const I=c+Qr/4,f=r[c+6],C=r[c+7];e(u,m,new Float32Array(n,c*4,6),C)||(o(I,u+1),o(f,u+1))}}}raycast(e,t=Ua){const n=this._roots,r=this.geometry,s=[],o=t.isMaterial,c=Array.isArray(t),u=r.groups,d=o?t.side:t,m=this.indirect?Eu:ou;for(let I=0,f=n.length;I<f;I++){const C=c?t[u[I].materialIndex].side:d,v=s.length;if(m(this,I,C,e,s),c){const F=u[I].materialIndex;for(let w=v,A=s.length;w<A;w++)s[w].face.materialIndex=F}}return s}raycastFirst(e,t=Ua){const n=this._roots,r=this.geometry,s=t.isMaterial,o=Array.isArray(t);let c=null;const u=r.groups,d=s?t.side:t,m=this.indirect?gu:cu;for(let I=0,f=n.length;I<f;I++){const C=o?t[u[I].materialIndex].side:d,v=m(this,I,C,e);v!=null&&(c==null||v.distance<c.distance)&&(c=v,o&&(v.face.materialIndex=u[I].materialIndex))}return c}intersectsGeometry(e,t){let n=!1;const r=this._roots,s=this.indirect?Cu:lu;for(let o=0,c=r.length;o<c&&(n=s(this,o,e,t),!n);o++);return n}shapecast(e){const t=pt.getPrimitive(),n=this.indirect?su:tu;let{boundsTraverseOrder:r,intersectsBounds:s,intersectsRange:o,intersectsTriangle:c}=e;if(o&&c){const I=o;o=(f,C,v,F,w)=>I(f,C,v,F,w)?!0:n(f,C,this,c,v,F,t)}else o||(c?o=(I,f,C,v)=>n(I,f,this,c,C,v,t):o=(I,f,C)=>C);let u=!1,d=0;const m=this._roots;for(let I=0,f=m.length;I<f;I++){const C=m[I];if(u=Zh(this,I,s,o,r,d),u)break;d+=C.byteLength}return pt.releasePrimitive(t),u}bvhcast(e,t,n){let{intersectsRanges:r,intersectsTriangles:s}=n;const o=pt.getPrimitive(),c=this.geometry.index,u=this.geometry.attributes.position,d=this.indirect?v=>{const F=this.resolveTriangleIndex(v);ke(o,F*3,c,u)}:v=>{ke(o,v*3,c,u)},m=pt.getPrimitive(),I=e.geometry.index,f=e.geometry.attributes.position,C=e.indirect?v=>{const F=e.resolveTriangleIndex(v);ke(m,F*3,I,f)}:v=>{ke(m,v*3,I,f)};if(s){const v=(F,w,A,S,x,y,P,Y)=>{for(let k=A,K=A+S;k<K;k++){C(k),m.a.applyMatrix4(t),m.b.applyMatrix4(t),m.c.applyMatrix4(t),m.needsUpdate=!0;for(let X=F,q=F+w;X<q;X++)if(d(X),o.needsUpdate=!0,s(o,m,X,k,x,y,P,Y))return!0}return!1};if(r){const F=r;r=function(w,A,S,x,y,P,Y,k){return F(w,A,S,x,y,P,Y,k)?!0:v(w,A,S,x,y,P,Y,k)}}else r=v}return Au(this,e,t,r)}intersectsBox(e,t){return _r.set(e.min,e.max,t),_r.needsUpdate=!0,this.shapecast({intersectsBounds:n=>_r.intersectsBox(n),intersectsTriangle:n=>_r.intersectsTriangle(n)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,n={},r={},s=0,o=1/0){return(this.indirect?Fu:fu)(this,e,t,n,r,s,o)}closestPointToPoint(e,t={},n=0,r=1/0){return Qh(this,e,t,n,r)}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{Ue(0,new Float32Array(t),ec),e.union(ec)}),e}}function tc(l,e,t){return l===null||(l.point.applyMatrix4(e.matrixWorld),l.distance=l.point.distanceTo(t.ray.origin),l.object=e,l.distance<t.near||l.distance>t.far)?null:l}const io=new hh,nc=new Ie,Ou=ce.prototype.raycast;function Su(l,e){if(this.geometry.boundsTree){if(this.material===void 0)return;nc.copy(this.matrixWorld).invert(),io.copy(l.ray).applyMatrix4(nc);const t=this.geometry.boundsTree;if(l.firstHitOnly===!0){const n=tc(t.raycastFirst(io,this.material),this,l);n&&e.push(n)}else{const n=t.raycast(io,this.material);for(let r=0,s=n.length;r<s;r++){const o=tc(n[r],this,l);o&&e.push(o)}}}else Ou.call(this,l,e)}function bu(l){return this.boundsTree=new Zo(this,l),this.boundsTree}function Pu(){this.boundsTree=null}class ne{constructor(){T(this,"trigger",e=>{const t=this.handlers.slice(0);for(const n of t)n(e)}),T(this,"handlers",[])}add(e){this.handlers.push(e)}remove(e){this.handlers=this.handlers.filter(t=>t!==e)}reset(){this.handlers.length=0}}class wn{constructor(){T(this,"trigger",async e=>{const t=this.handlers.slice(0);for(const n of t)await n(e)}),T(this,"handlers",[])}add(e){this.handlers.push(e)}remove(e){this.handlers=this.handlers.filter(t=>t!==e)}reset(){this.handlers.length=0}}class Qo{constructor(e){T(this,"isDisposeable",()=>"dispose"in this&&"onDisposed"in this),T(this,"isResizeable",()=>"resize"in this&&"getSize"in this),T(this,"isUpdateable",()=>"onAfterUpdate"in this&&"onBeforeUpdate"in this&&"update"in this),T(this,"isHideable",()=>"visible"in this),T(this,"isConfigurable",()=>"setup"in this&&"config"in this&&"onSetup"in this),this.components=e}}class Ge extends Qo{}class qo extends Qo{constructor(e){super(e),T(this,"worlds",new Map),T(this,"onWorldChanged",new ne),T(this,"currentWorld",null),this.onWorldChanged.add(({world:t,action:n})=>{n==="removed"&&this.worlds.delete(t.uuid)})}}class xu extends qo{constructor(){super(...arguments),T(this,"hasCameraControls",()=>"controls"in this)}}class Nu extends qo{constructor(){super(...arguments),T(this,"onAfterUpdate",new ne),T(this,"onBeforeUpdate",new ne),T(this,"onDisposed",new ne),T(this,"onResize",new ne),T(this,"onClippingPlanesUpdated",new ne),T(this,"clippingPlanes",[])}updateClippingPlanes(){this.onClippingPlanesUpdated.trigger()}setPlane(e,t,n){t.isLocal=n;const r=this.clippingPlanes.indexOf(t);e&&r===-1?this.clippingPlanes.push(t):!e&&r>-1&&this.clippingPlanes.splice(r,1),this.three.clippingPlanes=this.clippingPlanes.filter(s=>!s.isLocal)}}const Yc=class Ro extends Ge{constructor(e){super(e),T(this,"_disposedComponents",new Set),T(this,"enabled",!0),e.add(Ro.uuid,this)}get(){return this._disposedComponents}destroy(e,t=!0,n=!0){e.removeFromParent();const r=e;r.dispose&&r.dispose(),this.disposeGeometryAndMaterials(e,t),n&&r.children&&r.children.length&&this.disposeChildren(r),e.children.length=0}disposeGeometry(e){const t=e;t.boundsTree&&t.disposeBoundsTree(),e.dispose()}disposeGeometryAndMaterials(e,t){const n=e;n.geometry&&this.disposeGeometry(n.geometry),t&&n.material&&Ro.disposeMaterial(n),n.material=[],n.geometry=null}disposeChildren(e){for(const t of e.children)this.destroy(t)}static disposeMaterial(e){if(e.material)if(Array.isArray(e.material))for(const t of e.material)t.dispose();else e.material.dispose()}};T(Yc,"uuid","76e9cd8e-ad8f-4753-9ef6-cbc60f7247fe");let ri=Yc;class Lu extends qo{constructor(e){super(e),T(this,"onDisposed",new ne)}dispose(){const e=this.components.get(ri);for(const t of this.three.children){const n=t;n.geometry&&e.destroy(n)}this.three.children=[],this.onDisposed.trigger(),this.onDisposed.reset()}}const qr=0,Mu=1,Du=new H,ic=new At,ro=new si,rc=new H,Br=new ei;class Uu{constructor(){this.tolerance=-1,this.faces=[],this.newFaces=[],this.assigned=new sc,this.unassigned=new sc,this.vertices=[]}setFromPoints(e){if(e.length>=4){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.vertices.push(new _u(e[t]));this.compute()}return this}setFromObject(e){const t=[];return e.updateMatrixWorld(!0),e.traverse(function(n){const r=n.geometry;if(r!==void 0){const s=r.attributes.position;if(s!==void 0)for(let o=0,c=s.count;o<c;o++){const u=new H;u.fromBufferAttribute(s,o).applyMatrix4(n.matrixWorld),t.push(u)}}}),this.setFromPoints(t)}containsPoint(e){const t=this.faces;for(let n=0,r=t.length;n<r;n++)if(t[n].distanceToPoint(e)>this.tolerance)return!1;return!0}intersectRay(e,t){const n=this.faces;let r=-1/0,s=1/0;for(let o=0,c=n.length;o<c;o++){const u=n[o],d=u.distanceToPoint(e.origin),m=u.normal.dot(e.direction);if(d>0&&m>=0)return null;const I=m!==0?-d/m:0;if(!(I<=0)&&(m>0?s=Math.min(I,s):r=Math.max(I,r),r>s))return null}return r!==-1/0?e.at(r,t):e.at(s,t),t}intersectsRay(e){return this.intersectRay(e,Du)!==null}makeEmpty(){return this.faces=[],this.vertices=[],this}addVertexToFace(e,t){return e.face=t,t.outside===null?this.assigned.append(e):this.assigned.insertBefore(t.outside,e),t.outside=e,this}removeVertexFromFace(e,t){return e===t.outside&&(e.next!==null&&e.next.face===t?t.outside=e.next:t.outside=null),this.assigned.remove(e),this}removeAllVerticesFromFace(e){if(e.outside!==null){const t=e.outside;let n=e.outside;for(;n.next!==null&&n.next.face===e;)n=n.next;return this.assigned.removeSubList(t,n),t.prev=n.next=null,e.outside=null,t}}deleteFaceVertices(e,t){const n=this.removeAllVerticesFromFace(e);if(n!==void 0)if(t===void 0)this.unassigned.appendChain(n);else{let r=n;do{const s=r.next;t.distanceToPoint(r.point)>this.tolerance?this.addVertexToFace(r,t):this.unassigned.append(r),r=s}while(r!==null)}return this}resolveUnassignedPoints(e){if(this.unassigned.isEmpty()===!1){let t=this.unassigned.first();do{const n=t.next;let r=this.tolerance,s=null;for(let o=0;o<e.length;o++){const c=e[o];if(c.mark===qr){const u=c.distanceToPoint(t.point);if(u>r&&(r=u,s=c),r>1e3*this.tolerance)break}}s!==null&&this.addVertexToFace(t,s),t=n}while(t!==null)}return this}computeExtremes(){const e=new H,t=new H,n=[],r=[];for(let s=0;s<3;s++)n[s]=r[s]=this.vertices[0];e.copy(this.vertices[0].point),t.copy(this.vertices[0].point);for(let s=0,o=this.vertices.length;s<o;s++){const c=this.vertices[s],u=c.point;for(let d=0;d<3;d++)u.getComponent(d)<e.getComponent(d)&&(e.setComponent(d,u.getComponent(d)),n[d]=c);for(let d=0;d<3;d++)u.getComponent(d)>t.getComponent(d)&&(t.setComponent(d,u.getComponent(d)),r[d]=c)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(e.x),Math.abs(t.x))+Math.max(Math.abs(e.y),Math.abs(t.y))+Math.max(Math.abs(e.z),Math.abs(t.z))),{min:n,max:r}}computeInitialHull(){const e=this.vertices,t=this.computeExtremes(),n=t.min,r=t.max;let s=0,o=0;for(let f=0;f<3;f++){const C=r[f].point.getComponent(f)-n[f].point.getComponent(f);C>s&&(s=C,o=f)}const c=n[o],u=r[o];let d,m;s=0,ic.set(c.point,u.point);for(let f=0,C=this.vertices.length;f<C;f++){const v=e[f];if(v!==c&&v!==u){ic.closestPointToPoint(v.point,!0,rc);const F=rc.distanceToSquared(v.point);F>s&&(s=F,d=v)}}s=-1,ro.setFromCoplanarPoints(c.point,u.point,d.point);for(let f=0,C=this.vertices.length;f<C;f++){const v=e[f];if(v!==c&&v!==u&&v!==d){const F=Math.abs(ro.distanceToPoint(v.point));F>s&&(s=F,m=v)}}const I=[];if(ro.distanceToPoint(m.point)<0){I.push(Rt.create(c,u,d),Rt.create(m,u,c),Rt.create(m,d,u),Rt.create(m,c,d));for(let f=0;f<3;f++){const C=(f+1)%3;I[f+1].getEdge(2).setTwin(I[0].getEdge(C)),I[f+1].getEdge(1).setTwin(I[C+1].getEdge(0))}}else{I.push(Rt.create(c,d,u),Rt.create(m,c,u),Rt.create(m,u,d),Rt.create(m,d,c));for(let f=0;f<3;f++){const C=(f+1)%3;I[f+1].getEdge(2).setTwin(I[0].getEdge((3-f)%3)),I[f+1].getEdge(0).setTwin(I[C+1].getEdge(1))}}for(let f=0;f<4;f++)this.faces.push(I[f]);for(let f=0,C=e.length;f<C;f++){const v=e[f];if(v!==c&&v!==u&&v!==d&&v!==m){s=this.tolerance;let F=null;for(let w=0;w<4;w++){const A=this.faces[w].distanceToPoint(v.point);A>s&&(s=A,F=this.faces[w])}F!==null&&this.addVertexToFace(v,F)}}return this}reindexFaces(){const e=[];for(let t=0;t<this.faces.length;t++){const n=this.faces[t];n.mark===qr&&e.push(n)}return this.faces=e,this}nextVertexToAdd(){if(this.assigned.isEmpty()===!1){let e,t=0;const n=this.assigned.first().face;let r=n.outside;do{const s=n.distanceToPoint(r.point);s>t&&(t=s,e=r),r=r.next}while(r!==null&&r.face===n);return e}}computeHorizon(e,t,n,r){this.deleteFaceVertices(n),n.mark=Mu;let s;t===null?s=t=n.getEdge(0):s=t.next;do{const o=s.twin,c=o.face;c.mark===qr&&(c.distanceToPoint(e)>this.tolerance?this.computeHorizon(e,o,c,r):r.push(s)),s=s.next}while(s!==t);return this}addAdjoiningFace(e,t){const n=Rt.create(e,t.tail(),t.head());return this.faces.push(n),n.getEdge(-1).setTwin(t.twin),n.getEdge(0)}addNewFaces(e,t){this.newFaces=[];let n=null,r=null;for(let s=0;s<t.length;s++){const o=t[s],c=this.addAdjoiningFace(e,o);n===null?n=c:c.next.setTwin(r),this.newFaces.push(c.face),r=c}return n.next.setTwin(r),this}addVertexToHull(e){const t=[];return this.unassigned.clear(),this.removeVertexFromFace(e,e.face),this.computeHorizon(e.point,null,e.face,t),this.addNewFaces(e,t),this.resolveUnassignedPoints(this.newFaces),this}cleanup(){return this.assigned.clear(),this.unassigned.clear(),this.newFaces=[],this}compute(){let e;for(this.computeInitialHull();(e=this.nextVertexToAdd())!==void 0;)this.addVertexToHull(e);return this.reindexFaces(),this.cleanup(),this}}class Rt{constructor(){this.normal=new H,this.midpoint=new H,this.area=0,this.constant=0,this.outside=null,this.mark=qr,this.edge=null}static create(e,t,n){const r=new Rt,s=new so(e,r),o=new so(t,r),c=new so(n,r);return s.next=c.prev=o,o.next=s.prev=c,c.next=o.prev=s,r.edge=s,r.compute()}getEdge(e){let t=this.edge;for(;e>0;)t=t.next,e--;for(;e<0;)t=t.prev,e++;return t}compute(){const e=this.edge.tail(),t=this.edge.head(),n=this.edge.next.head();return Br.set(e.point,t.point,n.point),Br.getNormal(this.normal),Br.getMidpoint(this.midpoint),this.area=Br.getArea(),this.constant=this.normal.dot(this.midpoint),this}distanceToPoint(e){return this.normal.dot(e)-this.constant}}class so{constructor(e,t){this.vertex=e,this.prev=null,this.next=null,this.twin=null,this.face=t}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){const e=this.head(),t=this.tail();return t!==null?t.point.distanceTo(e.point):-1}lengthSquared(){const e=this.head(),t=this.tail();return t!==null?t.point.distanceToSquared(e.point):-1}setTwin(e){return this.twin=e,e.twin=this,this}}class _u{constructor(e){this.point=e,this.prev=null,this.next=null,this.face=null}}class sc{constructor(){this.head=null,this.tail=null}first(){return this.head}last(){return this.tail}clear(){return this.head=this.tail=null,this}insertBefore(e,t){return t.prev=e.prev,t.next=e,t.prev===null?this.head=t:t.prev.next=t,e.prev=t,this}insertAfter(e,t){return t.prev=e,t.next=e.next,t.next===null?this.tail=t:t.next.prev=t,e.next=t,this}append(e){return this.head===null?this.head=e:this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e,this}appendChain(e){for(this.head===null?this.head=e:this.tail.next=e,e.prev=this.tail;e.next!==null;)e=e.next;return this.tail=e,this}remove(e){return e.prev===null?this.head=e.next:e.prev.next=e.next,e.next===null?this.tail=e.prev:e.next.prev=e.prev,this}removeSubList(e,t){return e.prev===null?this.head=t.next:e.prev.next=t.next,t.next===null?this.tail=e.prev:t.next.prev=e.prev,this}isEmpty(){return this.head===null}}const Fo=[2,2,1],wo=[1,0,0];function Dt(l,e){return l*3+e}function Bu(l){const e=l.elements;let t=0;for(let n=0;n<9;n++)t+=e[n]*e[n];return Math.sqrt(t)}function zu(l){const e=l.elements;let t=0;for(let n=0;n<3;n++){const r=e[Dt(Fo[n],wo[n])];t+=2*r*r}return Math.sqrt(t)}function Yu(l,e){let t=0,n=1;const r=l.elements;for(let d=0;d<3;d++){const m=Math.abs(r[Dt(Fo[d],wo[d])]);m>t&&(t=m,n=d)}let s=1,o=0;const c=wo[n],u=Fo[n];if(Math.abs(r[Dt(u,c)])>Number.EPSILON){const d=r[Dt(u,u)],m=r[Dt(c,c)],I=r[Dt(u,c)],f=(d-m)/2/I;let C;f<0?C=-1/(-f+Math.sqrt(1+f*f)):C=1/(f+Math.sqrt(1+f*f)),s=1/Math.sqrt(1+C*C),o=C*s}return e.identity(),e.elements[Dt(c,c)]=s,e.elements[Dt(u,u)]=s,e.elements[Dt(u,c)]=o,e.elements[Dt(c,u)]=-o,e}function Vu(l,e){let t=0,n=0;const r=10;e.unitary.identity(),e.diagonal.copy(l);const s=e.unitary,o=e.diagonal,c=new Fn,u=new Fn,d=Number.EPSILON*Bu(o);for(;n<r&&zu(o)>d;)Yu(o,c),u.copy(c).transpose(),o.multiply(c),o.premultiply(u),s.multiply(c),++t>2&&(n++,t=0);return e}function ku(l){const e=[];for(let Be=0;Be<l.length-2;Be+=3){const le=l[Be],De=l[Be+1],gt=l[Be+2];e.push(new H(le,De,gt))}const t=new Uu;t.setFromPoints(e);const n={unitary:new Fn,diagonal:new Fn},r=t.faces,s=[],o=[];for(let Be=0,le=r.length;Be<le;Be++){const De=r[Be];let gt=De.edge;s.length=0;do s.push(gt),gt=gt.next;while(gt!==De.edge);const Oe=s.length-2;for(let St=1,as=Oe;St<=as;St++){const Ct=s[0].vertex,ci=s[St+0].vertex,li=s[St+1].vertex;o.push(Ct.point.x,Ct.point.y,Ct.point.z),o.push(ci.point.x,ci.point.y,ci.point.z),o.push(li.point.x,li.point.y,li.point.z)}}const c=new H,u=new H,d=new H,m=new H,I=new H,f=new H,C=new H,v=new H;let F=0,w=0,A=0,S=0,x=0,y=0,P=0;for(let Be=0,le=o.length;Be<le;Be+=9){c.fromArray(o,Be),u.fromArray(o,Be+3),d.fromArray(o,Be+6),C.set(0,0,0),C.add(c).add(u).add(d).divideScalar(3),m.subVectors(u,c),I.subVectors(d,c);const De=f.crossVectors(m,I).length()/2;v.add(f.copy(C).multiplyScalar(De)),F+=De,w+=(9*C.x*C.x+c.x*c.x+u.x*u.x+d.x*d.x)*(De/12),A+=(9*C.x*C.y+c.x*c.y+u.x*u.y+d.x*d.y)*(De/12),S+=(9*C.x*C.z+c.x*c.z+u.x*u.z+d.x*d.z)*(De/12),x+=(9*C.y*C.y+c.y*c.y+u.y*u.y+d.y*d.y)*(De/12),y+=(9*C.y*C.z+c.y*c.z+u.y*u.z+d.y*d.z)*(De/12),P+=(9*C.z*C.z+c.z*c.z+u.z*u.z+d.z*d.z)*(De/12)}v.divideScalar(F),w/=F,A/=F,S/=F,x/=F,y/=F,P/=F,w-=v.x*v.x,A-=v.x*v.y,S-=v.x*v.z,x-=v.y*v.y,y-=v.y*v.z,P-=v.z*v.z;const Y=new Fn;Y.elements[0]=w,Y.elements[1]=A,Y.elements[2]=S,Y.elements[3]=A,Y.elements[4]=x,Y.elements[5]=y,Y.elements[6]=S,Y.elements[7]=y,Y.elements[8]=P,Vu(Y,n);const k=n.unitary,K=new H,X=new H,q=new H;k.extractBasis(K,X,q);let $=-1/0,J=-1/0,ie=-1/0,ue=1/0,Ee=1/0,ve=1/0;for(let Be=0,le=e.length;Be<le;Be++){const De=e[Be];$=Math.max(K.dot(De),$),J=Math.max(X.dot(De),J),ie=Math.max(q.dot(De),ie),ue=Math.min(K.dot(De),ue),Ee=Math.min(X.dot(De),Ee),ve=Math.min(q.dot(De),ve)}K.multiplyScalar(.5*(ue+$)),X.multiplyScalar(.5*(Ee+J)),q.multiplyScalar(.5*(ve+ie));const Ve=new H,Re=new H,nt=new Fn;Ve.add(K).add(X).add(q),Re.x=$-ue,Re.y=J-Ee,Re.z=ie-ve,Re.multiplyScalar(.5),nt.copy(k);const{x:je,y:It,z:xn}=Re,ht=new Ie;ht.makeScale(je*2,It*2,xn*2);const ai=new Ie;ai.makeTranslation(-je,-It,-xn);const hn=new Ie;hn.makeTranslation(Ve.x,Ve.y,Ve.z);const _t=new Ie;_t.setFromMatrix3(nt);const Bt=new Ie;return Bt.multiply(hn),Bt.multiply(_t),Bt.multiply(ai),Bt.multiply(ht),{center:Ve,halfSizes:Re,rotation:nt,transformation:Bt}}function Gu(l,e,t){const n=[l[0]-e[0],l[1]-e[1],l[2]-e[2]];return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]>0}class oc{static isTransparent(e){return e.transparent&&e.opacity<1}}const Ao=class We{static create(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return`${We._lut[e&255]+We._lut[e>>8&255]+We._lut[e>>16&255]+We._lut[e>>24&255]}-${We._lut[t&255]}${We._lut[t>>8&255]}-${We._lut[t>>16&15|64]}${We._lut[t>>24&255]}-${We._lut[n&63|128]}${We._lut[n>>8&255]}-${We._lut[n>>16&255]}${We._lut[n>>24&255]}${We._lut[r&255]}${We._lut[r>>8&255]}${We._lut[r>>16&255]}${We._lut[r>>24&255]}`.toLowerCase()}static validate(e){if(!We._pattern.test(e))throw new Error(`${e} is not a valid UUID v4.

- If you're the tool creator, you can take one from https://www.uuidgenerator.net/.

- If you're using a platform tool, verify the uuid isn't misspelled or contact the tool creator.`)}};T(Ao,"_pattern",/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/),T(Ao,"_lut",["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"]);let Jo=Ao;class up extends Ge{constructor(e,t){super(e),T(this,"onVertexFound",new ne),T(this,"onVertexLost",new ne),T(this,"components"),T(this,"_pickedPoint",null),T(this,"_config"),T(this,"_enabled",!1),T(this,"_workingPlane",null),T(this,"onDisposed",new ne),this.components=e,this.config={snapDistance:.25,showOnlyVertex:!1,...t},this.enabled=!1}set enabled(e){this._enabled=e,e||(this._pickedPoint=null)}get enabled(){return this._enabled}[Symbol.dispose](){throw new Error("Method not implemented.")}set workingPlane(e){this._workingPlane=e}get workingPlane(){return this._workingPlane}set config(e){this._config={...this._config,...e}}get config(){return this._config}dispose(){this.onVertexFound.reset(),this.onVertexLost.reset(),this.components=null,this.onDisposed.trigger(),this.onDisposed.reset()}get(e){if(!this.enabled)return this._pickedPoint;const t=this.components.get(Oo).get(e).castRay();if(!t)return this._pickedPoint!==null&&(this.onVertexLost.trigger(),this._pickedPoint=null),this._pickedPoint;const n=this.getClosestVertex(t);return n?!this.workingPlane||Math.abs(this.workingPlane.distanceToPoint(n))<.001?((this._pickedPoint===null||!this._pickedPoint.equals(n))&&(this._pickedPoint=n.clone(),this.onVertexFound.trigger(this._pickedPoint)),this._pickedPoint):(this._pickedPoint=null,this._pickedPoint):(this._pickedPoint!==null&&(this.onVertexLost.trigger(),this._pickedPoint=null),this._pickedPoint)}getClosestVertex(e){let t=new H,n=!1,r=Number.MAX_SAFE_INTEGER;const s=this.getVertices(e);return s==null||s.forEach(o=>{if(!o)return;const c=e.point.distanceTo(o);c>r||c>this._config.snapDistance||(n=!0,t=o,r=e.point.distanceTo(o))}),n?t:this.config.showOnlyVertex?null:e.point}getVertices(e){const t=e.object;if(!e.face||!t)return null;const n=t.geometry;return[this.getVertex(e.face.a,n),this.getVertex(e.face.b,n),this.getVertex(e.face.c,n)].map(r=>r==null?void 0:r.applyMatrix4(t.matrixWorld))}getVertex(e,t){if(e===void 0)return null;const n=t.attributes.position;return new H(n.getX(e),n.getY(e),n.getZ(e))}}const Vc=class kc{constructor(){T(this,"onDisposed",new ne),T(this,"list",new Map),T(this,"enabled",!1),T(this,"_clock"),T(this,"update",()=>{if(!this.enabled)return;const e=this._clock.getDelta();for(const[t,n]of this.list)n.enabled&&n.isUpdateable()&&n.update(e);requestAnimationFrame(this.update)}),this._clock=new Jl,kc.setupBVH()}add(e,t){if(this.list.has(e))throw new Error("You're trying to add a component that already exists in the components intance. Use Components.get() instead.");Jo.validate(e),this.list.set(e,t)}get(e){const t=e.uuid;if(!this.list.has(t)){const n=new e(this);return this.list.has(t)||this.add(t,n),n}return this.list.get(t)}init(){this.enabled=!0,this._clock.start(),this.update()}dispose(){this.enabled=!1;for(const[e,t]of this.list)t.enabled=!1,t.isDisposeable()&&t.dispose();this._clock.stop(),this.onDisposed.trigger(),this.onDisposed.reset()}static setupBVH(){An.prototype.computeBoundsTree=bu,An.prototype.disposeBoundsTree=Pu,ce.prototype.raycast=Su}};T(Vc,"release","1.4.21");let Hu=Vc;class Ku{constructor(e){T(this,"_event"),T(this,"_position",new Ze),T(this,"onDisposed",new ne),T(this,"updateMouseInfo",t=>{this._event=t}),this.dom=e,this.setupEvents(!0)}get position(){if(this._event){const e=this.dom.getBoundingClientRect();this._position.x=this.getPositionX(e,this._event),this._position.y=this.getPositionY(e,this._event)}return this._position}dispose(){this.setupEvents(!1),this.onDisposed.trigger(),this.onDisposed.reset()}getPositionY(e,t){return-((t.clientY-e.top)/(e.bottom-e.top))*2+1}getPositionX(e,t){return(t.clientX-e.left)/(e.right-e.left)*2-1}setupEvents(e){e?this.dom.addEventListener("mousemove",this.updateMouseInfo):this.dom.removeEventListener("mousemove",this.updateMouseInfo)}}class Wu{constructor(e,t){T(this,"enabled",!0),T(this,"components"),T(this,"onDisposed",new ne),T(this,"mouse"),T(this,"three",new Bo),T(this,"world");const n=t.renderer;if(!n)throw new Error("A renderer is needed for the raycaster to work!");this.world=t,this.mouse=new Ku(n.three.domElement),this.components=e}dispose(){this.mouse.dispose(),this.onDisposed.trigger(),this.onDisposed.reset()}castRay(e=Array.from(this.world.meshes)){if(!this.world)throw new Error("A world is needed to cast rays!");const t=this.world.camera.three;return this.three.setFromCamera(this.mouse.position,t),this.intersect(e)}castRayFromVector(e,t,n=Array.from(this.world.meshes)){return this.three.set(e,t),this.intersect(n)}intersect(e=Array.from(this.world.meshes)){const t=this.three.intersectObjects(e),n=this.filterClippingPlanes(t);return n.length>0?n[0]:null}filterClippingPlanes(e){if(!this.world.renderer)throw new Error("Renderer not found!");const t=this.world.renderer.three;if(!t.clippingPlanes)return e;const n=t.clippingPlanes;return e.length<=0||!n||(n==null?void 0:n.length)<=0?e:e.filter(r=>n.every(s=>s.distanceToPoint(r.point)>0))}}const Gc=class Hc extends Ge{constructor(e){super(e),T(this,"enabled",!0),T(this,"list",new Map),T(this,"onDisposed",new ne),e.add(Hc.uuid,this)}get(e){if(this.list.has(e.uuid))return this.list.get(e.uuid);const t=new Wu(this.components,e);return this.list.set(e.uuid,t),e.onDisposed.add(()=>{this.delete(e)}),t}delete(e){const t=this.list.get(e.uuid);t&&t.dispose(),this.list.delete(e.uuid)}dispose(){for(const[e,t]of this.list)t.dispose();this.list.clear(),this.onDisposed.trigger()}};T(Gc,"uuid","d5d8bdf0-db25-4952-b951-b643af207ace");let Oo=Gc;class Xu extends Qo{constructor(e){super(e),T(this,"meshes",new Set),T(this,"onAfterUpdate",new ne),T(this,"onBeforeUpdate",new ne),T(this,"enabled",!0),T(this,"uuid",Jo.create()),T(this,"onDisposed",new ne),T(this,"_scene"),T(this,"_camera"),T(this,"_renderer",null)}get scene(){if(!this._scene)throw new Error("No scene initialized!");return this._scene}set scene(e){this._scene=e,e.worlds.set(this.uuid,this),e.currentWorld=this,e.onWorldChanged.trigger({world:this,action:"added"})}get camera(){if(!this._camera)throw new Error("No camera initialized!");return this._camera}set camera(e){this._camera=e,e.worlds.set(this.uuid,this),e.currentWorld=this,e.onWorldChanged.trigger({world:this,action:"added"})}get renderer(){return this._renderer}set renderer(e){this._renderer=e,e&&(e.worlds.set(this.uuid,this),e.currentWorld=this,e.onWorldChanged.trigger({world:this,action:"added"}))}update(e){this.enabled&&(!this._scene||!this._camera||(this.scene.currentWorld=this,this.camera.currentWorld=this,this.renderer&&(this.renderer.currentWorld=this),this.onBeforeUpdate.trigger(),this.scene.isUpdateable()&&this.scene.update(e),this.camera.isUpdateable()&&this.camera.update(e),this.renderer&&this.renderer.update(e),this.onAfterUpdate.trigger()))}dispose(e=!0){if(this.enabled=!1,this.scene.onWorldChanged.trigger({world:this,action:"removed"}),this.camera.onWorldChanged.trigger({world:this,action:"removed"}),this.renderer&&this.renderer.onWorldChanged.trigger({world:this,action:"removed"}),e){const t=this.components.get(ri);this.scene.dispose(),this.camera.isDisposeable()&&this.camera.dispose(),this.renderer&&this.renderer.dispose();for(const n of this.meshes)t.destroy(n);this.meshes.clear()}this._scene=null,this._camera=null,this._renderer=null,this.onDisposed.trigger()}}class dp extends Lu{constructor(e){super(e),T(this,"isSetup",!1),T(this,"three"),T(this,"onSetup",new ne),T(this,"config",{directionalLight:{color:new Ht("white"),intensity:1.5,position:new H(5,10,3)},ambientLight:{color:new Ht("white"),intensity:1}}),this.three=new zo,this.three.background=new Ht(2107698)}setup(e){this.config={...this.config,...e};const t=new Wl(this.config.directionalLight.color,this.config.directionalLight.intensity);t.position.copy(this.config.directionalLight.position);const n=new Xl(this.config.ambientLight.color,this.config.ambientLight.intensity);this.three.add(t,n),this.isSetup=!0,this.onSetup.trigger(this)}}class pp extends Nu{constructor(e,t,n){super(e),T(this,"enabled",!0),T(this,"container"),T(this,"three"),T(this,"_canvas"),T(this,"_parameters"),T(this,"_resizeObserver",null),T(this,"onContainerUpdated",new ne),T(this,"resize",o=>{this.onContainerUpdated.trigger();const c=o?o.x:this.container.clientWidth,u=o?o.y:this.container.clientHeight;this.three.setSize(c,u),this.onResize.trigger(new Ze(c,u))}),T(this,"resizeEvent",()=>{this.resize()}),T(this,"onContextLost",o=>{o.preventDefault(),this.enabled=!1}),T(this,"onContextBack",()=>{this.three.setRenderTarget(null),this.three.dispose(),this.three=new $r({canvas:this._canvas,antialias:!0,alpha:!0,...this._parameters}),this.enabled=!0}),this.container=t,this._parameters=n,this.three=new $r({antialias:!0,alpha:!0,...n}),this.three.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.setupRenderer(),this.setupEvents(!0),this.resize(),this._canvas=this.three.domElement;const r=this.three.getContext(),{canvas:s}=r;s.addEventListener("webglcontextlost",this.onContextLost,!1),s.addEventListener("webglcontextrestored",this.onContextBack,!1)}update(){if(!this.enabled||!this.currentWorld)return;this.onBeforeUpdate.trigger(this);const e=this.currentWorld.scene.three,t=this.currentWorld.camera.three;this.three.render(e,t),this.onAfterUpdate.trigger(this)}dispose(){this.enabled=!1,this.setupEvents(!1),this.three.domElement.remove(),this.three.dispose(),this.onResize.reset(),this.onAfterUpdate.reset(),this.onBeforeUpdate.reset(),this.onDisposed.trigger(),this.onDisposed.reset()}getSize(){return new Ze(this.three.domElement.clientWidth,this.three.domElement.clientHeight)}setupEvents(e){const t=this.three.domElement.parentElement;if(!t)throw new Error("This renderer needs to have an HTML container!");this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null),window.removeEventListener("resize",this.resizeEvent),e&&(this._resizeObserver=new ResizeObserver(this.resizeEvent),this._resizeObserver.observe(t),this._resizeObserver.observe(document.body),window.addEventListener("resize",this.resizeEvent))}setupRenderer(){this.three.localClippingEnabled=!0,this.container&&this.container.appendChild(this.three.domElement),this.onContainerUpdated.trigger()}}/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const fe={LEFT:1,RIGHT:2,MIDDLE:4},Z=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),Zn={NONE:0,IN:1,OUT:-1};function Tn(l){return l.isPerspectiveCamera}function rn(l){return l.isOrthographicCamera}const Qn=Math.PI*2,ac=Math.PI/2,Kc=1e-5,xi=Math.PI/180;function vt(l,e,t){return Math.max(e,Math.min(t,l))}function Pe(l,e=Kc){return Math.abs(l)<e}function Se(l,e,t=Kc){return Pe(l-e,t)}function cc(l,e){return Math.round(l/e)*e}function Ni(l){return isFinite(l)?l:l<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Li(l){return Math.abs(l)<Number.MAX_VALUE?l:l*(1/0)}function zr(l,e,t,n,r=1/0,s){n=Math.max(1e-4,n);const o=2/n,c=o*s,u=1/(1+c+.48*c*c+.235*c*c*c);let d=l-e;const m=e,I=r*n;d=vt(d,-I,I),e=l-d;const f=(t.value+o*d)*s;t.value=(t.value-o*f)*u;let C=e+(d+f)*u;return m-l>0==C>m&&(C=m,t.value=(C-m)/s),C}function lc(l,e,t,n,r=1/0,s,o){n=Math.max(1e-4,n);const c=2/n,u=c*s,d=1/(1+u+.48*u*u+.235*u*u*u);let m=e.x,I=e.y,f=e.z,C=l.x-m,v=l.y-I,F=l.z-f;const w=m,A=I,S=f,x=r*n,y=x*x,P=C*C+v*v+F*F;if(P>y){const Ee=Math.sqrt(P);C=C/Ee*x,v=v/Ee*x,F=F/Ee*x}m=l.x-C,I=l.y-v,f=l.z-F;const Y=(t.x+c*C)*s,k=(t.y+c*v)*s,K=(t.z+c*F)*s;t.x=(t.x-c*Y)*d,t.y=(t.y-c*k)*d,t.z=(t.z-c*K)*d,o.x=m+(C+Y)*d,o.y=I+(v+k)*d,o.z=f+(F+K)*d;const X=w-l.x,q=A-l.y,$=S-l.z,J=o.x-w,ie=o.y-A,ue=o.z-S;return X*J+q*ie+$*ue>0&&(o.x=w,o.y=A,o.z=S,t.x=(o.x-w)/s,t.y=(o.y-A)/s,t.z=(o.z-S)/s),o}function oo(l,e){e.set(0,0),l.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=l.length,e.y/=l.length}function ao(l,e){return rn(l)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class ju{constructor(){this._listeners={}}addEventListener(e,t){const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners[e];if(n!==void 0){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const t=this._listeners[e.type];if(t!==void 0){e.target=this;const n=t.slice(0);for(let r=0,s=n.length;r<s;r++)n[r].call(this,e)}}}const Zu="2.7.3",Yr=1/8,Wc=typeof window<"u",Qu=Wc&&/Mac/.test(navigator.platform),qu=!(Wc&&"PointerEvent"in window);let de,hc,Vr,co,ot,me,we,qn,Mi,Nt,Lt,yn,uc,dc,dt,Di,Jn,pc,lo,fc,ho,uo,kr;class tt extends ju{static install(e){de=e.THREE,hc=Object.freeze(new de.Vector3(0,0,0)),Vr=Object.freeze(new de.Vector3(0,1,0)),co=Object.freeze(new de.Vector3(0,0,1)),ot=new de.Vector2,me=new de.Vector3,we=new de.Vector3,qn=new de.Vector3,Mi=new de.Vector3,Nt=new de.Vector3,Lt=new de.Vector3,yn=new de.Vector3,uc=new de.Vector3,dc=new de.Vector3,dt=new de.Spherical,Di=new de.Spherical,Jn=new de.Box3,pc=new de.Box3,lo=new de.Sphere,fc=new de.Quaternion,ho=new de.Quaternion,uo=new de.Matrix4,kr=new de.Raycaster}static get ACTION(){return Z}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=Z.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Zn.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new de.Vector3,this._focalOffsetVelocity=new de.Vector3,this._zoomVelocity={value:0},this._truckInternal=(y,P,Y)=>{let k,K;if(Tn(this._camera)){const X=me.copy(this._camera.position).sub(this._target),q=this._camera.getEffectiveFOV()*xi,$=X.length()*Math.tan(q*.5);k=this.truckSpeed*y*$/this._elementRect.height,K=this.truckSpeed*P*$/this._elementRect.height}else if(rn(this._camera)){const X=this._camera;k=y*(X.right-X.left)/X.zoom/this._elementRect.width,K=P*(X.top-X.bottom)/X.zoom/this._elementRect.height}else return;this.verticalDragToForward?(Y?this.setFocalOffset(this._focalOffsetEnd.x+k,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(k,0,!0),this.forward(-K,!0)):Y?this.setFocalOffset(this._focalOffsetEnd.x+k,this._focalOffsetEnd.y+K,this._focalOffsetEnd.z,!0):this.truck(k,K,!0)},this._rotateInternal=(y,P)=>{const Y=Qn*this.azimuthRotateSpeed*y/this._elementRect.height,k=Qn*this.polarRotateSpeed*P/this._elementRect.height;this.rotate(Y,k,!0)},this._dollyInternal=(y,P,Y)=>{const k=Math.pow(.95,-y*this.dollySpeed),K=this._sphericalEnd.radius,X=this._sphericalEnd.radius*k,q=vt(X,this.minDistance,this.maxDistance),$=q-X;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(X,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed($,!0),this._dollyToNoClamp(q,!0)):this._dollyToNoClamp(q,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?X:q)-K,this._dollyControlCoord.set(P,Y)),this._lastDollyDirection=Math.sign(-y)},this._zoomInternal=(y,P,Y)=>{const k=Math.pow(.95,y*this.dollySpeed),K=this._zoom,X=this._zoom*k;this.zoomTo(X,!0),this.dollyToCursor&&(this._changedZoom+=X-K,this._dollyControlCoord.set(P,Y))},typeof de>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new de.Quaternion().setFromUnitVectors(this._camera.up,Vr),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=Z.NONE,this._target=new de.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new de.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new de.Spherical().setFromVector3(me.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new de.Vector3,new de.Vector3,new de.Vector3,new de.Vector3],this._updateNearPlaneCorners(),this._boundary=new de.Box3(new de.Vector3(-1/0,-1/0,-1/0),new de.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new de.Vector2,this.mouseButtons={left:Z.ROTATE,middle:Z.DOLLY,right:Z.TRUCK,wheel:Tn(this._camera)?Z.DOLLY:rn(this._camera)?Z.ZOOM:Z.NONE},this.touches={one:Z.TOUCH_ROTATE,two:Tn(this._camera)?Z.TOUCH_DOLLY_TRUCK:rn(this._camera)?Z.TOUCH_ZOOM_TRUCK:Z.NONE,three:Z.TOUCH_TRUCK};const n=new de.Vector2,r=new de.Vector2,s=new de.Vector2,o=y=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const k=this._domElement.getBoundingClientRect(),K=y.clientX/k.width,X=y.clientY/k.height;if(K<this._interactiveArea.left||K>this._interactiveArea.right||X<this._interactiveArea.top||X>this._interactiveArea.bottom)return}const P=y.pointerType!=="mouse"?null:(y.buttons&fe.LEFT)===fe.LEFT?fe.LEFT:(y.buttons&fe.MIDDLE)===fe.MIDDLE?fe.MIDDLE:(y.buttons&fe.RIGHT)===fe.RIGHT?fe.RIGHT:null;if(P!==null){const k=this._findPointerByMouseButton(P);k&&this._disposePointer(k)}if((y.buttons&fe.LEFT)===fe.LEFT&&this._lockedPointer)return;const Y={pointerId:y.pointerId,clientX:y.clientX,clientY:y.clientY,deltaX:0,deltaY:0,mouseButton:P};this._activePointers.push(Y),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.addEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",m),this._isDragging=!0,F(y)},c=y=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const k=this._domElement.getBoundingClientRect(),K=y.clientX/k.width,X=y.clientY/k.height;if(K<this._interactiveArea.left||K>this._interactiveArea.right||X<this._interactiveArea.top||X>this._interactiveArea.bottom)return}const P=(y.buttons&fe.LEFT)===fe.LEFT?fe.LEFT:(y.buttons&fe.MIDDLE)===fe.MIDDLE?fe.MIDDLE:(y.buttons&fe.RIGHT)===fe.RIGHT?fe.RIGHT:null;if(P!==null){const k=this._findPointerByMouseButton(P);k&&this._disposePointer(k)}const Y={pointerId:1,clientX:y.clientX,clientY:y.clientY,deltaX:0,deltaY:0,mouseButton:(y.buttons&fe.LEFT)===fe.LEFT?fe.LEFT:(y.buttons&fe.MIDDLE)===fe.LEFT?fe.MIDDLE:(y.buttons&fe.RIGHT)===fe.LEFT?fe.RIGHT:null};this._activePointers.push(Y),this._domElement.ownerDocument.removeEventListener("mousemove",d),this._domElement.ownerDocument.removeEventListener("mouseup",I),this._domElement.ownerDocument.addEventListener("mousemove",d),this._domElement.ownerDocument.addEventListener("mouseup",I),this._isDragging=!0,F(y)},u=y=>{y.cancelable&&y.preventDefault();const P=y.pointerId,Y=this._lockedPointer||this._findPointerById(P);if(Y){if(Y.clientX=y.clientX,Y.clientY=y.clientY,Y.deltaX=y.movementX,Y.deltaY=y.movementY,this._state=0,y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(y.buttons&fe.LEFT)===fe.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(y.buttons&fe.MIDDLE)===fe.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(y.buttons&fe.RIGHT)===fe.RIGHT&&(this._state=this._state|this.mouseButtons.right);w()}},d=y=>{const P=this._lockedPointer||this._findPointerById(1);P&&(P.clientX=y.clientX,P.clientY=y.clientY,P.deltaX=y.movementX,P.deltaY=y.movementY,this._state=0,(this._lockedPointer||(y.buttons&fe.LEFT)===fe.LEFT)&&(this._state=this._state|this.mouseButtons.left),(y.buttons&fe.MIDDLE)===fe.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&fe.RIGHT)===fe.RIGHT&&(this._state=this._state|this.mouseButtons.right),w())},m=y=>{const P=this._findPointerById(y.pointerId);if(!(P&&P===this._lockedPointer)){if(P&&this._disposePointer(P),y.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=Z.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=Z.NONE;A()}},I=()=>{const y=this._findPointerById(1);y&&y===this._lockedPointer||(y&&this._disposePointer(y),this._state=Z.NONE,A())};let f=-1;const C=y=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===Z.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const X=this._domElement.getBoundingClientRect(),q=y.clientX/X.width,$=y.clientY/X.height;if(q<this._interactiveArea.left||q>this._interactiveArea.right||$<this._interactiveArea.top||$>this._interactiveArea.bottom)return}if(y.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Z.ROTATE||this.mouseButtons.wheel===Z.TRUCK){const X=performance.now();f-X<1e3&&this._getClientRect(this._elementRect),f=X}const P=Qu?-1:-3,Y=y.deltaMode===1?y.deltaY/P:y.deltaY/(P*10),k=this.dollyToCursor?(y.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,K=this.dollyToCursor?(y.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case Z.ROTATE:{this._rotateInternal(y.deltaX,y.deltaY),this._isUserControllingRotate=!0;break}case Z.TRUCK:{this._truckInternal(y.deltaX,y.deltaY,!1),this._isUserControllingTruck=!0;break}case Z.OFFSET:{this._truckInternal(y.deltaX,y.deltaY,!0),this._isUserControllingOffset=!0;break}case Z.DOLLY:{this._dollyInternal(-Y,k,K),this._isUserControllingDolly=!0;break}case Z.ZOOM:{this._zoomInternal(-Y,k,K),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},v=y=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===tt.ACTION.NONE){const P=y instanceof PointerEvent?y.pointerId:0,Y=this._findPointerById(P);Y&&this._disposePointer(Y),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.removeEventListener("mousemove",d),this._domElement.ownerDocument.removeEventListener("mouseup",I);return}y.preventDefault()}},F=y=>{if(this._enabled){if(oo(this._activePointers,ot),this._getClientRect(this._elementRect),n.copy(ot),r.copy(ot),this._activePointers.length>=2){const P=ot.x-this._activePointers[1].clientX,Y=ot.y-this._activePointers[1].clientY,k=Math.sqrt(P*P+Y*Y);s.set(0,k);const K=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,X=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(K,X)}if(this._state=0,!y)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in y&&y.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(y.buttons&fe.LEFT)===fe.LEFT&&(this._state=this._state|this.mouseButtons.left),(y.buttons&fe.MIDDLE)===fe.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(y.buttons&fe.RIGHT)===fe.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&Z.ROTATE)===Z.ROTATE||(this._state&Z.TOUCH_ROTATE)===Z.TOUCH_ROTATE||(this._state&Z.TOUCH_DOLLY_ROTATE)===Z.TOUCH_DOLLY_ROTATE||(this._state&Z.TOUCH_ZOOM_ROTATE)===Z.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&Z.TRUCK)===Z.TRUCK||(this._state&Z.TOUCH_TRUCK)===Z.TOUCH_TRUCK||(this._state&Z.TOUCH_DOLLY_TRUCK)===Z.TOUCH_DOLLY_TRUCK||(this._state&Z.TOUCH_ZOOM_TRUCK)===Z.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&Z.DOLLY)===Z.DOLLY||(this._state&Z.TOUCH_DOLLY)===Z.TOUCH_DOLLY||(this._state&Z.TOUCH_DOLLY_TRUCK)===Z.TOUCH_DOLLY_TRUCK||(this._state&Z.TOUCH_DOLLY_OFFSET)===Z.TOUCH_DOLLY_OFFSET||(this._state&Z.TOUCH_DOLLY_ROTATE)===Z.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&Z.ZOOM)===Z.ZOOM||(this._state&Z.TOUCH_ZOOM)===Z.TOUCH_ZOOM||(this._state&Z.TOUCH_ZOOM_TRUCK)===Z.TOUCH_ZOOM_TRUCK||(this._state&Z.TOUCH_ZOOM_OFFSET)===Z.TOUCH_ZOOM_OFFSET||(this._state&Z.TOUCH_ZOOM_ROTATE)===Z.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&Z.OFFSET)===Z.OFFSET||(this._state&Z.TOUCH_OFFSET)===Z.TOUCH_OFFSET||(this._state&Z.TOUCH_DOLLY_OFFSET)===Z.TOUCH_DOLLY_OFFSET||(this._state&Z.TOUCH_ZOOM_OFFSET)===Z.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})}},w=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,oo(this._activePointers,ot);const y=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,P=y?-y.deltaX:r.x-ot.x,Y=y?-y.deltaY:r.y-ot.y;if(r.copy(ot),((this._state&Z.ROTATE)===Z.ROTATE||(this._state&Z.TOUCH_ROTATE)===Z.TOUCH_ROTATE||(this._state&Z.TOUCH_DOLLY_ROTATE)===Z.TOUCH_DOLLY_ROTATE||(this._state&Z.TOUCH_ZOOM_ROTATE)===Z.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(P,Y),this._isUserControllingRotate=!0),(this._state&Z.DOLLY)===Z.DOLLY||(this._state&Z.ZOOM)===Z.ZOOM){const k=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,K=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0,X=this.dollyDragInverted?-1:1;(this._state&Z.DOLLY)===Z.DOLLY?(this._dollyInternal(X*Y*Yr,k,K),this._isUserControllingDolly=!0):(this._zoomInternal(X*Y*Yr,k,K),this._isUserControllingZoom=!0)}if((this._state&Z.TOUCH_DOLLY)===Z.TOUCH_DOLLY||(this._state&Z.TOUCH_ZOOM)===Z.TOUCH_ZOOM||(this._state&Z.TOUCH_DOLLY_TRUCK)===Z.TOUCH_DOLLY_TRUCK||(this._state&Z.TOUCH_ZOOM_TRUCK)===Z.TOUCH_ZOOM_TRUCK||(this._state&Z.TOUCH_DOLLY_OFFSET)===Z.TOUCH_DOLLY_OFFSET||(this._state&Z.TOUCH_ZOOM_OFFSET)===Z.TOUCH_ZOOM_OFFSET||(this._state&Z.TOUCH_DOLLY_ROTATE)===Z.TOUCH_DOLLY_ROTATE||(this._state&Z.TOUCH_ZOOM_ROTATE)===Z.TOUCH_ZOOM_ROTATE){const k=ot.x-this._activePointers[1].clientX,K=ot.y-this._activePointers[1].clientY,X=Math.sqrt(k*k+K*K),q=s.y-X;s.set(0,X);const $=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,J=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Z.TOUCH_DOLLY)===Z.TOUCH_DOLLY||(this._state&Z.TOUCH_DOLLY_ROTATE)===Z.TOUCH_DOLLY_ROTATE||(this._state&Z.TOUCH_DOLLY_TRUCK)===Z.TOUCH_DOLLY_TRUCK||(this._state&Z.TOUCH_DOLLY_OFFSET)===Z.TOUCH_DOLLY_OFFSET?(this._dollyInternal(q*Yr,$,J),this._isUserControllingDolly=!0):(this._zoomInternal(q*Yr,$,J),this._isUserControllingZoom=!0)}((this._state&Z.TRUCK)===Z.TRUCK||(this._state&Z.TOUCH_TRUCK)===Z.TOUCH_TRUCK||(this._state&Z.TOUCH_DOLLY_TRUCK)===Z.TOUCH_DOLLY_TRUCK||(this._state&Z.TOUCH_ZOOM_TRUCK)===Z.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(P,Y,!1),this._isUserControllingTruck=!0),((this._state&Z.OFFSET)===Z.OFFSET||(this._state&Z.TOUCH_OFFSET)===Z.TOUCH_OFFSET||(this._state&Z.TOUCH_DOLLY_OFFSET)===Z.TOUCH_DOLLY_OFFSET||(this._state&Z.TOUCH_ZOOM_OFFSET)===Z.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(P,Y,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},A=()=>{oo(this._activePointers,ot),r.copy(ot),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",d),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.removeEventListener("mouseup",I),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",S),this._domElement.ownerDocument.addEventListener("pointerlockerror",x),this._domElement.ownerDocument.addEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",m),F())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement.ownerDocument.removeEventListener("pointerlockerror",x))};const S=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},x=()=>{this.unlockPointer()};this._addAllEventListeners=y=>{this._domElement=y,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),qu&&this._domElement.addEventListener("mousedown",c),this._domElement.addEventListener("pointercancel",m),this._domElement.addEventListener("wheel",C,{passive:!1}),this._domElement.addEventListener("contextmenu",v)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",c),this._domElement.removeEventListener("pointercancel",m),this._domElement.removeEventListener("wheel",C,{passive:!1}),this._domElement.removeEventListener("contextmenu",v),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",d),this._domElement.ownerDocument.removeEventListener("pointerup",m),this._domElement.ownerDocument.removeEventListener("mouseup",I),this._domElement.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement.ownerDocument.removeEventListener("pointerlockerror",x))},this.cancel=()=>{this._state!==Z.NONE&&(this._state=Z.NONE,this._activePointers.length=0,A())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=vt(e.width,0,1),this._interactiveArea.height=vt(e.height,0,1),this._interactiveArea.x=vt(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=vt(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,n=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,n)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,n=!1){this._isUserControllingRotate=!1;const r=vt(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=vt(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,n||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!n||Se(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Se(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Zn.NONE,this._changedDolly=0,this._dollyToNoClamp(vt(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const n=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const s=this._collisionTest(),o=Se(s,this._spherical.radius);if(!(n>e)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,s)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const r=!t||Se(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(r)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(Mi).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const n=!t||Se(this._target.x,this._targetEnd.x,this.restThreshold)&&Se(this._target.y,this._targetEnd.y,this.restThreshold)&&Se(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=vt(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const n=!t||Se(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(n)}pan(e,t,n=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,n)}truck(e,t,n=!1){this._camera.updateMatrix(),Nt.setFromMatrixColumn(this._camera.matrix,0),Lt.setFromMatrixColumn(this._camera.matrix,1),Nt.multiplyScalar(e),Lt.multiplyScalar(-t);const r=me.copy(Nt).add(Lt),s=we.copy(this._targetEnd).add(r);return this.moveTo(s.x,s.y,s.z,n)}forward(e,t=!1){me.setFromMatrixColumn(this._camera.matrix,0),me.crossVectors(this._camera.up,me),me.multiplyScalar(e);const n=we.copy(this._targetEnd).add(me);return this.moveTo(n.x,n.y,n.z,t)}elevate(e,t=!1){return me.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+me.x,this._targetEnd.y+me.y,this._targetEnd.z+me.z,t)}moveTo(e,t,n,r=!1){this._isUserControllingTruck=!1;const s=me.set(e,t,n).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const o=!r||Se(this._target.x,this._targetEnd.x,this.restThreshold)&&Se(this._target.y,this._targetEnd.y,this.restThreshold)&&Se(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,t,n,r=!1){const s=me.set(e,t,n).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(s.x,s.y,s.z,r)}fitToBox(e,t,{cover:n=!1,paddingLeft:r=0,paddingRight:s=0,paddingBottom:o=0,paddingTop:c=0}={}){const u=[],d=e.isBox3?Jn.copy(e):Jn.setFromObject(e);d.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const m=cc(this._sphericalEnd.theta,ac),I=cc(this._sphericalEnd.phi,ac);u.push(this.rotateTo(m,I,t));const f=me.setFromSpherical(this._sphericalEnd).normalize(),C=fc.setFromUnitVectors(f,co),v=Se(Math.abs(f.y),1);v&&C.multiply(ho.setFromAxisAngle(Vr,m)),C.multiply(this._yAxisUpSpaceInverse);const F=pc.makeEmpty();we.copy(d.min).applyQuaternion(C),F.expandByPoint(we),we.copy(d.min).setX(d.max.x).applyQuaternion(C),F.expandByPoint(we),we.copy(d.min).setY(d.max.y).applyQuaternion(C),F.expandByPoint(we),we.copy(d.max).setZ(d.min.z).applyQuaternion(C),F.expandByPoint(we),we.copy(d.min).setZ(d.max.z).applyQuaternion(C),F.expandByPoint(we),we.copy(d.max).setY(d.min.y).applyQuaternion(C),F.expandByPoint(we),we.copy(d.max).setX(d.min.x).applyQuaternion(C),F.expandByPoint(we),we.copy(d.max).applyQuaternion(C),F.expandByPoint(we),F.min.x-=r,F.min.y-=o,F.max.x+=s,F.max.y+=c,C.setFromUnitVectors(co,f),v&&C.premultiply(ho.invert()),C.premultiply(this._yAxisUpSpace);const w=F.getSize(me),A=F.getCenter(we).applyQuaternion(C);if(Tn(this._camera)){const S=this.getDistanceToFitBox(w.x,w.y,w.z,n);u.push(this.moveTo(A.x,A.y,A.z,t)),u.push(this.dollyTo(S,t)),u.push(this.setFocalOffset(0,0,0,t))}else if(rn(this._camera)){const S=this._camera,x=S.right-S.left,y=S.top-S.bottom,P=n?Math.max(x/w.x,y/w.y):Math.min(x/w.x,y/w.y);u.push(this.moveTo(A.x,A.y,A.z,t)),u.push(this.zoomTo(P,t)),u.push(this.setFocalOffset(0,0,0,t))}return Promise.all(u)}fitToSphere(e,t){const n=[],r=e instanceof de.Sphere?lo.copy(e):tt.createBoundingSphere(e,lo);if(n.push(this.moveTo(r.center.x,r.center.y,r.center.z,t)),Tn(this._camera)){const s=this.getDistanceToFitSphere(r.radius);n.push(this.dollyTo(s,t))}else if(rn(this._camera)){const s=this._camera.right-this._camera.left,o=this._camera.top-this._camera.bottom,c=2*r.radius,u=Math.min(s/c,o/c);n.push(this.zoomTo(u,t))}return n.push(this.setFocalOffset(0,0,0,t)),Promise.all(n)}setLookAt(e,t,n,r,s,o,c=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Zn.NONE,this._changedDolly=0;const u=we.set(r,s,o),d=me.set(e,t,n);this._targetEnd.copy(u),this._sphericalEnd.setFromVector3(d.sub(u).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,c||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const m=!c||Se(this._target.x,this._targetEnd.x,this.restThreshold)&&Se(this._target.y,this._targetEnd.y,this.restThreshold)&&Se(this._target.z,this._targetEnd.z,this.restThreshold)&&Se(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Se(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Se(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(m)}lerpLookAt(e,t,n,r,s,o,c,u,d,m,I,f,C,v=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Zn.NONE,this._changedDolly=0;const F=me.set(r,s,o),w=we.set(e,t,n);dt.setFromVector3(w.sub(F).applyQuaternion(this._yAxisUpSpace));const A=qn.set(m,I,f),S=we.set(c,u,d);Di.setFromVector3(S.sub(A).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(F.lerp(A,C));const x=Di.theta-dt.theta,y=Di.phi-dt.phi,P=Di.radius-dt.radius;this._sphericalEnd.set(dt.radius+P*C,dt.phi+y*C,dt.theta+x*C),this.normalizeRotations(),this._needsUpdate=!0,v||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const Y=!v||Se(this._target.x,this._targetEnd.x,this.restThreshold)&&Se(this._target.y,this._targetEnd.y,this.restThreshold)&&Se(this._target.z,this._targetEnd.z,this.restThreshold)&&Se(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Se(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Se(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(Y)}setPosition(e,t,n,r=!1){return this.setLookAt(e,t,n,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,n,r=!1){const s=this.getPosition(me),o=this.setLookAt(s.x,s.y,s.z,e,t,n,r);return this._sphericalEnd.phi=vt(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,t,n,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,n),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const s=!r||Se(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Se(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Se(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,t,n){this._camera.updateMatrixWorld(),Nt.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Lt.setFromMatrixColumn(this._camera.matrixWorldInverse,1),yn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=me.set(e,t,n),s=r.distanceTo(this._camera.position),o=r.sub(this._camera.position);Nt.multiplyScalar(o.x),Lt.multiplyScalar(o.y),yn.multiplyScalar(o.z),me.copy(Nt).add(Lt).add(yn),me.z=me.z+s,this.dollyTo(s,!1),this.setFocalOffset(-me.x,me.y,-me.z,!1),this.moveTo(e,t,n,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,n,r){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new de.Vector4,typeof e=="number"?this._viewport.set(e,t,n,r):this._viewport.copy(e)}getDistanceToFitBox(e,t,n,r=!1){if(ao(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/t,o=this._camera.getEffectiveFOV()*xi,c=this._camera.aspect;return((r?s>c:s<c)?t:e/c)*.5/Math.tan(o*.5)+n*.5}getDistanceToFitSphere(e){if(ao(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*xi,n=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?t:n;return e/Math.sin(r*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new de.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new de.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e&&e instanceof de.Spherical?e:new de.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new de.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Qn,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Qn),this._spherical.theta+=Qn*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Qn)}reset(e=!1){if(!Se(this._camera.up.x,this._cameraUp0.x)||!Se(this._camera.up.y,this._cameraUp0.y)||!Se(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const n=this.getPosition(me);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Vr),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=me.subVectors(this._target,this._camera.position).normalize(),t=we.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const n=this.getPosition(me);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,s=uc.subVectors(this._targetEnd,this._target),o=dc.subVectors(this._focalOffsetEnd,this._focalOffset),c=this._zoomEnd-this._zoom;if(Pe(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const m=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=zr(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,m,1/0,e),this._needsUpdate=!0}if(Pe(n))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const m=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=zr(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,m,1/0,e),this._needsUpdate=!0}if(Pe(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const m=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=zr(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,m,this.maxSpeed,e),this._needsUpdate=!0}if(Pe(s.x)&&Pe(s.y)&&Pe(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const m=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;lc(this._target,this._targetEnd,this._targetVelocity,m,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(Pe(o.x)&&Pe(o.y)&&Pe(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const m=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;lc(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,m,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(Pe(c))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const m=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=zr(this._zoom,this._zoomEnd,this._zoomVelocity,m,1/0,e)}if(this.dollyToCursor){if(Tn(this._camera)&&this._changedDolly!==0){const m=this._spherical.radius-this._lastDistance,I=this._camera,f=this._getCameraDirection(Mi),C=me.copy(f).cross(I.up).normalize();C.lengthSq()===0&&(C.x=1);const v=we.crossVectors(C,f),F=this._sphericalEnd.radius*Math.tan(I.getEffectiveFOV()*xi*.5),w=(this._sphericalEnd.radius-m-this._sphericalEnd.radius)/this._sphericalEnd.radius,A=qn.copy(this._targetEnd).add(C.multiplyScalar(this._dollyControlCoord.x*F*I.aspect)).add(v.multiplyScalar(this._dollyControlCoord.y*F)),S=me.copy(this._targetEnd).lerp(A,w),x=this._lastDollyDirection===Zn.IN&&this._spherical.radius<=this.minDistance,y=this._lastDollyDirection===Zn.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(x||y)){this._sphericalEnd.radius-=m,this._spherical.radius-=m;const Y=we.copy(f).multiplyScalar(-m);S.add(Y)}this._boundary.clampPoint(S,S);const P=we.subVectors(S,this._targetEnd);this._targetEnd.copy(S),this._target.add(P),this._changedDolly-=m,Pe(this._changedDolly)&&(this._changedDolly=0)}else if(rn(this._camera)&&this._changedZoom!==0){const m=this._zoom-this._lastZoom,I=this._camera,f=me.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(I.near+I.far)/(I.near-I.far)).unproject(I),C=we.set(0,0,-1).applyQuaternion(I.quaternion),v=qn.copy(f).add(C.multiplyScalar(-f.dot(I.up))),F=-(this._zoom-m-this._zoom)/this._zoom,w=this._getCameraDirection(Mi),A=this._targetEnd.dot(w),S=me.copy(this._targetEnd).lerp(v,F),x=S.dot(w),y=w.multiplyScalar(x-A);S.sub(y),this._boundary.clampPoint(S,S);const P=we.subVectors(S,this._targetEnd);this._targetEnd.copy(S),this._target.add(P),this._changedZoom-=m,Pe(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const u=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,u),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Pe(this._focalOffset.x)||!Pe(this._focalOffset.y)||!Pe(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Nt.setFromMatrixColumn(this._camera.matrix,0),Lt.setFromMatrixColumn(this._camera.matrix,1),yn.setFromMatrixColumn(this._camera.matrix,2),Nt.multiplyScalar(this._focalOffset.x),Lt.multiplyScalar(-this._focalOffset.y),yn.multiplyScalar(this._focalOffset.z),me.copy(Nt).add(Lt).add(yn),this._camera.position.add(me)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),me.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const d=this._needsUpdate;return d&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):d?(this.dispatchEvent({type:"update"}),Pe(t,this.restThreshold)&&Pe(n,this.restThreshold)&&Pe(r,this.restThreshold)&&Pe(s.x,this.restThreshold)&&Pe(s.y,this.restThreshold)&&Pe(s.z,this.restThreshold)&&Pe(o.x,this.restThreshold)&&Pe(o.y,this.restThreshold)&&Pe(o.z,this.restThreshold)&&Pe(c,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!d&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=d,this._needsUpdate=!1,d}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Ni(this.maxDistance),minZoom:this.minZoom,maxZoom:Ni(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Ni(this.maxPolarAngle),minAzimuthAngle:Ni(this.minAzimuthAngle),maxAzimuthAngle:Ni(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:me.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const n=JSON.parse(e);this.enabled=n.enabled,this.minDistance=n.minDistance,this.maxDistance=Li(n.maxDistance),this.minZoom=n.minZoom,this.maxZoom=Li(n.maxZoom),this.minPolarAngle=n.minPolarAngle,this.maxPolarAngle=Li(n.maxPolarAngle),this.minAzimuthAngle=Li(n.minAzimuthAngle),this.maxAzimuthAngle=Li(n.maxAzimuthAngle),this.smoothTime=n.smoothTime,this.draggingSmoothTime=n.draggingSmoothTime,this.dollySpeed=n.dollySpeed,this.truckSpeed=n.truckSpeed,this.dollyToCursor=n.dollyToCursor,this.verticalDragToForward=n.verticalDragToForward,this._target0.fromArray(n.target0),this._position0.fromArray(n.position0),this._zoom0=n.zoom0,this._focalOffset0.fromArray(n.focalOffset0),this.moveTo(n.target[0],n.target[1],n.target[2],t),dt.setFromVector3(me.fromArray(n.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(dt.theta,dt.phi,t),this.dollyTo(dt.radius,t),this.zoomTo(n.zoom,t),this.setFocalOffset(n.focalOffset[0],n.focalOffset[1],n.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",Zu),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,n){const r=t.lengthSq();if(r===0)return e;const s=we.copy(t).add(e),o=this._boundary.clampPoint(s,qn).sub(s),c=o.lengthSq();if(c===0)return e.add(t);if(c===r)return e;if(n===0)return e.add(t).add(o);{const u=1+n*c/t.dot(o);return e.add(we.copy(t).multiplyScalar(u)).add(o.multiplyScalar(1-n))}}_updateNearPlaneCorners(){if(Tn(this._camera)){const e=this._camera,t=e.near,n=e.getEffectiveFOV()*xi,r=Math.tan(n*.5)*t,s=r*e.aspect;this._nearPlaneCorners[0].set(-s,-r,0),this._nearPlaneCorners[1].set(s,-r,0),this._nearPlaneCorners[2].set(s,r,0),this._nearPlaneCorners[3].set(-s,r,0)}else if(rn(this._camera)){const e=this._camera,t=1/e.zoom,n=e.left*t,r=e.right*t,s=e.top*t,o=e.bottom*t;this._nearPlaneCorners[0].set(n,s,0),this._nearPlaneCorners[1].set(r,s,0),this._nearPlaneCorners[2].set(r,o,0),this._nearPlaneCorners[3].set(n,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||ao(this._camera,"_collisionTest"))return e;const t=this._getTargetDirection(Mi);uo.lookAt(hc,t,this._camera.up);for(let n=0;n<4;n++){const r=we.copy(this._nearPlaneCorners[n]);r.applyMatrix4(uo);const s=qn.addVectors(this._target,r);kr.set(s,t),kr.far=this._spherical.radius+1;const o=kr.intersectObjects(this.colliderMeshes);o.length!==0&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const n=()=>{this.removeEventListener("rest",n),t()};this.addEventListener("rest",n)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new de.Sphere){const n=t,r=n.center;Jn.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Jn.expandByObject(o)}),Jn.getCenter(r);let s=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const c=o,u=c.geometry.clone();u.applyMatrix4(c.matrixWorld);const d=u.attributes.position;for(let m=0,I=d.count;m<I;m++)me.fromBufferAttribute(d,m),s=Math.max(s,r.distanceToSquared(me))}),n.radius=Math.sqrt(s),n}}class Vi extends xu{constructor(e){super(e),T(this,"onBeforeUpdate",new ne),T(this,"onAfterUpdate",new ne),T(this,"onAspectUpdated",new ne),T(this,"onDisposed",new ne),T(this,"three"),T(this,"_allControls",new Map),T(this,"updateAspect",()=>{var t;if(!(!this.currentWorld||!this.currentWorld.renderer)&&!(this.three instanceof Wi)&&(t=this.currentWorld.renderer)!=null&&t.isResizeable()){const n=this.currentWorld.renderer.getSize();this.three.aspect=n.width/n.height,this.three.updateProjectionMatrix(),this.onAspectUpdated.trigger()}}),this.three=this.setupCamera(),this.setupEvents(!0),this.onWorldChanged.add(({action:t,world:n})=>{if(t==="added"){const r=this.newCameraControls();this._allControls.set(n.uuid,r)}if(t==="removed"){const r=this._allControls.get(n.uuid);r&&(r.dispose(),this._allControls.delete(n.uuid))}})}get controls(){if(!this.currentWorld)throw new Error("This camera needs a world to work!");const e=this._allControls.get(this.currentWorld.uuid);if(!e)throw new Error("Controls not found!");return e}get enabled(){return this.currentWorld===null?!1:this.controls.enabled}set enabled(e){this.controls.enabled=e}dispose(){this.setupEvents(!1),this.enabled=!1,this.onAspectUpdated.reset(),this.onBeforeUpdate.reset(),this.onAfterUpdate.reset(),this.three.removeFromParent(),this.onDisposed.trigger(),this.onDisposed.reset();for(const[e,t]of this._allControls)t.dispose()}update(e){this.enabled&&(this.onBeforeUpdate.trigger(this),this.controls.update(e),this.onAfterUpdate.trigger(this))}setupCamera(){const e=window.innerWidth/window.innerHeight,t=new jl(60,e,1,1e3);return t.position.set(50,50,50),t.lookAt(new H(0,0,0)),t}newCameraControls(){if(!this.currentWorld)throw new Error("This camera needs a world to work!");if(!this.currentWorld.renderer)throw new Error("This camera needs a renderer to work!");tt.install({THREE:Vi.getSubsetOfThree()});const{domElement:e}=this.currentWorld.renderer.three,t=new tt(this.three,e);return t.smoothTime=.2,t.dollyToCursor=!0,t.infinityDolly=!0,t}setupEvents(e){e?window.addEventListener("resize",this.updateAspect):window.removeEventListener("resize",this.updateAspect)}static getSubsetOfThree(){return{MOUSE:Zl,Vector2:Ze,Vector3:H,Vector4:Ql,Quaternion:wt,Matrix4:Ie,Spherical:ql,Box3:Xe,Sphere:Ki,Raycaster:Bo,MathUtils:wc}}}const Xc=class jc extends Ge{constructor(e){super(e),T(this,"onAfterUpdate",new ne),T(this,"onBeforeUpdate",new ne),T(this,"onDisposed",new ne),T(this,"list",new Map),T(this,"enabled",!0),e.add(jc.uuid,this)}create(){const e=new Xu(this.components),t=e.uuid;if(this.list.has(t))throw new Error("There is already a world with this name!");return this.list.set(t,e),e}delete(e){this.list.delete(e.uuid),e.dispose()}dispose(){this.enabled=!1;for(const[e,t]of this.list)t.dispose();this.list.clear(),this.onDisposed.trigger()}update(e){if(this.enabled)for(const[t,n]of this.list)n.update(e)}};T(Xc,"uuid","fdb61dc4-2ec1-4966-b83d-54ea795fad4a");let Ju=Xc;class $u{constructor(e,t,n){T(this,"onDisposed",new ne),T(this,"world"),T(this,"components"),T(this,"_grid"),T(this,"_fade",3),T(this,"updateZoom",()=>{this.world.camera instanceof Vi&&(this.material.uniforms.uZoom.value=this.world.camera.three.zoom)}),this.world=t;const{color:r,size1:s,size2:o,distance:c}=n;this.components=e;const u=new Yo(2,2,1,1),d=new nn({side:Xi,uniforms:{uSize1:{value:s},uSize2:{value:o},uColor:{value:r},uDistance:{value:c},uFade:{value:this._fade},uZoom:{value:1}},transparent:!0,vertexShader:`
            
            varying vec3 worldPosition;
            
            uniform float uDistance;
            
            void main() {
            
                    vec3 pos = position.xzy * uDistance;
                    pos.xz += cameraPosition.xz;
                    
                    worldPosition = pos;
                    
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
            
            }
            `,fragmentShader:`
            
            varying vec3 worldPosition;
            
            uniform float uZoom;
            uniform float uFade;
            uniform float uSize1;
            uniform float uSize2;
            uniform vec3 uColor;
            uniform float uDistance;
                
                
                
                float getGrid(float size) {
                
                    vec2 r = worldPosition.xz / size;
                    
                    
                    vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
                    float line = min(grid.x, grid.y);
                    
                
                    return 1.0 - min(line, 1.0);
                }
                
            void main() {
            
                    
                    float d = 1.0 - min(distance(cameraPosition.xz, worldPosition.xz) / uDistance, 1.0);
                    
                    float g1 = getGrid(uSize1);
                    float g2 = getGrid(uSize2);
                    
                    // Ortho camera fades the grid away when zooming out
                    float minZoom = step(0.2, uZoom);
                    float zoomFactor = pow(min(uZoom, 1.), 2.) * minZoom;
                    
                    gl_FragColor = vec4(uColor.rgb, mix(g2, g1, g1) * pow(d, uFade));
                    gl_FragColor.a = mix(0.5 * gl_FragColor.a, gl_FragColor.a, g2) * zoomFactor;
                    
                    if ( gl_FragColor.a <= 0.0 ) discard;
                    
            
            }
            
            `,extensions:{derivatives:!0}});this._grid=new ce(u,d),this._grid.frustumCulled=!1,t.scene.three.add(this._grid),this.setupEvents(!0)}get visible(){return this._grid.visible}set visible(e){e?this.world.scene.three.add(this._grid):this._grid.removeFromParent()}get material(){return this._grid.material}get fade(){return this._fade===3}set fade(e){this._fade=e?3:0,this.material.uniforms.uFade.value=this._fade}[Symbol.dispose](){throw new Error("Method not implemented.")}get(){return this._grid}dispose(){this.setupEvents(!1),this.components.get(ri).destroy(this._grid),this.onDisposed.trigger(),this.onDisposed.reset(),this.world=null,this.components=null}setupEvents(e){if(!(this.world.camera instanceof Vi))return;const t=this.world.camera.controls;e?t.addEventListener("update",this.updateZoom):t.removeEventListener("update",this.updateZoom)}}class ed extends Ge{constructor(){super(...arguments),T(this,"list",new Map),T(this,"onDisposed",new ne),T(this,"config",{color:new Ht(12303291),size1:1,size2:10,distance:500}),T(this,"enabled",!0)}create(e){if(this.list.has(e.uuid))throw new Error("This world already has a grid!");const t=new $u(this.components,e,this.config);this.list.set(e.uuid,t),e.onDisposed.add(()=>{this.delete(e)})}delete(e){const t=this.list.get(e.uuid);t&&t.dispose(),this.list.delete(e.uuid)}dispose(){for(const[e,t]of this.list)t.dispose();this.list.clear(),this.onDisposed.trigger()}}T(ed,"uuid","d1e814d5-b81c-4452-87a2-f039375e0489");const vn=new Bo,et=new H,tn=new H,Me=new wt,mc={X:new H(1,0,0),Y:new H(0,1,0),Z:new H(0,0,1)},po={type:"change"},Ec={type:"mouseDown"},Ic={type:"mouseUp",mode:null},gc={type:"objectChange"};class td extends es{constructor(e,t){super(),t===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),this.isTransformControls=!0,this.visible=!1,this.domElement=t,this.domElement.style.touchAction="none";const n=new ad;this._gizmo=n,this.add(n);const r=new cd;this._plane=r,this.add(r);const s=this;function o(S,x){let y=x;Object.defineProperty(s,S,{get:function(){return y!==void 0?y:x},set:function(P){y!==P&&(y=P,r[S]=P,n[S]=P,s.dispatchEvent({type:S+"-changed",value:P}),s.dispatchEvent(po))}}),s[S]=x,r[S]=x,n[S]=x}o("camera",e),o("object",void 0),o("enabled",!0),o("axis",null),o("mode","translate"),o("translationSnap",null),o("rotationSnap",null),o("scaleSnap",null),o("space","world"),o("size",1),o("dragging",!1),o("showX",!0),o("showY",!0),o("showZ",!0);const c=new H,u=new H,d=new wt,m=new wt,I=new H,f=new wt,C=new H,v=new H,F=new H,w=0,A=new H;o("worldPosition",c),o("worldPositionStart",u),o("worldQuaternion",d),o("worldQuaternionStart",m),o("cameraPosition",I),o("cameraQuaternion",f),o("pointStart",C),o("pointEnd",v),o("rotationAxis",F),o("rotationAngle",w),o("eye",A),this._offset=new H,this._startNorm=new H,this._endNorm=new H,this._cameraScale=new H,this._parentPosition=new H,this._parentQuaternion=new wt,this._parentQuaternionInv=new wt,this._parentScale=new H,this._worldScaleStart=new H,this._worldQuaternionInv=new wt,this._worldScale=new H,this._positionStart=new H,this._quaternionStart=new wt,this._scaleStart=new H,this._getPointer=nd.bind(this),this._onPointerDown=rd.bind(this),this._onPointerHover=id.bind(this),this._onPointerMove=sd.bind(this),this._onPointerUp=od.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.camera.isOrthographicCamera?this.camera.getWorldDirection(this.eye).negate():this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;vn.setFromCamera(e,this.camera);const t=fo(this._gizmo.picker[this.mode],vn);t?this.axis=t.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e.button!==0)&&this.axis!==null){vn.setFromCamera(e,this.camera);const t=fo(this._plane,vn,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,Ec.mode=this.mode,this.dispatchEvent(Ec)}}pointerMove(e){const t=this.axis,n=this.mode,r=this.object;let s=this.space;if(n==="scale"?s="local":(t==="E"||t==="XYZE"||t==="XYZ")&&(s="world"),r===void 0||t===null||this.dragging===!1||e.button!==-1)return;vn.setFromCamera(e,this.camera);const o=fo(this._plane,vn,!0);if(o){if(this.pointEnd.copy(o.point).sub(this.worldPositionStart),n==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),s==="local"&&t!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),t.indexOf("X")===-1&&(this._offset.x=0),t.indexOf("Y")===-1&&(this._offset.y=0),t.indexOf("Z")===-1&&(this._offset.z=0),s==="local"&&t!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),r.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(s==="local"&&(r.position.applyQuaternion(Me.copy(this._quaternionStart).invert()),t.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this._quaternionStart)),s==="world"&&(r.parent&&r.position.add(et.setFromMatrixPosition(r.parent.matrixWorld)),t.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(et.setFromMatrixPosition(r.parent.matrixWorld))));else if(n==="scale"){if(t.search("XYZ")!==-1){let c=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(c*=-1),tn.set(c,c,c)}else et.copy(this.pointStart),tn.copy(this.pointEnd),et.applyQuaternion(this._worldQuaternionInv),tn.applyQuaternion(this._worldQuaternionInv),tn.divide(et),t.search("X")===-1&&(tn.x=1),t.search("Y")===-1&&(tn.y=1),t.search("Z")===-1&&(tn.z=1);r.scale.copy(this._scaleStart).multiply(tn),this.scaleSnap&&(t.search("X")!==-1&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Y")!==-1&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Z")!==-1&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(n==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const c=20/this.worldPosition.distanceTo(et.setFromMatrixPosition(this.camera.matrixWorld));let u=!1;t==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(et.copy(this.rotationAxis).cross(this.eye))*c):(t==="X"||t==="Y"||t==="Z")&&(this.rotationAxis.copy(mc[t]),et.copy(mc[t]),s==="local"&&et.applyQuaternion(this.worldQuaternion),et.cross(this.eye),et.length()===0?u=!0:this.rotationAngle=this._offset.dot(et.normalize())*c),(t==="E"||u)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),s==="local"&&t!=="E"&&t!=="XYZE"?(r.quaternion.copy(this._quaternionStart),r.quaternion.multiply(Me.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),r.quaternion.copy(Me.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(po),this.dispatchEvent(gc)}}pointerUp(e){e.button===0&&(this.dragging&&this.axis!==null&&(Ic.mode=this.mode,this.dispatchEvent(Ic)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(po),this.dispatchEvent(gc),this.pointStart.copy(this.pointEnd))}getRaycaster(){return vn}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}}function nd(l){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:l.button};{const e=this.domElement.getBoundingClientRect();return{x:(l.clientX-e.left)/e.width*2-1,y:-(l.clientY-e.top)/e.height*2+1,button:l.button}}}function id(l){if(this.enabled)switch(l.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(l));break}}function rd(l){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(l.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(l)),this.pointerDown(this._getPointer(l)))}function sd(l){this.enabled&&this.pointerMove(this._getPointer(l))}function od(l){this.enabled&&(this.domElement.releasePointerCapture(l.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(l)))}function fo(l,e,t){const n=e.intersectObject(l,!0);for(let r=0;r<n.length;r++)if(n[r].object.visible||t)return n[r];return!1}const Gr=new Kl,be=new H(0,1,0),Cc=new H(0,0,0),Tc=new Ie,Hr=new wt,Jr=new wt,Mt=new H,yc=new Ie,Bi=new H(1,0,0),Rn=new H(0,1,0),zi=new H(0,0,1),Kr=new H,Ui=new H,_i=new H;class ad extends es{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const e=new ii({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new Mc({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=e.clone();n.opacity=.15;const r=t.clone();r.opacity=.5;const s=e.clone();s.color.setHex(16711680);const o=e.clone();o.color.setHex(65280);const c=e.clone();c.color.setHex(255);const u=e.clone();u.color.setHex(16711680),u.opacity=.5;const d=e.clone();d.color.setHex(65280),d.opacity=.5;const m=e.clone();m.color.setHex(255),m.opacity=.5;const I=e.clone();I.opacity=.25;const f=e.clone();f.color.setHex(16776960),f.opacity=.25,e.clone().color.setHex(16776960);const C=e.clone();C.color.setHex(7895160);const v=new rt(0,.04,.1,12);v.translate(0,.05,0);const F=new $e(.08,.08,.08);F.translate(0,.04,0);const w=new An;w.setAttribute("position",new ts([0,0,0,1,0,0],3));const A=new rt(.0075,.0075,.5,3);A.translate(0,.25,0);function S(ue,Ee){const ve=new Ri(ue,.0075,3,64,Ee*Math.PI*2);return ve.rotateY(Math.PI/2),ve.rotateX(Math.PI/2),ve}function x(){const ue=new An;return ue.setAttribute("position",new ts([0,0,0,1,1,1],3)),ue}const y={X:[[new ce(v,s),[.5,0,0],[0,0,-Math.PI/2]],[new ce(v,s),[-.5,0,0],[0,0,Math.PI/2]],[new ce(A,s),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new ce(v,o),[0,.5,0]],[new ce(v,o),[0,-.5,0],[Math.PI,0,0]],[new ce(A,o)]],Z:[[new ce(v,c),[0,0,.5],[Math.PI/2,0,0]],[new ce(v,c),[0,0,-.5],[-Math.PI/2,0,0]],[new ce(A,c),null,[Math.PI/2,0,0]]],XYZ:[[new ce(new vr(.1,0),I.clone()),[0,0,0]]],XY:[[new ce(new $e(.15,.15,.01),m.clone()),[.15,.15,0]]],YZ:[[new ce(new $e(.15,.15,.01),u.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ce(new $e(.15,.15,.01),d.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},P={X:[[new ce(new rt(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new ce(new rt(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ce(new rt(.2,0,.6,4),n),[0,.3,0]],[new ce(new rt(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ce(new rt(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new ce(new rt(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new ce(new vr(.2,0),n)]],XY:[[new ce(new $e(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new ce(new $e(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ce(new $e(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]]},Y={START:[[new ce(new vr(.01,2),r),null,null,null,"helper"]],END:[[new ce(new vr(.01,2),r),null,null,null,"helper"]],DELTA:[[new $t(x(),r),null,null,null,"helper"]],X:[[new $t(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new $t(w,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new $t(w,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},k={XYZE:[[new ce(S(.5,1),C),null,[0,Math.PI/2,0]]],X:[[new ce(S(.5,.5),s)]],Y:[[new ce(S(.5,.5),o),null,[0,0,-Math.PI/2]]],Z:[[new ce(S(.5,.5),c),null,[0,Math.PI/2,0]]],E:[[new ce(S(.75,1),f),null,[0,Math.PI/2,0]]]},K={AXIS:[[new $t(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},X={XYZE:[[new ce(new uh(.25,10,8),n)]],X:[[new ce(new Ri(.5,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ce(new Ri(.5,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ce(new Ri(.5,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ce(new Ri(.75,.1,2,24),n)]]},q={X:[[new ce(F,s),[.5,0,0],[0,0,-Math.PI/2]],[new ce(A,s),[0,0,0],[0,0,-Math.PI/2]],[new ce(F,s),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new ce(F,o),[0,.5,0]],[new ce(A,o)],[new ce(F,o),[0,-.5,0],[0,0,Math.PI]]],Z:[[new ce(F,c),[0,0,.5],[Math.PI/2,0,0]],[new ce(A,c),[0,0,0],[Math.PI/2,0,0]],[new ce(F,c),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new ce(new $e(.15,.15,.01),m),[.15,.15,0]]],YZ:[[new ce(new $e(.15,.15,.01),u),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ce(new $e(.15,.15,.01),d),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ce(new $e(.1,.1,.1),I.clone())]]},$={X:[[new ce(new rt(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new ce(new rt(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ce(new rt(.2,0,.6,4),n),[0,.3,0]],[new ce(new rt(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ce(new rt(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new ce(new rt(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new ce(new $e(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new ce(new $e(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ce(new $e(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ce(new $e(.2,.2,.2),n),[0,0,0]]]},J={X:[[new $t(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new $t(w,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new $t(w,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function ie(ue){const Ee=new es;for(const ve in ue)for(let Ve=ue[ve].length;Ve--;){const Re=ue[ve][Ve][0].clone(),nt=ue[ve][Ve][1],je=ue[ve][Ve][2],It=ue[ve][Ve][3],xn=ue[ve][Ve][4];Re.name=ve,Re.tag=xn,nt&&Re.position.set(nt[0],nt[1],nt[2]),je&&Re.rotation.set(je[0],je[1],je[2]),It&&Re.scale.set(It[0],It[1],It[2]),Re.updateMatrix();const ht=Re.geometry.clone();ht.applyMatrix4(Re.matrix),Re.geometry=ht,Re.renderOrder=1/0,Re.position.set(0,0,0),Re.rotation.set(0,0,0),Re.scale.set(1,1,1),Ee.add(Re)}return Ee}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=ie(y)),this.add(this.gizmo.rotate=ie(k)),this.add(this.gizmo.scale=ie(q)),this.add(this.picker.translate=ie(P)),this.add(this.picker.rotate=ie(X)),this.add(this.picker.scale=ie($)),this.add(this.helper.translate=ie(Y)),this.add(this.helper.rotate=ie(K)),this.add(this.helper.scale=ie(J)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const t=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:Jr;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let r=0;r<n.length;r++){const s=n[r];s.visible=!0,s.rotation.set(0,0,0),s.position.copy(this.worldPosition);let o;if(this.camera.isOrthographicCamera?o=(this.camera.top-this.camera.bottom)/this.camera.zoom:o=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),s.scale.set(1,1,1).multiplyScalar(o*this.size/4),s.tag==="helper"){s.visible=!1,s.name==="AXIS"?(s.visible=!!this.axis,this.axis==="X"&&(Me.setFromEuler(Gr.set(0,0,0)),s.quaternion.copy(t).multiply(Me),Math.abs(be.copy(Bi).applyQuaternion(t).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Y"&&(Me.setFromEuler(Gr.set(0,0,Math.PI/2)),s.quaternion.copy(t).multiply(Me),Math.abs(be.copy(Rn).applyQuaternion(t).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Z"&&(Me.setFromEuler(Gr.set(0,Math.PI/2,0)),s.quaternion.copy(t).multiply(Me),Math.abs(be.copy(zi).applyQuaternion(t).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="XYZE"&&(Me.setFromEuler(Gr.set(0,Math.PI/2,0)),be.copy(this.rotationAxis),s.quaternion.setFromRotationMatrix(Tc.lookAt(Cc,be,Rn)),s.quaternion.multiply(Me),s.visible=this.dragging),this.axis==="E"&&(s.visible=!1)):s.name==="START"?(s.position.copy(this.worldPositionStart),s.visible=this.dragging):s.name==="END"?(s.position.copy(this.worldPosition),s.visible=this.dragging):s.name==="DELTA"?(s.position.copy(this.worldPositionStart),s.quaternion.copy(this.worldQuaternionStart),et.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),et.applyQuaternion(this.worldQuaternionStart.clone().invert()),s.scale.copy(et),s.visible=this.dragging):(s.quaternion.copy(t),this.dragging?s.position.copy(this.worldPositionStart):s.position.copy(this.worldPosition),this.axis&&(s.visible=this.axis.search(s.name)!==-1));continue}s.quaternion.copy(t),this.mode==="translate"||this.mode==="scale"?(s.name==="X"&&Math.abs(be.copy(Bi).applyQuaternion(t).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Y"&&Math.abs(be.copy(Rn).applyQuaternion(t).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Z"&&Math.abs(be.copy(zi).applyQuaternion(t).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XY"&&Math.abs(be.copy(zi).applyQuaternion(t).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="YZ"&&Math.abs(be.copy(Bi).applyQuaternion(t).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XZ"&&Math.abs(be.copy(Rn).applyQuaternion(t).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1)):this.mode==="rotate"&&(Hr.copy(t),be.copy(this.eye).applyQuaternion(Me.copy(t).invert()),s.name.search("E")!==-1&&s.quaternion.setFromRotationMatrix(Tc.lookAt(this.eye,Cc,Rn)),s.name==="X"&&(Me.setFromAxisAngle(Bi,Math.atan2(-be.y,be.z)),Me.multiplyQuaternions(Hr,Me),s.quaternion.copy(Me)),s.name==="Y"&&(Me.setFromAxisAngle(Rn,Math.atan2(be.x,be.z)),Me.multiplyQuaternions(Hr,Me),s.quaternion.copy(Me)),s.name==="Z"&&(Me.setFromAxisAngle(zi,Math.atan2(be.y,be.x)),Me.multiplyQuaternions(Hr,Me),s.quaternion.copy(Me))),s.visible=s.visible&&(s.name.indexOf("X")===-1||this.showX),s.visible=s.visible&&(s.name.indexOf("Y")===-1||this.showY),s.visible=s.visible&&(s.name.indexOf("Z")===-1||this.showZ),s.visible=s.visible&&(s.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),s.material._color=s.material._color||s.material.color.clone(),s.material._opacity=s.material._opacity||s.material.opacity,s.material.color.copy(s.material._color),s.material.opacity=s.material._opacity,this.enabled&&this.axis&&(s.name===this.axis||this.axis.split("").some(function(c){return s.name===c}))&&(s.material.color.setHex(16776960),s.material.opacity=1)}super.updateMatrixWorld(e)}}class cd extends ce{constructor(){super(new Yo(1e5,1e5,2,2),new ii({visible:!1,wireframe:!0,side:Xi,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(t="local"),Kr.copy(Bi).applyQuaternion(t==="local"?this.worldQuaternion:Jr),Ui.copy(Rn).applyQuaternion(t==="local"?this.worldQuaternion:Jr),_i.copy(zi).applyQuaternion(t==="local"?this.worldQuaternion:Jr),be.copy(Ui),this.mode){case"translate":case"scale":switch(this.axis){case"X":be.copy(this.eye).cross(Kr),Mt.copy(Kr).cross(be);break;case"Y":be.copy(this.eye).cross(Ui),Mt.copy(Ui).cross(be);break;case"Z":be.copy(this.eye).cross(_i),Mt.copy(_i).cross(be);break;case"XY":Mt.copy(_i);break;case"YZ":Mt.copy(Kr);break;case"XZ":be.copy(_i),Mt.copy(Ui);break;case"XYZ":case"E":Mt.set(0,0,0);break}break;case"rotate":default:Mt.set(0,0,0)}Mt.length()===0?this.quaternion.copy(this.cameraQuaternion):(yc.lookAt(et.set(0,0,0),Mt,be),this.quaternion.setFromRotationMatrix(yc)),super.updateMatrixWorld(e)}}class $o{constructor(e,t,n,r,s,o=5,c=!0){if(T(this,"onDraggingStarted",new ne),T(this,"onDraggingEnded",new ne),T(this,"onDisposed",new ne),T(this,"normal"),T(this,"origin"),T(this,"three",new si),T(this,"_helper"),T(this,"_visible",!0),T(this,"_enabled",!0),T(this,"components"),T(this,"world"),T(this,"_controlsActive",!1),T(this,"_arrowBoundBox",new ce),T(this,"_planeMesh"),T(this,"_controls"),T(this,"_hiddenMaterial",new ii({visible:!1})),T(this,"update",async()=>{this._enabled&&this.three.setFromNormalAndCoplanarPoint(this.normal,this._helper.position)}),T(this,"changeDrag",u=>{this._visible=!u.value,this.preventCameraMovement(),this.notifyDraggingChanged(u)}),this.components=e,this.world=t,!t.renderer)throw new Error("The given world must have a renderer!");this.normal=r,this.origin=n,t.renderer.setPlane(!0,this.three),this._planeMesh=$o.newPlaneMesh(o,s),this._helper=this.newHelper(),this._controls=this.newTransformControls(),this.three.setFromNormalAndCoplanarPoint(r,n),c&&this.toggleControls(!0)}get enabled(){return this._enabled}set enabled(e){if(!this.world.renderer)throw new Error("No renderer found for clipping plane!");this._enabled=e,this.world.renderer.setPlane(e,this.three)}get visible(){return this._visible}set visible(e){this._visible=e,this._controls.visible=e,this._helper.visible=e,this.toggleControls(e)}get meshes(){return[this._planeMesh,this._arrowBoundBox]}get planeMaterial(){return this._planeMesh.material}set planeMaterial(e){this._planeMesh.material=e}get size(){return this._planeMesh.scale.x}set size(e){this._planeMesh.scale.set(e,e,e)}get helper(){return this._helper}async setFromNormalAndCoplanarPoint(e,t){this.reset(),this.normal.equals(e)||(this.normal.copy(e),this._helper.lookAt(e)),this.origin.copy(t),this._helper.position.copy(t),this._helper.updateMatrix(),await this.update()}dispose(){this._enabled=!1,this.onDraggingStarted.reset(),this.onDraggingEnded.reset(),this._helper.removeFromParent(),this.world.renderer&&this.world.renderer.setPlane(!1,this.three),this._arrowBoundBox.removeFromParent(),this._arrowBoundBox.geometry.dispose(),this._planeMesh.geometry.dispose(),this._controls.removeFromParent(),this._controls.dispose(),this.onDisposed.trigger(),this.onDisposed.reset()}reset(){const e=new H(1,0,0),t=new H;this.normal.equals(e)||(this.normal.copy(e),this._helper.lookAt(e)),this.origin.copy(t),this._helper.position.copy(t),this._helper.updateMatrix()}toggleControls(e){if(e){if(this._controlsActive)return;this._controls.addEventListener("change",this.update),this._controls.addEventListener("dragging-changed",this.changeDrag)}else this._controls.removeEventListener("change",this.update),this._controls.removeEventListener("dragging-changed",this.changeDrag);this._controlsActive=e}newTransformControls(){if(!this.world.renderer)throw new Error("No renderer found for clipping plane!");const e=this.world.camera.three,t=this.world.renderer.three.domElement,n=new td(e,t);return this.initializeControls(n),this.world.scene.three.add(n),n}initializeControls(e){e.attach(this._helper),e.showX=!1,e.showY=!1,e.setSpace("local"),this.createArrowBoundingBox(),e.children[0].children[0].add(this._arrowBoundBox)}createArrowBoundingBox(){this._arrowBoundBox.geometry=new rt(.18,.18,1.2),this._arrowBoundBox.material=this._hiddenMaterial,this._arrowBoundBox.rotateX(Math.PI/2),this._arrowBoundBox.updateMatrix(),this._arrowBoundBox.geometry.applyMatrix4(this._arrowBoundBox.matrix)}notifyDraggingChanged(e){e.value?this.onDraggingStarted.trigger():this.onDraggingEnded.trigger()}preventCameraMovement(){this.world.camera.enabled=this._visible}newHelper(){const e=new es;return e.lookAt(this.normal),e.position.copy(this.origin),this._planeMesh.position.z+=.01,e.add(this._planeMesh),this.world.scene.three.add(e),e}static newPlaneMesh(e,t){const n=new Yo(1),r=new ce(n,t);return r.scale.set(e,e,e),r}}const Zc=class So extends Ge{constructor(e){super(e),T(this,"onAfterCreate",new ne),T(this,"onAfterDelete",new ne),T(this,"onBeforeDrag",new ne),T(this,"onAfterDrag",new ne),T(this,"onBeforeCreate",new ne),T(this,"onBeforeCancel",new ne),T(this,"onAfterCancel",new ne),T(this,"onBeforeDelete",new ne),T(this,"onDisposed",new ne),T(this,"orthogonalY",!1),T(this,"toleranceOrthogonalY",.7),T(this,"list",[]),T(this,"PlaneType"),T(this,"_material",new ii({color:12255487,side:Xi,transparent:!0,opacity:.2})),T(this,"_size",5),T(this,"_enabled",!1),T(this,"_visible",!1),T(this,"_onStartDragging",()=>{this.onBeforeDrag.trigger()}),T(this,"_onEndDragging",()=>{this.onAfterDrag.trigger()}),this.components.add(So.uuid,this),this.PlaneType=$o}get enabled(){return this._enabled}set enabled(e){this._enabled=e;for(const t of this.list)t.enabled=e;this.updateMaterialsAndPlanes()}get visible(){return this._visible}set visible(e){this._visible=e;for(const t of this.list)t.visible=e}get material(){return this._material}set material(e){this._material=e;for(const t of this.list)t.planeMaterial=e}get size(){return this._size}set size(e){this._size=e;for(const t of this.list)t.size=e}endCreation(){}cancelCreation(){}dispose(){this._enabled=!1;for(const e of this.list)e.dispose();this.list.length=0,this._material.dispose(),this.onBeforeCreate.reset(),this.onBeforeCancel.reset(),this.onBeforeDelete.reset(),this.onBeforeDrag.reset(),this.onAfterCreate.reset(),this.onAfterCancel.reset(),this.onAfterDelete.reset(),this.onAfterDrag.reset(),this.onDisposed.trigger(So.uuid),this.onDisposed.reset()}create(e){if(!this.enabled)return;const t=this.components.get(Oo).get(e).castRay();t&&this.createPlaneFromIntersection(e,t)}createFromNormalAndCoplanarPoint(e,t,n){const r=this.newPlane(e,n,t);return this.updateMaterialsAndPlanes(),r}delete(e,t){this.enabled&&(t||(t=this.pickPlane(e)),t&&this.deletePlane(t))}deleteAll(){for(;this.list.length>0;){const e=this.list[0];this.delete(e.world,e)}}deletePlane(e){const t=this.list.indexOf(e);if(t!==-1){if(this.list.splice(t,1),!e.world.renderer)throw new Error("Renderer not found for this plane's world!");e.world.renderer.setPlane(!1,e.three),e.dispose(),this.updateMaterialsAndPlanes(),this.onAfterDelete.trigger(e)}}pickPlane(e){const t=this.components.get(Oo).get(e),n=this.getAllPlaneMeshes(),r=t.castRay(n);if(r){const s=r.object;return this.list.find(o=>o.meshes.includes(s))}}getAllPlaneMeshes(){const e=[];for(const t of this.list)e.push(...t.meshes);return e}createPlaneFromIntersection(e,t){var n;if(!e.renderer)throw new Error("The given world must have a renderer!");const r=t.point.distanceTo(new H(0,0,0)),s=(n=t.face)==null?void 0:n.normal;if(!r||!s)return;const o=this.getWorldNormal(t,s),c=this.newPlane(e,t.point,o.negate());c.size=this._size,e.renderer.setPlane(!0,c.three),this.updateMaterialsAndPlanes()}getWorldNormal(e,t){const n=e.object;let r=e.object.matrixWorld.clone();if(n instanceof On&&e.instanceId!==void 0){const c=new Ie;n.getMatrixAt(e.instanceId,c),r=c.multiply(r)}const s=new Fn().getNormalMatrix(r),o=t.clone().applyMatrix3(s).normalize();return this.normalizePlaneDirectionY(o),o}normalizePlaneDirectionY(e){this.orthogonalY&&(e.y>this.toleranceOrthogonalY&&(e.x=0,e.y=1,e.z=0),e.y<-this.toleranceOrthogonalY&&(e.x=0,e.y=-1,e.z=0))}newPlane(e,t,n){const r=this.newPlaneInstance(e,t,n);return r.onDraggingStarted.add(this._onStartDragging),r.onDraggingEnded.add(this._onEndDragging),this.list.push(r),this.onAfterCreate.trigger(r),r}newPlaneInstance(e,t,n){return new this.PlaneType(this.components,e,t,n,this._material)}updateMaterialsAndPlanes(){const e=this.components.get(Ju);for(const[t,n]of e.list){if(!n.renderer)continue;n.renderer.updateClippingPlanes();const{clippingPlanes:r}=n.renderer;for(const s of n.meshes)if(Array.isArray(s.material))for(const o of s.material)o.clippingPlanes=r;else s.material.clippingPlanes=r}}};T(Zc,"uuid","66290bc5-18c4-4cd1-9379-2e17a0617611");let fp=Zc;const ld=class bo extends Ge{constructor(e){super(e),T(this,"enabled",!0),T(this,"onDisposed",new ne),T(this,"list",{}),T(this,"_originals",{}),this.components.add(bo.uuid,this)}dispose(){for(const e in this.list){const{material:t}=this.list[e];t.dispose()}this.list={},this._originals={},this.onDisposed.trigger(bo.uuid),this.onDisposed.reset()}set(e,t=Object.keys(this.list)){for(const n of t){const{material:r,meshes:s}=this.list[n];for(const o of s)if(e)this._originals[o.uuid]||(this._originals[o.uuid]={material:o.material}),o instanceof On&&o.instanceColor&&(this._originals[o.uuid].instances=o.instanceColor,o.instanceColor=null),o.material=r;else{if(!this._originals[o.uuid])continue;o.material=this._originals[o.uuid].material;const c=this._originals[o.uuid].instances;o instanceof On&&c&&(o.instanceColor=c)}}}addMaterial(e,t){if(this.list[e])throw new Error("This ID already exists!");this.list[e]={material:t,meshes:new Set}}addMeshes(e,t){if(!this.list[e])throw new Error("This ID doesn't exists!");for(const n of t)this.list[e].meshes.add(n)}removeMeshes(e,t){if(!this.list[e])throw new Error("This ID doesn't exists!");for(const n of t)this.list[e].meshes.delete(n)}};T(ld,"uuid","24989d27-fa2f-4797-8b08-35918f74e502");function hd(l,e,t,n){return new Promise((r,s)=>{function o(){const c=l.clientWaitSync(e,t,0);if(c===l.WAIT_FAILED){s();return}if(c===l.TIMEOUT_EXPIRED){setTimeout(o,n);return}r()}o()})}async function ud(l,e,t,n,r,s,o){const c=l.fenceSync(l.SYNC_GPU_COMMANDS_COMPLETE,0);l.flush(),await hd(l,c,0,10),l.deleteSync(c),l.bindBuffer(e,t),l.getBufferSubData(e,n,r,s,o),l.bindBuffer(e,null)}async function dd(l,e,t,n,r,s,o,c){const u=l.createBuffer();return l.bindBuffer(l.PIXEL_PACK_BUFFER,u),l.bufferData(l.PIXEL_PACK_BUFFER,c.byteLength,l.STREAM_READ),l.readPixels(e,t,n,r,s,o,0),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),await ud(l,l.PIXEL_PACK_BUFFER,u,0,c),l.deleteBuffer(u),c}class pd{constructor(e,t,n){if(T(this,"onDisposed",new ne),T(this,"onViewUpdated",new wn),T(this,"enabled",!0),T(this,"needsUpdate",!1),T(this,"renderDebugFrame",!1),T(this,"components"),T(this,"world"),T(this,"renderer"),T(this,"autoUpdate",!0),T(this,"updateInterval",1e3),T(this,"worker"),T(this,"scene",new zo),T(this,"_width",512),T(this,"_height",512),T(this,"_availableColor",1),T(this,"renderTarget"),T(this,"bufferSize"),T(this,"_buffer"),T(this,"_isWorkerBusy",!1),T(this,"updateVisibility",async o=>{if(!this.enabled||!this.needsUpdate&&!o||this._isWorkerBusy)return;this._isWorkerBusy=!0;const c=this.world.camera.three;c.updateMatrix(),this.renderer.setSize(this._width,this._height),this.renderer.setRenderTarget(this.renderTarget),this.renderer.render(this.scene,c);const u=this.renderer.getContext();await dd(u,0,0,this._width,this._height,u.RGBA,u.UNSIGNED_BYTE,this._buffer),this.renderer.setRenderTarget(null),this.renderDebugFrame&&this.renderer.render(this.scene,c),this.worker.postMessage({buffer:this._buffer}),this.needsUpdate=!1}),!t.renderer)throw new Error("The given world must have a renderer!");this.components=e,this.applySettings(n),this.world=t,this.renderer=new $r,this.renderTarget=new Zr(this._width,this._height),this.bufferSize=this._width*this._height*4,this._buffer=new Uint8Array(this.bufferSize),this.renderer.clippingPlanes=t.renderer.clippingPlanes;const r=`
      addEventListener("message", (event) => {
        const { buffer } = event.data;
        const colors = new Map();
        for (let i = 0; i < buffer.length; i += 4) {
          const r = buffer[i];
          const g = buffer[i + 1];
          const b = buffer[i + 2];
          const code = "" + r + "-" + g + "-" + b;
          if(colors.has(code)) {
            colors.set(code, colors.get(code) + 1);
          } else {
            colors.set(code, 1);
          }
        }
        postMessage({ colors });
      });
    `,s=new Blob([r],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(s))}dispose(){this.enabled=!1;for(const e of this.scene.children)e.removeFromParent();this.onViewUpdated.reset(),this.worker.terminate(),this.renderer.dispose(),this.renderTarget.dispose(),this._buffer=null,this.onDisposed.reset()}getAvailableColor(){let e=BigInt(this._availableColor.toString());const t=[];do t.unshift(Number(e%256n)),e/=256n;while(e);for(;t.length!==3;)t.unshift(0);const[n,r,s]=t,o=`${n}-${r}-${s}`;return{r:n,g:r,b:s,code:o}}increaseColor(){if(this._availableColor===256*256*256){console.warn("Color can't be increased over 256 x 256 x 256!");return}this._availableColor++}decreaseColor(){if(this._availableColor===1){console.warn("Color can't be decreased under 0!");return}this._availableColor--}applySettings(e){e&&(e.updateInterval!==void 0&&(this.updateInterval=e.updateInterval),e.height!==void 0&&(this._height=e.height),e.width!==void 0&&(this._width=e.width),e.autoUpdate!==void 0&&(this.autoUpdate=e.autoUpdate))}}class fd extends pd{constructor(e,t,n){super(e,t,n),T(this,"threshold",100),T(this,"onViewUpdated",new ne),T(this,"colorMeshes",new Map),T(this,"isProcessing",!1),T(this,"_colorCodeMeshMap",new Map),T(this,"_meshIDColorCodeMap",new Map),T(this,"_currentVisibleMeshes",new Set),T(this,"_recentlyHiddenMeshes",new Set),T(this,"_intervalID",null),T(this,"_transparentMat",new ii({transparent:!0,opacity:0})),T(this,"handleWorkerMessage",async r=>{if(this.isProcessing)return;const s=r.data.colors;this._recentlyHiddenMeshes=new Set(this._currentVisibleMeshes),this._currentVisibleMeshes.clear();for(const[o,c]of s){if(c<this.threshold)continue;const u=this._colorCodeMeshMap.get(o);u&&(this._currentVisibleMeshes.add(u),this._recentlyHiddenMeshes.delete(u))}this.onViewUpdated.trigger({seen:this._currentVisibleMeshes,unseen:this._recentlyHiddenMeshes}),this._isWorkerBusy=!1}),this.worker.addEventListener("message",this.handleWorkerMessage),this.autoUpdate&&window.setInterval(async()=>{this.isProcessing||await this.updateVisibility()},this.updateInterval),this.onViewUpdated.add(({seen:r,unseen:s})=>{for(const o of r)o.visible=!0;for(const o of s)o.visible=!1})}dispose(){super.dispose(),this._intervalID!==null&&(window.clearInterval(this._intervalID),this._intervalID=null),this._currentVisibleMeshes.clear(),this._recentlyHiddenMeshes.clear(),this._meshIDColorCodeMap.clear(),this._transparentMat.dispose(),this._colorCodeMeshMap.clear();const e=this.components.get(ri);for(const t in this.colorMeshes){const n=this.colorMeshes.get(t);n&&e.destroy(n,!0)}this.colorMeshes.clear()}add(e){if(!this.enabled)return;if(this.isProcessing){console.log("Culler processing not finished yet.");return}this.isProcessing=!0;const t=e instanceof On,{geometry:n,material:r}=e,{colorMaterial:s,code:o}=this.getAvailableMaterial();let c;if(Array.isArray(r)){let m=!0;const I=[];for(const f of r)oc.isTransparent(f)?I.push(this._transparentMat):(m=!1,I.push(s));if(m){s.dispose(),this.isProcessing=!1;return}c=I}else if(oc.isTransparent(r)){s.dispose(),this.isProcessing=!1;return}else c=s;this._colorCodeMeshMap.set(o,e),this._meshIDColorCodeMap.set(e.uuid,o);const u=t?e.count:1,d=new On(n,c,u);t?d.instanceMatrix=e.instanceMatrix:d.setMatrixAt(0,new Ie),e.visible=!1,d.applyMatrix4(e.matrix),d.updateMatrix(),this.scene.add(d),this.colorMeshes.set(e.uuid,d),this.increaseColor(),this.isProcessing=!1}remove(e){if(this.isProcessing){console.log("Culler processing not finished yet.");return}this.isProcessing=!0;const t=this.components.get(ri);this._currentVisibleMeshes.delete(e),this._recentlyHiddenMeshes.delete(e);const n=this.colorMeshes.get(e.uuid),r=this._meshIDColorCodeMap.get(e.uuid);if(!n||!r){this.isProcessing=!1,console.log(e.visible);return}this._colorCodeMeshMap.delete(r),this._meshIDColorCodeMap.delete(e.uuid),this.colorMeshes.delete(e.uuid),n.geometry=void 0,n.material=[],t.destroy(n,!0),this._recentlyHiddenMeshes.delete(e),this._currentVisibleMeshes.delete(e),this.isProcessing=!1}getAvailableMaterial(){const{r:e,g:t,b:n,code:r}=this.getAvailableColor(),s=Ws.enabled;Ws.enabled=!1;const o=new Ht(`rgb(${e}, ${t}, ${n})`);if(!this.world.renderer)throw new Error("Renderer not found in the world!");const c=this.world.renderer.clippingPlanes,u=new ii({color:o,clippingPlanes:c,side:Xi});return Ws.enabled=s,{colorMaterial:u,code:r}}}const Qc=class Po extends Ge{constructor(e){super(e),T(this,"_enabled",!0),T(this,"list",new Map),T(this,"onDisposed",new ne),e.add(Po.uuid,this)}get enabled(){return this._enabled}set enabled(e){this._enabled=e;for(const[t,n]of this.list)n.enabled=e}create(e,t){if(this.list.has(e.uuid))return this.list.get(e.uuid);const n=new fd(this.components,e,t);return this.list.set(e.uuid,n),n}delete(e){const t=this.list.get(e.uuid);t&&t.dispose(),this.list.delete(e.uuid)}dispose(){this.enabled=!1,this.onDisposed.trigger(Po.uuid),this.onDisposed.reset();for(const[e,t]of this.list)t.dispose();this.list.clear()}};T(Qc,"uuid","69f2a50d-c266-44fc-b1bd-fa4d34be89e6");let md=Qc;class Ed{constructor(e){if(T(this,"onDisposed",new ne),T(this,"onAfterUpdate",new ne),T(this,"onBeforeUpdate",new ne),T(this,"onResize",new ne),T(this,"frontOffset",0),T(this,"overrideMaterial",new ih),T(this,"backgroundColor",new Ht(395274)),T(this,"renderer"),T(this,"enabled",!0),T(this,"world"),T(this,"_lockRotation",!0),T(this,"_camera"),T(this,"_plane"),T(this,"_size",new Ze(320,160)),T(this,"_tempVector1",new H),T(this,"_tempVector2",new H),T(this,"_tempTarget",new H),T(this,"down",new H(0,-1,0)),T(this,"updatePlanes",()=>{if(!this.world.renderer)throw new Error("The given world must have a renderer!");const r=[],s=this.world.renderer.three;for(const o of s.clippingPlanes)r.push(o);r.push(this._plane),this.renderer.clippingPlanes=r}),this.world=e,!this.world.renderer)throw new Error("The given world must have a renderer!");this.renderer=new $r,this.renderer.setSize(this._size.x,this._size.y);const t=1,n=this._size.x/this._size.y;this._camera=new Wi(t*n/-2,t*n/2,t/2,t/-2),this.world.renderer.onClippingPlanesUpdated.add(this.updatePlanes),this._camera.position.set(0,200,0),this._camera.zoom=.1,this._camera.rotation.x=-Math.PI/2,this._plane=new si(this.down,200),this.updatePlanes()}get lockRotation(){return this._lockRotation}set lockRotation(e){this._lockRotation=e,e&&(this._camera.rotation.z=0)}get zoom(){return this._camera.zoom}set zoom(e){this._camera.zoom=e,this._camera.updateProjectionMatrix()}dispose(){this.enabled=!1,this.onBeforeUpdate.reset(),this.onAfterUpdate.reset(),this.onResize.reset(),this.overrideMaterial.dispose(),this.renderer.dispose(),this.onDisposed.trigger(),this.onDisposed.reset()}get(){return this._camera}update(){if(!this.enabled)return;this.onBeforeUpdate.trigger();const e=this.world.scene.three,t=this.world.camera;if(!t.hasCameraControls())throw new Error("The given world must use camera controls!");if(!(e instanceof zo))throw new Error("The given world must have a THREE.Scene as a root!");const n=t.controls;if(n.getPosition(this._tempVector1),this._camera.position.x=this._tempVector1.x,this._camera.position.z=this._tempVector1.z,this.frontOffset!==0&&(n.getTarget(this._tempVector2),this._tempVector2.sub(this._tempVector1),this._tempVector2.normalize().multiplyScalar(this.frontOffset),this._camera.position.x+=this._tempVector2.x,this._camera.position.z+=this._tempVector2.z),!this._lockRotation){n.getTarget(this._tempTarget);const s=Math.atan2(this._tempTarget.x-this._tempVector1.x,this._tempTarget.z-this._tempVector1.z);this._camera.rotation.z=s+Math.PI}this._plane.set(this.down,this._tempVector1.y);const r=e.background;e.background=this.backgroundColor,this.renderer.render(e,this._camera),e.background=r,this.onAfterUpdate.trigger()}getSize(){return this._size}resize(e){if(e){this._size.copy(e),this.renderer.setSize(e.x,e.y);const t=e.x/e.y,n=1;this._camera.left=n*t/-2,this._camera.right=n*t/2,this._camera.top=n/2,this._camera.bottom=-n/2,this._camera.updateProjectionMatrix(),this.onResize.trigger(e)}}}const Id=class qc extends Ge{constructor(e){super(e),T(this,"onAfterUpdate",new ne),T(this,"onBeforeUpdate",new ne),T(this,"onDisposed",new ne),T(this,"enabled",!0),T(this,"list",new Map),this.components.add(qc.uuid,this)}create(e){if(this.list.has(e.uuid))throw new Error("This world already has a minimap!");const t=new Ed(e);return this.list.set(e.uuid,t),t}delete(e){const t=this.list.get(e);t&&t.dispose(),this.list.delete(e)}dispose(){}update(){for(const[e,t]of this.list)t.update()}};T(Id,"uuid","39ad6aad-84c8-4adf-a1e0-7f25313a9e7f");class gd{constructor(e){T(this,"enabled",!1),T(this,"id","FirstPerson"),this.camera=e}set(e){if(this.enabled=e,e){if(this.camera.getProjection()!=="Perspective"){this.camera.setNavigationMode("Orbit");return}this.setupFirstPersonCamera()}}setupFirstPersonCamera(){const e=this.camera.controls,t=new H;e.distance--,e.getPosition(t),e.minDistance=1,e.maxDistance=1,e.distance=1,e.moveTo(t.x,t.y,t.z),e.truckSpeed=50,e.mouseButtons.wheel=tt.ACTION.DOLLY,e.touches.two=tt.ACTION.TOUCH_ZOOM_TRUCK}}class Cd{constructor(e){T(this,"enabled",!0),T(this,"id","Orbit"),this.camera=e,this.activateOrbitControls()}set(e){this.enabled=e,e&&this.activateOrbitControls()}activateOrbitControls(){const e=this.camera.controls;e.minDistance=1,e.maxDistance=300;const t=new H;e.getPosition(t);const n=t.length();e.distance=n,e.truckSpeed=2;const{rotation:r}=this.camera.get(),s=new H(0,0,-1).applyEuler(r),o=t.addScaledVector(s,n);e.moveTo(o.x,o.y,o.z)}}class Td{constructor(e){T(this,"enabled",!1),T(this,"id","Plan"),T(this,"mouseAction1"),T(this,"mouseAction2"),T(this,"mouseInitialized",!1),T(this,"defaultAzimuthSpeed"),T(this,"defaultPolarSpeed"),this.camera=e,this.defaultAzimuthSpeed=e.controls.azimuthRotateSpeed,this.defaultPolarSpeed=e.controls.polarRotateSpeed}set(e){this.enabled=e;const t=this.camera.controls;t.azimuthRotateSpeed=e?0:this.defaultAzimuthSpeed,t.polarRotateSpeed=e?0:this.defaultPolarSpeed,this.mouseInitialized||(this.mouseAction1=t.touches.one,this.mouseAction2=t.touches.two,this.mouseInitialized=!0),e?(t.mouseButtons.left=tt.ACTION.TRUCK,t.touches.one=tt.ACTION.TOUCH_TRUCK,t.touches.two=tt.ACTION.TOUCH_ZOOM):(t.mouseButtons.left=tt.ACTION.ROTATE,t.touches.one=this.mouseAction1,t.touches.two=this.mouseAction2)}}class yd{constructor(e){T(this,"onChanged",new ne),T(this,"current","Perspective"),T(this,"camera"),T(this,"_component"),T(this,"_previousDistance",-1),T(this,"matchOrthoDistanceEnabled",!1),this._component=e,this.camera=e.three}async set(e){this.current!==e&&(e==="Orthographic"?this.setOrthoCamera():await this.setPerspectiveCamera(),this.onChanged.trigger())}async toggle(){const e=this.current==="Perspective"?"Orthographic":"Perspective";await this.set(e)}setOrthoCamera(){if(this._component.mode.id==="FirstPerson")return;this._previousDistance=this._component.controls.distance,this._component.controls.distance=200;const e=this.getDims();if(!e)return;const{width:t,height:n}=e;this.setupOrthoCamera(n,t),this.camera=this._component.threeOrtho,this.current="Orthographic"}getDims(){const e=this._component.currentWorld;if(!e||!e.renderer)return null;const t=new H;this._component.three.getWorldDirection(t);const n=new H;this._component.controls.getTarget(n);const r=n.clone().sub(this._component.three.position).dot(t),s=e.renderer.getSize(),o=s.x/s.y,c=this._component.three,u=r*2*Math.atan(c.fov*(Math.PI/180)/2);return{width:u*o,height:u}}setupOrthoCamera(e,t){this._component.controls.mouseButtons.wheel=tt.ACTION.ZOOM,this._component.controls.mouseButtons.middle=tt.ACTION.ZOOM;const n=this._component.three,r=this._component.threeOrtho;r.zoom=1,r.left=t/-2,r.right=t/2,r.top=e/2,r.bottom=e/-2,r.updateProjectionMatrix(),r.position.copy(n.position),r.quaternion.copy(n.quaternion),this._component.controls.camera=r}getDistance(){const e=this._component.three,t=this._component.threeOrtho;return(t.top-t.bottom)/t.zoom/(2*Math.atan(e.fov*(Math.PI/180)/2))}async setPerspectiveCamera(){this._component.controls.mouseButtons.wheel=tt.ACTION.DOLLY,this._component.controls.mouseButtons.middle=tt.ACTION.DOLLY;const e=this._component.three,t=this._component.threeOrtho;e.position.copy(t.position),e.quaternion.copy(t.quaternion),this._component.controls.mouseButtons.wheel=tt.ACTION.DOLLY,this.matchOrthoDistanceEnabled?this._component.controls.distance=this.getDistance():this._component.controls.distance=this._previousDistance,await this._component.controls.zoomTo(1),e.updateProjectionMatrix(),this._component.controls.camera=e,this.camera=e,this.current="Perspective"}}class mp extends Vi{constructor(e){super(e),T(this,"mode"),T(this,"projection"),T(this,"threeOrtho"),T(this,"_userInputButtons",{}),T(this,"_frustumSize",50),T(this,"_navigationModes",new Map),this.threeOrtho=this.newOrthoCamera(),this._navigationModes.set("Orbit",new Cd(this)),this._navigationModes.set("FirstPerson",new gd(this)),this._navigationModes.set("Plan",new Td(this)),this.mode=this._navigationModes.get("Orbit"),this.mode.set(!0,{preventTargetAdjustment:!0}),this.projection=new yd(this),this.onAspectUpdated.add(()=>this.setOrthoCameraAspect())}get current(){return this.projection.camera}dispose(){super.dispose(),this.threeOrtho.removeFromParent()}set(e){if(this.mode.id!==e){if(this.mode.set(!1),!this._navigationModes.has(e))throw new Error("The specified mode does not exist!");this.mode=this._navigationModes.get(e),this.mode.set(!0)}}async fit(e,t=1.5){if(!this.enabled)return;const n=Number.MAX_VALUE,r=Number.MIN_VALUE,s=new H(n,n,n),o=new H(r,r,r);for(const f of e){const C=new Xe().setFromObject(f);C.min.x<s.x&&(s.x=C.min.x),C.min.y<s.y&&(s.y=C.min.y),C.min.z<s.z&&(s.z=C.min.z),C.max.x>o.x&&(o.x=C.max.x),C.max.y>o.y&&(o.y=C.max.y),C.max.z>o.z&&(o.z=C.max.z)}const c=new Xe(s,o),u=new H;c.getSize(u);const d=new H;c.getCenter(d);const m=Math.max(u.x,u.y,u.z)*t,I=new Ki(d,m);await this.controls.fitToSphere(I,!0)}setUserInput(e){e?this.enableUserInput():this.disableUserInput()}disableUserInput(){this._userInputButtons.left=this.controls.mouseButtons.left,this._userInputButtons.right=this.controls.mouseButtons.right,this._userInputButtons.middle=this.controls.mouseButtons.middle,this._userInputButtons.wheel=this.controls.mouseButtons.wheel,this.controls.mouseButtons.left=0,this.controls.mouseButtons.right=0,this.controls.mouseButtons.middle=0,this.controls.mouseButtons.wheel=0}enableUserInput(){Object.keys(this._userInputButtons).length!==0&&(this.controls.mouseButtons.left=this._userInputButtons.left,this.controls.mouseButtons.right=this._userInputButtons.right,this.controls.mouseButtons.middle=this._userInputButtons.middle,this.controls.mouseButtons.wheel=this._userInputButtons.wheel)}newOrthoCamera(){const e=window.innerWidth/window.innerHeight;return new Wi(this._frustumSize*e/-2,this._frustumSize*e/2,this._frustumSize/2,this._frustumSize/-2,.1,1e3)}setOrthoCameraAspect(){if(!this.currentWorld||!this.currentWorld.renderer)return;const e=this.currentWorld.renderer.getSize(),t=e.x/e.y;this.threeOrtho.left=-this._frustumSize*t/2,this.threeOrtho.right=this._frustumSize*t/2,this.threeOrtho.top=this._frustumSize/2,this.threeOrtho.bottom=-this._frustumSize/2,this.threeOrtho.updateProjectionMatrix()}}const Jc=class Gt extends Ge{constructor(e){super(e),T(this,"enabled",!0),T(this,"onDisposed",new ne),T(this,"_absoluteMin"),T(this,"_absoluteMax"),T(this,"_meshes",[]),this.components.add(Gt.uuid,this),this._absoluteMin=Gt.newBound(!0),this._absoluteMax=Gt.newBound(!1)}static getDimensions(e){const{min:t,max:n}=e,r=Math.abs(n.x-t.x),s=Math.abs(n.y-t.y),o=Math.abs(n.z-t.z),c=new H;return c.subVectors(n,t).divideScalar(2).add(t),{width:r,height:s,depth:o,center:c}}static newBound(e){const t=e?1:-1;return new H(t*Number.MAX_VALUE,t*Number.MAX_VALUE,t*Number.MAX_VALUE)}static getBounds(e,t,n){const r=n||this.newBound(!1),s=t||this.newBound(!0);for(const o of e)o.x<s.x&&(s.x=o.x),o.y<s.y&&(s.y=o.y),o.z<s.z&&(s.z=o.z),o.x>r.x&&(r.x=o.x),o.y>r.y&&(r.y=o.y),o.z>r.z&&(r.z=o.z);return new Xe(t,n)}dispose(){const e=this.components.get(ri);for(const t of this._meshes)e.destroy(t);this._meshes=[],this.onDisposed.trigger(Gt.uuid),this.onDisposed.reset()}get(){const e=this._absoluteMin.clone(),t=this._absoluteMax.clone();return new Xe(e,t)}getSphere(){const e=this._absoluteMin.clone(),t=this._absoluteMax.clone(),n=Math.abs((t.x-e.x)/2),r=Math.abs((t.y-e.y)/2),s=Math.abs((t.z-e.z)/2),o=new H(e.x+n,e.y+r,e.z+s),c=o.distanceTo(e);return new Ki(o,c)}getMesh(){const e=new Xe(this._absoluteMin,this._absoluteMax),t=Gt.getDimensions(e),{width:n,height:r,depth:s,center:o}=t,c=new $e(n,r,s),u=new ce(c);return this._meshes.push(u),u.position.copy(o),u}reset(){this._absoluteMin=Gt.newBound(!0),this._absoluteMax=Gt.newBound(!1)}add(e){for(const t of e.items)this.addMesh(t.mesh)}addMesh(e,t){if(!e.geometry.index)return;const n=Gt.getFragmentBounds(e);e.updateMatrixWorld();const r=e.matrixWorld,s=new Ie,o=e instanceof On,c=new Set;if(t&&e instanceof $l)for(const u of t){const d=e.fragment.getInstancesIDs(u);if(d)for(const m of d)c.add(m)}else c.add(0);for(const u of c){const d=n.min.clone(),m=n.max.clone();o&&(e.getMatrixAt(u,s),d.applyMatrix4(s),m.applyMatrix4(s)),d.applyMatrix4(r),m.applyMatrix4(r),d.x<this._absoluteMin.x&&(this._absoluteMin.x=d.x),d.y<this._absoluteMin.y&&(this._absoluteMin.y=d.y),d.z<this._absoluteMin.z&&(this._absoluteMin.z=d.z),d.x>this._absoluteMax.x&&(this._absoluteMax.x=d.x),d.y>this._absoluteMax.y&&(this._absoluteMax.y=d.y),d.z>this._absoluteMax.z&&(this._absoluteMax.z=d.z),m.x>this._absoluteMax.x&&(this._absoluteMax.x=m.x),m.y>this._absoluteMax.y&&(this._absoluteMax.y=m.y),m.z>this._absoluteMax.z&&(this._absoluteMax.z=m.z),m.x<this._absoluteMin.x&&(this._absoluteMin.x=m.x),m.y<this._absoluteMin.y&&(this._absoluteMin.y=m.y),m.z<this._absoluteMin.z&&(this._absoluteMin.z=m.z)}}static getFragmentBounds(e){const t=e.geometry.attributes.position,n=Number.MAX_VALUE,r=-n,s=new H(n,n,n),o=new H(r,r,r);if(!e.geometry.index)throw new Error("Geometry must be indexed!");const c=Array.from(e.geometry.index.array);for(let u=0;u<c.length;u++){if(u%3===0&&c[u]===0&&c[u+1]===0&&c[u+2]===0){u+=2;continue}const d=c[u],m=t.getX(d),I=t.getY(d),f=t.getZ(d);m<s.x&&(s.x=m),I<s.y&&(s.y=I),f<s.z&&(s.z=f),m>o.x&&(o.x=m),I>o.y&&(o.y=I),f>o.z&&(o.z=f)}return new Xe(s,o)}};T(Jc,"uuid","d1444724-dba6-4cdd-a0c7-68ee1450d166");let Ep=Jc;const ea=new Set([1123145078,574549367,1675464909,2059837836,3798115385,32440307,3125803723,3207858831,2740243338,2624227202,4240577450,3615266464,3724593414,220341763,477187591,1878645084,1300840506,3303107099,1607154358,1878645084,846575682,1351298697,2417041796,3049322572,3331915920,1416205885,776857604,3285139300,3958052878,2827736869,2732653382,673634403,3448662350,4142052618,2924175390,803316827,2556980723,1809719519,2205249479,807026263,3737207727,1660063152,2347385850,3940055652,2705031697,3732776249,2485617015,2611217952,1704287377,2937912522,2770003689,1281925730,1484403080,3448662350,4142052618,3800577675,4006246654,3590301190,1383045692,2775532180,2047409740,370225590,3593883385,2665983363,4124623270,812098782,3649129432,987898635,1105321065,3510044353,1635779807,2603310189,3406155212,1310608509,4261334040,2736907675,3649129432,1136057603,1260505505,4182860854,2713105998,2898889636,59481748,3749851601,3486308946,3150382593,1062206242,3264961684,15328376,1485152156,370225590,1981873012,2859738748,45288368,2614616156,2732653382,775493141,2147822146,2601014836,2629017746,1186437898,2367409068,1213902940,3632507154,3900360178,476780140,1472233963,2804161546,3008276851,738692330,374418227,315944413,3905492369,3570813810,2571569899,178912537,2294589976,1437953363,2133299955,572779678,3092502836,388784114,2624227202,1425443689,3057273783,2347385850,1682466193,2519244187,2839578677,3958567839,2513912981,2830218821,427810014]);class vd{async export(e,t,n=!1,r=!0){const s={},o=new Set(e.GetIfcEntityList(t)),c=new Set([Go,Ho,Ko,Wo,Pn]);for(const u of c)o.add(u);for(const u of o){if(ea.has(u))continue;const d=c.has(u)&&r,m=e.GetLineIDsWithType(t,u);for(const I of m){const f=e.GetLine(0,I,d,n);s[f.expressID]=f}}return s}}const $c={950732822:"IFCURIREFERENCE",4075327185:"IFCTIME",1209108979:"IFCTEMPERATURERATEOFCHANGEMEASURE",3457685358:"IFCSOUNDPRESSURELEVELMEASURE",4157543285:"IFCSOUNDPOWERLEVELMEASURE",2798247006:"IFCPROPERTYSETDEFINITIONSET",1790229001:"IFCPOSITIVEINTEGER",525895558:"IFCNONNEGATIVELENGTHMEASURE",1774176899:"IFCLINEINDEX",1275358634:"IFCLANGUAGEID",2541165894:"IFCDURATION",3701338814:"IFCDAYINWEEKNUMBER",2195413836:"IFCDATETIME",937566702:"IFCDATE",1683019596:"IFCCARDINALPOINTREFERENCE",2314439260:"IFCBINARY",1500781891:"IFCAREADENSITYMEASURE",3683503648:"IFCARCINDEX",4065007721:"IFCYEARNUMBER",1718600412:"IFCWARPINGMOMENTMEASURE",51269191:"IFCWARPINGCONSTANTMEASURE",2593997549:"IFCVOLUMETRICFLOWRATEMEASURE",3458127941:"IFCVOLUMEMEASURE",3345633955:"IFCVAPORPERMEABILITYMEASURE",1278329552:"IFCTORQUEMEASURE",2591213694:"IFCTIMESTAMP",2726807636:"IFCTIMEMEASURE",743184107:"IFCTHERMODYNAMICTEMPERATUREMEASURE",2016195849:"IFCTHERMALTRANSMITTANCEMEASURE",857959152:"IFCTHERMALRESISTANCEMEASURE",2281867870:"IFCTHERMALEXPANSIONCOEFFICIENTMEASURE",2645777649:"IFCTHERMALCONDUCTIVITYMEASURE",232962298:"IFCTHERMALADMITTANCEMEASURE",296282323:"IFCTEXTTRANSFORMATION",603696268:"IFCTEXTFONTNAME",3490877962:"IFCTEXTDECORATION",1460886941:"IFCTEXTALIGNMENT",2801250643:"IFCTEXT",58845555:"IFCTEMPERATUREGRADIENTMEASURE",361837227:"IFCSPECULARROUGHNESS",2757832317:"IFCSPECULAREXPONENT",3477203348:"IFCSPECIFICHEATCAPACITYMEASURE",993287707:"IFCSOUNDPRESSUREMEASURE",846465480:"IFCSOUNDPOWERMEASURE",3471399674:"IFCSOLIDANGLEMEASURE",408310005:"IFCSHEARMODULUSMEASURE",2190458107:"IFCSECTIONALAREAINTEGRALMEASURE",3467162246:"IFCSECTIONMODULUSMEASURE",2766185779:"IFCSECONDINMINUTE",3211557302:"IFCROTATIONALSTIFFNESSMEASURE",1755127002:"IFCROTATIONALMASSMEASURE",2133746277:"IFCROTATIONALFREQUENCYMEASURE",200335297:"IFCREAL",96294661:"IFCRATIOMEASURE",3972513137:"IFCRADIOACTIVITYMEASURE",3665567075:"IFCPRESSUREMEASURE",2169031380:"IFCPRESENTABLETEXT",1364037233:"IFCPOWERMEASURE",1245737093:"IFCPOSITIVERATIOMEASURE",3054510233:"IFCPOSITIVEPLANEANGLEMEASURE",2815919920:"IFCPOSITIVELENGTHMEASURE",4042175685:"IFCPLANEANGLEMEASURE",2642773653:"IFCPLANARFORCEMEASURE",2260317790:"IFCPARAMETERVALUE",929793134:"IFCPHMEASURE",2395907400:"IFCNUMERICMEASURE",2095195183:"IFCNORMALISEDRATIOMEASURE",765770214:"IFCMONTHINYEARNUMBER",2615040989:"IFCMONETARYMEASURE",3114022597:"IFCMOMENTOFINERTIAMEASURE",1648970520:"IFCMOLECULARWEIGHTMEASURE",3177669450:"IFCMOISTUREDIFFUSIVITYMEASURE",1753493141:"IFCMODULUSOFSUBGRADEREACTIONMEASURE",1052454078:"IFCMODULUSOFROTATIONALSUBGRADEREACTIONMEASURE",2173214787:"IFCMODULUSOFLINEARSUBGRADEREACTIONMEASURE",3341486342:"IFCMODULUSOFELASTICITYMEASURE",102610177:"IFCMINUTEINHOUR",3531705166:"IFCMASSPERLENGTHMEASURE",3124614049:"IFCMASSMEASURE",4017473158:"IFCMASSFLOWRATEMEASURE",1477762836:"IFCMASSDENSITYMEASURE",2486716878:"IFCMAGNETICFLUXMEASURE",286949696:"IFCMAGNETICFLUXDENSITYMEASURE",151039812:"IFCLUMINOUSINTENSITYMEASURE",2755797622:"IFCLUMINOUSINTENSITYDISTRIBUTIONMEASURE",2095003142:"IFCLUMINOUSFLUXMEASURE",503418787:"IFCLOGICAL",3086160713:"IFCLINEARVELOCITYMEASURE",1307019551:"IFCLINEARSTIFFNESSMEASURE",2128979029:"IFCLINEARMOMENTMEASURE",191860431:"IFCLINEARFORCEMEASURE",1243674935:"IFCLENGTHMEASURE",3258342251:"IFCLABEL",2054016361:"IFCKINEMATICVISCOSITYMEASURE",3192672207:"IFCISOTHERMALMOISTURECAPACITYMEASURE",3686016028:"IFCIONCONCENTRATIONMEASURE",3809634241:"IFCINTEGERCOUNTRATEMEASURE",1939436016:"IFCINTEGER",2679005408:"IFCINDUCTANCEMEASURE",3358199106:"IFCILLUMINANCEMEASURE",983778844:"IFCIDENTIFIER",2589826445:"IFCHOURINDAY",1158859006:"IFCHEATINGVALUEMEASURE",3113092358:"IFCHEATFLUXDENSITYMEASURE",3064340077:"IFCGLOBALLYUNIQUEID",3044325142:"IFCFREQUENCYMEASURE",1361398929:"IFCFORCEMEASURE",2590844177:"IFCFONTWEIGHT",2715512545:"IFCFONTVARIANT",1102727119:"IFCFONTSTYLE",2078135608:"IFCENERGYMEASURE",2506197118:"IFCELECTRICVOLTAGEMEASURE",2951915441:"IFCELECTRICRESISTANCEMEASURE",3790457270:"IFCELECTRICCURRENTMEASURE",2093906313:"IFCELECTRICCONDUCTANCEMEASURE",3818826038:"IFCELECTRICCHARGEMEASURE",1827137117:"IFCELECTRICCAPACITANCEMEASURE",69416015:"IFCDYNAMICVISCOSITYMEASURE",524656162:"IFCDOSEEQUIVALENTMEASURE",4134073009:"IFCDIMENSIONCOUNT",1514641115:"IFCDESCRIPTIVEMEASURE",300323983:"IFCDAYLIGHTSAVINGHOUR",86635668:"IFCDAYINMONTHNUMBER",94842927:"IFCCURVATUREMEASURE",1778710042:"IFCCOUNTMEASURE",3238673880:"IFCCONTEXTDEPENDENTMEASURE",3812528620:"IFCCOMPOUNDPLANEANGLEMEASURE",2991860651:"IFCCOMPLEXNUMBER",1867003952:"IFCBOXALIGNMENT",2735952531:"IFCBOOLEAN",2650437152:"IFCAREAMEASURE",632304761:"IFCANGULARVELOCITYMEASURE",360377573:"IFCAMOUNTOFSUBSTANCEMEASURE",4182062534:"IFCACCELERATIONMEASURE",3699917729:"IFCABSORBEDDOSEMEASURE",1971632696:"IFCGEOSLICE",2680139844:"IFCGEOMODEL",24726584:"IFCELECTRICFLOWTREATMENTDEVICE",3693000487:"IFCDISTRIBUTIONBOARD",3460952963:"IFCCONVEYORSEGMENT",3999819293:"IFCCAISSONFOUNDATION",3314249567:"IFCBOREHOLE",4196446775:"IFCBEARING",325726236:"IFCALIGNMENT",3425753595:"IFCTRACKELEMENT",991950508:"IFCSIGNAL",3798194928:"IFCREINFORCEDSOIL",3290496277:"IFCRAIL",1383356374:"IFCPAVEMENT",2182337498:"IFCNAVIGATIONELEMENT",234836483:"IFCMOORINGDEVICE",2078563270:"IFCMOBILETELECOMMUNICATIONSAPPLIANCE",1638804497:"IFCLIQUIDTERMINAL",1154579445:"IFCLINEARPOSITIONINGELEMENT",2696325953:"IFCKERB",2713699986:"IFCGEOTECHNICALASSEMBLY",2142170206:"IFCELECTRICFLOWTREATMENTDEVICETYPE",3376911765:"IFCEARTHWORKSFILL",1077100507:"IFCEARTHWORKSELEMENT",3071239417:"IFCEARTHWORKSCUT",479945903:"IFCDISTRIBUTIONBOARDTYPE",3426335179:"IFCDEEPFOUNDATION",1502416096:"IFCCOURSE",2940368186:"IFCCONVEYORSEGMENTTYPE",3203706013:"IFCCAISSONFOUNDATIONTYPE",3862327254:"IFCBUILTSYSTEM",1876633798:"IFCBUILTELEMENT",963979645:"IFCBRIDGEPART",644574406:"IFCBRIDGE",3649138523:"IFCBEARINGTYPE",1662888072:"IFCALIGNMENTVERTICAL",317615605:"IFCALIGNMENTSEGMENT",1545765605:"IFCALIGNMENTHORIZONTAL",4266260250:"IFCALIGNMENTCANT",3956297820:"IFCVIBRATIONDAMPERTYPE",1530820697:"IFCVIBRATIONDAMPER",840318589:"IFCVEHICLE",1953115116:"IFCTRANSPORTATIONDEVICE",618700268:"IFCTRACKELEMENTTYPE",2281632017:"IFCTENDONCONDUITTYPE",3663046924:"IFCTENDONCONDUIT",42703149:"IFCSINESPIRAL",1894708472:"IFCSIGNALTYPE",3599934289:"IFCSIGNTYPE",33720170:"IFCSIGN",1027922057:"IFCSEVENTHORDERPOLYNOMIALSPIRAL",544395925:"IFCSEGMENTEDREFERENCECURVE",3649235739:"IFCSECONDORDERPOLYNOMIALSPIRAL",550521510:"IFCROADPART",146592293:"IFCROAD",3818125796:"IFCRELADHERESTOELEMENT",4021432810:"IFCREFERENT",1891881377:"IFCRAILWAYPART",3992365140:"IFCRAILWAY",1763565496:"IFCRAILTYPE",1946335990:"IFCPOSITIONINGELEMENT",514975943:"IFCPAVEMENTTYPE",506776471:"IFCNAVIGATIONELEMENTTYPE",710110818:"IFCMOORINGDEVICETYPE",1950438474:"IFCMOBILETELECOMMUNICATIONSAPPLIANCETYPE",976884017:"IFCMARINEPART",525669439:"IFCMARINEFACILITY",1770583370:"IFCLIQUIDTERMINALTYPE",2176059722:"IFCLINEARELEMENT",679976338:"IFCKERBTYPE",3948183225:"IFCIMPACTPROTECTIONDEVICETYPE",2568555532:"IFCIMPACTPROTECTIONDEVICE",2898700619:"IFCGRADIENTCURVE",1594536857:"IFCGEOTECHNICALSTRATUM",4230923436:"IFCGEOTECHNICALELEMENT",4228831410:"IFCFACILITYPARTCOMMON",1310830890:"IFCFACILITYPART",24185140:"IFCFACILITY",4234616927:"IFCDIRECTRIXDERIVEDREFERENCESWEPTAREASOLID",1306400036:"IFCDEEPFOUNDATIONTYPE",4189326743:"IFCCOURSETYPE",2000195564:"IFCCOSINESPIRAL",3497074424:"IFCCLOTHOID",1626504194:"IFCBUILTELEMENTTYPE",3651464721:"IFCVEHICLETYPE",1229763772:"IFCTRIANGULATEDIRREGULARNETWORK",3665877780:"IFCTRANSPORTATIONDEVICETYPE",782932809:"IFCTHIRDORDERPOLYNOMIALSPIRAL",2735484536:"IFCSPIRAL",1356537516:"IFCSECTIONEDSURFACE",1290935644:"IFCSECTIONEDSOLIDHORIZONTAL",1862484736:"IFCSECTIONEDSOLID",1441486842:"IFCRELPOSITIONS",1033248425:"IFCRELASSOCIATESPROFILEDEF",3381221214:"IFCPOLYNOMIALCURVE",2485787929:"IFCOFFSETCURVEBYDISTANCES",590820931:"IFCOFFSETCURVE",3465909080:"IFCINDEXEDPOLYGONALTEXTUREMAP",593015953:"IFCDIRECTRIXCURVESWEPTAREASOLID",4212018352:"IFCCURVESEGMENT",3425423356:"IFCAXIS2PLACEMENTLINEAR",823603102:"IFCSEGMENT",2165702409:"IFCPOINTBYDISTANCEEXPRESSION",182550632:"IFCOPENCROSSPROFILEDEF",388784114:"IFCLINEARPLACEMENT",536804194:"IFCALIGNMENTHORIZONTALSEGMENT",3752311538:"IFCALIGNMENTCANTSEGMENT",1010789467:"IFCTEXTURECOORDINATEINDICESWITHVOIDS",222769930:"IFCTEXTURECOORDINATEINDICES",2691318326:"IFCQUANTITYNUMBER",3633395639:"IFCALIGNMENTVERTICALSEGMENT",2879124712:"IFCALIGNMENTPARAMETERSEGMENT",25142252:"IFCCONTROLLER",3087945054:"IFCALARM",4288193352:"IFCACTUATOR",630975310:"IFCUNITARYCONTROLELEMENT",4086658281:"IFCSENSOR",2295281155:"IFCPROTECTIVEDEVICETRIPPINGUNIT",182646315:"IFCFLOWINSTRUMENT",1426591983:"IFCFIRESUPPRESSIONTERMINAL",819412036:"IFCFILTER",3415622556:"IFCFAN",1003880860:"IFCELECTRICTIMECONTROL",402227799:"IFCELECTRICMOTOR",264262732:"IFCELECTRICGENERATOR",3310460725:"IFCELECTRICFLOWSTORAGEDEVICE",862014818:"IFCELECTRICDISTRIBUTIONBOARD",1904799276:"IFCELECTRICAPPLIANCE",1360408905:"IFCDUCTSILENCER",3518393246:"IFCDUCTSEGMENT",342316401:"IFCDUCTFITTING",562808652:"IFCDISTRIBUTIONCIRCUIT",4074379575:"IFCDAMPER",3640358203:"IFCCOOLINGTOWER",4136498852:"IFCCOOLEDBEAM",2272882330:"IFCCONDENSER",3571504051:"IFCCOMPRESSOR",3221913625:"IFCCOMMUNICATIONSAPPLIANCE",639361253:"IFCCOIL",3902619387:"IFCCHILLER",4217484030:"IFCCABLESEGMENT",1051757585:"IFCCABLEFITTING",3758799889:"IFCCABLECARRIERSEGMENT",635142910:"IFCCABLECARRIERFITTING",2938176219:"IFCBURNER",32344328:"IFCBOILER",2906023776:"IFCBEAMSTANDARDCASE",277319702:"IFCAUDIOVISUALAPPLIANCE",2056796094:"IFCAIRTOAIRHEATRECOVERY",177149247:"IFCAIRTERMINALBOX",1634111441:"IFCAIRTERMINAL",486154966:"IFCWINDOWSTANDARDCASE",4237592921:"IFCWASTETERMINAL",4156078855:"IFCWALLELEMENTEDCASE",4207607924:"IFCVALVE",4292641817:"IFCUNITARYEQUIPMENT",3179687236:"IFCUNITARYCONTROLELEMENTTYPE",3026737570:"IFCTUBEBUNDLE",3825984169:"IFCTRANSFORMER",812556717:"IFCTANK",1162798199:"IFCSWITCHINGDEVICE",385403989:"IFCSTRUCTURALLOADCASE",1404847402:"IFCSTACKTERMINAL",1999602285:"IFCSPACEHEATER",3420628829:"IFCSOLARDEVICE",3027962421:"IFCSLABSTANDARDCASE",3127900445:"IFCSLABELEMENTEDCASE",1329646415:"IFCSHADINGDEVICE",3053780830:"IFCSANITARYTERMINAL",2572171363:"IFCREINFORCINGBARTYPE",1232101972:"IFCRATIONALBSPLINECURVEWITHKNOTS",90941305:"IFCPUMP",655969474:"IFCPROTECTIVEDEVICETRIPPINGUNITTYPE",738039164:"IFCPROTECTIVEDEVICE",1156407060:"IFCPLATESTANDARDCASE",3612865200:"IFCPIPESEGMENT",310824031:"IFCPIPEFITTING",3694346114:"IFCOUTLET",144952367:"IFCOUTERBOUNDARYCURVE",2474470126:"IFCMOTORCONNECTION",1911478936:"IFCMEMBERSTANDARDCASE",1437502449:"IFCMEDICALDEVICE",629592764:"IFCLIGHTFIXTURE",76236018:"IFCLAMP",2176052936:"IFCJUNCTIONBOX",4175244083:"IFCINTERCEPTOR",2068733104:"IFCHUMIDIFIER",3319311131:"IFCHEATEXCHANGER",2188021234:"IFCFLOWMETER",1209101575:"IFCEXTERNALSPATIALELEMENT",484807127:"IFCEVAPORATOR",3747195512:"IFCEVAPORATIVECOOLER",2814081492:"IFCENGINE",2417008758:"IFCELECTRICDISTRIBUTIONBOARDTYPE",3242481149:"IFCDOORSTANDARDCASE",3205830791:"IFCDISTRIBUTIONSYSTEM",400855858:"IFCCOMMUNICATIONSAPPLIANCETYPE",905975707:"IFCCOLUMNSTANDARDCASE",1677625105:"IFCCIVILELEMENT",3296154744:"IFCCHIMNEY",2674252688:"IFCCABLEFITTINGTYPE",2188180465:"IFCBURNERTYPE",1177604601:"IFCBUILDINGSYSTEM",39481116:"IFCBUILDINGELEMENTPARTTYPE",1136057603:"IFCBOUNDARYCURVE",2461110595:"IFCBSPLINECURVEWITHKNOTS",1532957894:"IFCAUDIOVISUALAPPLIANCETYPE",4088093105:"IFCWORKCALENDAR",4009809668:"IFCWINDOWTYPE",926996030:"IFCVOIDINGFEATURE",2391383451:"IFCVIBRATIONISOLATOR",2415094496:"IFCTENDONTYPE",3081323446:"IFCTENDONANCHORTYPE",413509423:"IFCSYSTEMFURNITUREELEMENT",3101698114:"IFCSURFACEFEATURE",3657597509:"IFCSTRUCTURALSURFACEACTION",2757150158:"IFCSTRUCTURALCURVEREACTION",1004757350:"IFCSTRUCTURALCURVEACTION",338393293:"IFCSTAIRTYPE",1072016465:"IFCSOLARDEVICETYPE",4074543187:"IFCSHADINGDEVICETYPE",2157484638:"IFCSEAMCURVE",2781568857:"IFCROOFTYPE",2310774935:"IFCREINFORCINGMESHTYPE",964333572:"IFCREINFORCINGELEMENTTYPE",683857671:"IFCRATIONALBSPLINESURFACEWITHKNOTS",1469900589:"IFCRAMPTYPE",2839578677:"IFCPOLYGONALFACESET",1158309216:"IFCPILETYPE",3079942009:"IFCOPENINGSTANDARDCASE",1114901282:"IFCMEDICALDEVICETYPE",3113134337:"IFCINTERSECTIONCURVE",3946677679:"IFCINTERCEPTORTYPE",2571569899:"IFCINDEXEDPOLYCURVE",3493046030:"IFCGEOGRAPHICELEMENT",1509553395:"IFCFURNITURE",1893162501:"IFCFOOTINGTYPE",2853485674:"IFCEXTERNALSPATIALSTRUCTUREELEMENT",4148101412:"IFCEVENT",132023988:"IFCENGINETYPE",2397081782:"IFCELEMENTASSEMBLYTYPE",2323601079:"IFCDOORTYPE",1213902940:"IFCCYLINDRICALSURFACE",1525564444:"IFCCONSTRUCTIONPRODUCTRESOURCETYPE",4105962743:"IFCCONSTRUCTIONMATERIALRESOURCETYPE",2185764099:"IFCCONSTRUCTIONEQUIPMENTRESOURCETYPE",15328376:"IFCCOMPOSITECURVEONSURFACE",3875453745:"IFCCOMPLEXPROPERTYTEMPLATE",3893394355:"IFCCIVILELEMENTTYPE",2197970202:"IFCCHIMNEYTYPE",167062518:"IFCBSPLINESURFACEWITHKNOTS",2887950389:"IFCBSPLINESURFACE",2603310189:"IFCADVANCEDBREPWITHVOIDS",1635779807:"IFCADVANCEDBREP",2916149573:"IFCTRIANGULATEDFACESET",1935646853:"IFCTOROIDALSURFACE",2387106220:"IFCTESSELLATEDFACESET",3206491090:"IFCTASKTYPE",699246055:"IFCSURFACECURVE",4095615324:"IFCSUBCONTRACTRESOURCETYPE",603775116:"IFCSTRUCTURALSURFACEREACTION",4015995234:"IFCSPHERICALSURFACE",2481509218:"IFCSPATIALZONETYPE",463610769:"IFCSPATIALZONE",710998568:"IFCSPATIALELEMENTTYPE",1412071761:"IFCSPATIALELEMENT",3663146110:"IFCSIMPLEPROPERTYTEMPLATE",3243963512:"IFCREVOLVEDAREASOLIDTAPERED",816062949:"IFCREPARAMETRISEDCOMPOSITECURVESEGMENT",1521410863:"IFCRELSPACEBOUNDARY2NDLEVEL",3523091289:"IFCRELSPACEBOUNDARY1STLEVEL",427948657:"IFCRELINTERFERESELEMENTS",307848117:"IFCRELDEFINESBYTEMPLATE",1462361463:"IFCRELDEFINESBYOBJECT",2565941209:"IFCRELDECLARES",1027710054:"IFCRELASSIGNSTOGROUPBYFACTOR",3521284610:"IFCPROPERTYTEMPLATE",492091185:"IFCPROPERTYSETTEMPLATE",653396225:"IFCPROJECTLIBRARY",569719735:"IFCPROCEDURETYPE",3967405729:"IFCPREDEFINEDPROPERTYSET",1682466193:"IFCPCURVE",428585644:"IFCLABORRESOURCETYPE",2294589976:"IFCINDEXEDPOLYGONALFACEWITHVOIDS",178912537:"IFCINDEXEDPOLYGONALFACE",4095422895:"IFCGEOGRAPHICELEMENTTYPE",2652556860:"IFCFIXEDREFERENCESWEPTAREASOLID",2804161546:"IFCEXTRUDEDAREASOLIDTAPERED",4024345920:"IFCEVENTTYPE",2629017746:"IFCCURVEBOUNDEDSURFACE",1815067380:"IFCCREWRESOURCETYPE",3419103109:"IFCCONTEXT",2574617495:"IFCCONSTRUCTIONRESOURCETYPE",2059837836:"IFCCARTESIANPOINTLIST3D",1675464909:"IFCCARTESIANPOINTLIST2D",574549367:"IFCCARTESIANPOINTLIST",3406155212:"IFCADVANCEDFACE",3698973494:"IFCTYPERESOURCE",3736923433:"IFCTYPEPROCESS",901063453:"IFCTESSELLATEDITEM",1096409881:"IFCSWEPTDISKSOLIDPOLYGONAL",1042787934:"IFCRESOURCETIME",1608871552:"IFCRESOURCECONSTRAINTRELATIONSHIP",2943643501:"IFCRESOURCEAPPROVALRELATIONSHIP",2090586900:"IFCQUANTITYSET",1482703590:"IFCPROPERTYTEMPLATEDEFINITION",3778827333:"IFCPREDEFINEDPROPERTIES",2998442950:"IFCMIRROREDPROFILEDEF",853536259:"IFCMATERIALRELATIONSHIP",3404854881:"IFCMATERIALPROFILESETUSAGETAPERING",3079605661:"IFCMATERIALPROFILESETUSAGE",2852063980:"IFCMATERIALCONSTITUENTSET",3708119e3:"IFCMATERIALCONSTITUENT",1585845231:"IFCLAGTIME",2133299955:"IFCINDEXEDTRIANGLETEXTUREMAP",1437953363:"IFCINDEXEDTEXTUREMAP",3570813810:"IFCINDEXEDCOLOURMAP",1437805879:"IFCEXTERNALREFERENCERELATIONSHIP",297599258:"IFCEXTENDEDPROPERTIES",211053100:"IFCEVENTTIME",2713554722:"IFCCONVERSIONBASEDUNITWITHOFFSET",3285139300:"IFCCOLOURRGBLIST",1236880293:"IFCWORKTIME",1199560280:"IFCTIMEPERIOD",3611470254:"IFCTEXTUREVERTEXLIST",2771591690:"IFCTASKTIMERECURRING",1549132990:"IFCTASKTIME",2043862942:"IFCTABLECOLUMN",2934153892:"IFCSURFACEREINFORCEMENTAREA",609421318:"IFCSTRUCTURALLOADORRESULT",3478079324:"IFCSTRUCTURALLOADCONFIGURATION",1054537805:"IFCSCHEDULINGTIME",2439245199:"IFCRESOURCELEVELRELATIONSHIP",2433181523:"IFCREFERENCE",3915482550:"IFCRECURRENCEPATTERN",986844984:"IFCPROPERTYABSTRACTION",3843373140:"IFCPROJECTEDCRS",677532197:"IFCPRESENTATIONITEM",1507914824:"IFCMATERIALUSAGEDEFINITION",552965576:"IFCMATERIALPROFILEWITHOFFSETS",164193824:"IFCMATERIALPROFILESET",2235152071:"IFCMATERIALPROFILE",1847252529:"IFCMATERIALLAYERWITHOFFSETS",760658860:"IFCMATERIALDEFINITION",3057273783:"IFCMAPCONVERSION",4294318154:"IFCEXTERNALINFORMATION",1466758467:"IFCCOORDINATEREFERENCESYSTEM",1785450214:"IFCCOORDINATEOPERATION",775493141:"IFCCONNECTIONVOLUMEGEOMETRY",979691226:"IFCREINFORCINGBAR",3700593921:"IFCELECTRICDISTRIBUTIONPOINT",1062813311:"IFCDISTRIBUTIONCONTROLELEMENT",1052013943:"IFCDISTRIBUTIONCHAMBERELEMENT",578613899:"IFCCONTROLLERTYPE",2454782716:"IFCCHAMFEREDGEFEATURE",753842376:"IFCBEAM",3001207471:"IFCALARMTYPE",2874132201:"IFCACTUATORTYPE",3304561284:"IFCWINDOW",3512223829:"IFCWALLSTANDARDCASE",2391406946:"IFCWALL",3313531582:"IFCVIBRATIONISOLATORTYPE",2347447852:"IFCTENDONANCHOR",3824725483:"IFCTENDON",2515109513:"IFCSTRUCTURALANALYSISMODEL",4252922144:"IFCSTAIRFLIGHT",331165859:"IFCSTAIR",1529196076:"IFCSLAB",1783015770:"IFCSENSORTYPE",1376911519:"IFCROUNDEDEDGEFEATURE",2016517767:"IFCROOF",2320036040:"IFCREINFORCINGMESH",3027567501:"IFCREINFORCINGELEMENT",3055160366:"IFCRATIONALBEZIERCURVE",3283111854:"IFCRAMPFLIGHT",3024970846:"IFCRAMP",2262370178:"IFCRAILING",3171933400:"IFCPLATE",1687234759:"IFCPILE",1073191201:"IFCMEMBER",900683007:"IFCFOOTING",3508470533:"IFCFLOWTREATMENTDEVICE",2223149337:"IFCFLOWTERMINAL",707683696:"IFCFLOWSTORAGEDEVICE",987401354:"IFCFLOWSEGMENT",3132237377:"IFCFLOWMOVINGDEVICE",4037862832:"IFCFLOWINSTRUMENTTYPE",4278956645:"IFCFLOWFITTING",2058353004:"IFCFLOWCONTROLLER",4222183408:"IFCFIRESUPPRESSIONTERMINALTYPE",1810631287:"IFCFILTERTYPE",346874300:"IFCFANTYPE",1658829314:"IFCENERGYCONVERSIONDEVICE",857184966:"IFCELECTRICALELEMENT",1634875225:"IFCELECTRICALCIRCUIT",712377611:"IFCELECTRICTIMECONTROLTYPE",1217240411:"IFCELECTRICMOTORTYPE",1365060375:"IFCELECTRICHEATERTYPE",1534661035:"IFCELECTRICGENERATORTYPE",3277789161:"IFCELECTRICFLOWSTORAGEDEVICETYPE",663422040:"IFCELECTRICAPPLIANCETYPE",855621170:"IFCEDGEFEATURE",2030761528:"IFCDUCTSILENCERTYPE",3760055223:"IFCDUCTSEGMENTTYPE",869906466:"IFCDUCTFITTINGTYPE",395920057:"IFCDOOR",3041715199:"IFCDISTRIBUTIONPORT",3040386961:"IFCDISTRIBUTIONFLOWELEMENT",1945004755:"IFCDISTRIBUTIONELEMENT",2063403501:"IFCDISTRIBUTIONCONTROLELEMENTTYPE",1599208980:"IFCDISTRIBUTIONCHAMBERELEMENTTYPE",2635815018:"IFCDISCRETEACCESSORYTYPE",1335981549:"IFCDISCRETEACCESSORY",4147604152:"IFCDIAMETERDIMENSION",3961806047:"IFCDAMPERTYPE",3495092785:"IFCCURTAINWALL",1973544240:"IFCCOVERING",2954562838:"IFCCOOLINGTOWERTYPE",335055490:"IFCCOOLEDBEAMTYPE",488727124:"IFCCONSTRUCTIONPRODUCTRESOURCE",1060000209:"IFCCONSTRUCTIONMATERIALRESOURCE",3898045240:"IFCCONSTRUCTIONEQUIPMENTRESOURCE",1163958913:"IFCCONDITIONCRITERION",2188551683:"IFCCONDITION",2816379211:"IFCCONDENSERTYPE",3850581409:"IFCCOMPRESSORTYPE",843113511:"IFCCOLUMN",2301859152:"IFCCOILTYPE",2611217952:"IFCCIRCLE",2951183804:"IFCCHILLERTYPE",1285652485:"IFCCABLESEGMENTTYPE",3293546465:"IFCCABLECARRIERSEGMENTTYPE",395041908:"IFCCABLECARRIERFITTINGTYPE",1909888760:"IFCBUILDINGELEMENTPROXYTYPE",1095909175:"IFCBUILDINGELEMENTPROXY",2979338954:"IFCBUILDINGELEMENTPART",52481810:"IFCBUILDINGELEMENTCOMPONENT",3299480353:"IFCBUILDINGELEMENT",231477066:"IFCBOILERTYPE",1916977116:"IFCBEZIERCURVE",819618141:"IFCBEAMTYPE",1967976161:"IFCBSPLINECURVE",3460190687:"IFCASSET",2470393545:"IFCANGULARDIMENSION",1871374353:"IFCAIRTOAIRHEATRECOVERYTYPE",3352864051:"IFCAIRTERMINALTYPE",1411407467:"IFCAIRTERMINALBOXTYPE",3821786052:"IFCACTIONREQUEST",1213861670:"IFC2DCOMPOSITECURVE",1033361043:"IFCZONE",3342526732:"IFCWORKSCHEDULE",4218914973:"IFCWORKPLAN",1028945134:"IFCWORKCONTROL",1133259667:"IFCWASTETERMINALTYPE",1898987631:"IFCWALLTYPE",2769231204:"IFCVIRTUALELEMENT",728799441:"IFCVALVETYPE",1911125066:"IFCUNITARYEQUIPMENTTYPE",1600972822:"IFCTUBEBUNDLETYPE",3593883385:"IFCTRIMMEDCURVE",1620046519:"IFCTRANSPORTELEMENT",1692211062:"IFCTRANSFORMERTYPE",1637806684:"IFCTIMESERIESSCHEDULE",5716631:"IFCTANKTYPE",2254336722:"IFCSYSTEM",2315554128:"IFCSWITCHINGDEVICETYPE",148013059:"IFCSUBCONTRACTRESOURCE",1975003073:"IFCSTRUCTURALSURFACECONNECTION",2986769608:"IFCSTRUCTURALRESULTGROUP",1235345126:"IFCSTRUCTURALPOINTREACTION",734778138:"IFCSTRUCTURALPOINTCONNECTION",2082059205:"IFCSTRUCTURALPOINTACTION",3987759626:"IFCSTRUCTURALPLANARACTIONVARYING",1621171031:"IFCSTRUCTURALPLANARACTION",1252848954:"IFCSTRUCTURALLOADGROUP",1721250024:"IFCSTRUCTURALLINEARACTIONVARYING",1807405624:"IFCSTRUCTURALLINEARACTION",2445595289:"IFCSTRUCTURALCURVEMEMBERVARYING",214636428:"IFCSTRUCTURALCURVEMEMBER",4243806635:"IFCSTRUCTURALCURVECONNECTION",1179482911:"IFCSTRUCTURALCONNECTION",682877961:"IFCSTRUCTURALACTION",1039846685:"IFCSTAIRFLIGHTTYPE",3112655638:"IFCSTACKTERMINALTYPE",3812236995:"IFCSPACETYPE",652456506:"IFCSPACEPROGRAM",1305183839:"IFCSPACEHEATERTYPE",3856911033:"IFCSPACE",2533589738:"IFCSLABTYPE",4097777520:"IFCSITE",4105383287:"IFCSERVICELIFE",3517283431:"IFCSCHEDULETIMECONTROL",1768891740:"IFCSANITARYTERMINALTYPE",2863920197:"IFCRELASSIGNSTASKS",160246688:"IFCRELAGGREGATES",2324767716:"IFCRAMPFLIGHTTYPE",2893384427:"IFCRAILINGTYPE",3248260540:"IFCRADIUSDIMENSION",2250791053:"IFCPUMPTYPE",1842657554:"IFCPROTECTIVEDEVICETYPE",3651124850:"IFCPROJECTIONELEMENT",3642467123:"IFCPROJECTORDERRECORD",2904328755:"IFCPROJECTORDER",2744685151:"IFCPROCEDURE",3740093272:"IFCPORT",3724593414:"IFCPOLYLINE",4017108033:"IFCPLATETYPE",4231323485:"IFCPIPESEGMENTTYPE",804291784:"IFCPIPEFITTINGTYPE",3327091369:"IFCPERMIT",2382730787:"IFCPERFORMANCEHISTORY",2837617999:"IFCOUTLETTYPE",3425660407:"IFCORDERACTION",3588315303:"IFCOPENINGELEMENT",4143007308:"IFCOCCUPANT",1916936684:"IFCMOVE",977012517:"IFCMOTORCONNECTIONTYPE",3181161470:"IFCMEMBERTYPE",2108223431:"IFCMECHANICALFASTENERTYPE",377706215:"IFCMECHANICALFASTENER",2506943328:"IFCLINEARDIMENSION",1161773419:"IFCLIGHTFIXTURETYPE",1051575348:"IFCLAMPTYPE",3827777499:"IFCLABORRESOURCE",4288270099:"IFCJUNCTIONBOXTYPE",2391368822:"IFCINVENTORY",1806887404:"IFCHUMIDIFIERTYPE",1251058090:"IFCHEATEXCHANGERTYPE",2706460486:"IFCGROUP",3009204131:"IFCGRID",200128114:"IFCGASTERMINALTYPE",814719939:"IFCFURNITURESTANDARD",263784265:"IFCFURNISHINGELEMENT",3009222698:"IFCFLOWTREATMENTDEVICETYPE",2297155007:"IFCFLOWTERMINALTYPE",1339347760:"IFCFLOWSTORAGEDEVICETYPE",1834744321:"IFCFLOWSEGMENTTYPE",1482959167:"IFCFLOWMOVINGDEVICETYPE",3815607619:"IFCFLOWMETERTYPE",3198132628:"IFCFLOWFITTINGTYPE",3907093117:"IFCFLOWCONTROLLERTYPE",1287392070:"IFCFEATUREELEMENTSUBTRACTION",2143335405:"IFCFEATUREELEMENTADDITION",2827207264:"IFCFEATUREELEMENT",2489546625:"IFCFASTENERTYPE",647756555:"IFCFASTENER",3737207727:"IFCFACETEDBREPWITHVOIDS",807026263:"IFCFACETEDBREP",3390157468:"IFCEVAPORATORTYPE",3174744832:"IFCEVAPORATIVECOOLERTYPE",3272907226:"IFCEQUIPMENTSTANDARD",1962604670:"IFCEQUIPMENTELEMENT",2107101300:"IFCENERGYCONVERSIONDEVICETYPE",1704287377:"IFCELLIPSE",2590856083:"IFCELEMENTCOMPONENTTYPE",1623761950:"IFCELEMENTCOMPONENT",4123344466:"IFCELEMENTASSEMBLY",1758889154:"IFCELEMENT",360485395:"IFCELECTRICALBASEPROPERTIES",3849074793:"IFCDISTRIBUTIONFLOWELEMENTTYPE",3256556792:"IFCDISTRIBUTIONELEMENTTYPE",681481545:"IFCDIMENSIONCURVEDIRECTEDCALLOUT",1457835157:"IFCCURTAINWALLTYPE",3295246426:"IFCCREWRESOURCE",1916426348:"IFCCOVERINGTYPE",1419761937:"IFCCOSTSCHEDULE",3895139033:"IFCCOSTITEM",3293443760:"IFCCONTROL",2559216714:"IFCCONSTRUCTIONRESOURCE",2510884976:"IFCCONIC",3732776249:"IFCCOMPOSITECURVE",300633059:"IFCCOLUMNTYPE",2937912522:"IFCCIRCLEHOLLOWPROFILEDEF",3124254112:"IFCBUILDINGSTOREY",1950629157:"IFCBUILDINGELEMENTTYPE",4031249490:"IFCBUILDING",1260505505:"IFCBOUNDEDCURVE",3649129432:"IFCBOOLEANCLIPPINGRESULT",1334484129:"IFCBLOCK",3207858831:"IFCASYMMETRICISHAPEPROFILEDEF",1674181508:"IFCANNOTATION",2296667514:"IFCACTOR",2097647324:"IFCTRANSPORTELEMENTTYPE",3473067441:"IFCTASK",1580310250:"IFCSYSTEMFURNITUREELEMENTTYPE",4124788165:"IFCSURFACEOFREVOLUTION",2809605785:"IFCSURFACEOFLINEAREXTRUSION",2028607225:"IFCSURFACECURVESWEPTAREASOLID",4070609034:"IFCSTRUCTUREDDIMENSIONCALLOUT",2218152070:"IFCSTRUCTURALSURFACEMEMBERVARYING",3979015343:"IFCSTRUCTURALSURFACEMEMBER",3689010777:"IFCSTRUCTURALREACTION",530289379:"IFCSTRUCTURALMEMBER",3136571912:"IFCSTRUCTURALITEM",3544373492:"IFCSTRUCTURALACTIVITY",451544542:"IFCSPHERE",3893378262:"IFCSPATIALSTRUCTUREELEMENTTYPE",2706606064:"IFCSPATIALSTRUCTUREELEMENT",3626867408:"IFCRIGHTCIRCULARCYLINDER",4158566097:"IFCRIGHTCIRCULARCONE",1856042241:"IFCREVOLVEDAREASOLID",2914609552:"IFCRESOURCE",1401173127:"IFCRELVOIDSELEMENT",3451746338:"IFCRELSPACEBOUNDARY",366585022:"IFCRELSERVICESBUILDINGS",4122056220:"IFCRELSEQUENCE",1058617721:"IFCRELSCHEDULESCOSTITEMS",1245217292:"IFCRELREFERENCEDINSPATIALSTRUCTURE",750771296:"IFCRELPROJECTSELEMENT",202636808:"IFCRELOVERRIDESPROPERTIES",2051452291:"IFCRELOCCUPIESSPACES",3268803585:"IFCRELNESTS",4189434867:"IFCRELINTERACTIONREQUIREMENTS",279856033:"IFCRELFLOWCONTROLELEMENTS",3940055652:"IFCRELFILLSELEMENT",781010003:"IFCRELDEFINESBYTYPE",4186316022:"IFCRELDEFINESBYPROPERTIES",693640335:"IFCRELDEFINES",2551354335:"IFCRELDECOMPOSES",2802773753:"IFCRELCOVERSSPACES",886880790:"IFCRELCOVERSBLDGELEMENTS",3242617779:"IFCRELCONTAINEDINSPATIALSTRUCTURE",3678494232:"IFCRELCONNECTSWITHREALIZINGELEMENTS",504942748:"IFCRELCONNECTSWITHECCENTRICITY",1638771189:"IFCRELCONNECTSSTRUCTURALMEMBER",3912681535:"IFCRELCONNECTSSTRUCTURALELEMENT",2127690289:"IFCRELCONNECTSSTRUCTURALACTIVITY",3190031847:"IFCRELCONNECTSPORTS",4201705270:"IFCRELCONNECTSPORTTOELEMENT",3945020480:"IFCRELCONNECTSPATHELEMENTS",1204542856:"IFCRELCONNECTSELEMENTS",826625072:"IFCRELCONNECTS",2851387026:"IFCRELASSOCIATESPROFILEPROPERTIES",2655215786:"IFCRELASSOCIATESMATERIAL",3840914261:"IFCRELASSOCIATESLIBRARY",982818633:"IFCRELASSOCIATESDOCUMENT",2728634034:"IFCRELASSOCIATESCONSTRAINT",919958153:"IFCRELASSOCIATESCLASSIFICATION",4095574036:"IFCRELASSOCIATESAPPROVAL",1327628568:"IFCRELASSOCIATESAPPLIEDVALUE",1865459582:"IFCRELASSOCIATES",205026976:"IFCRELASSIGNSTORESOURCE",3372526763:"IFCRELASSIGNSTOPROJECTORDER",2857406711:"IFCRELASSIGNSTOPRODUCT",4278684876:"IFCRELASSIGNSTOPROCESS",1307041759:"IFCRELASSIGNSTOGROUP",2495723537:"IFCRELASSIGNSTOCONTROL",1683148259:"IFCRELASSIGNSTOACTOR",3939117080:"IFCRELASSIGNS",3454111270:"IFCRECTANGULARTRIMMEDSURFACE",2798486643:"IFCRECTANGULARPYRAMID",2770003689:"IFCRECTANGLEHOLLOWPROFILEDEF",3219374653:"IFCPROXY",1451395588:"IFCPROPERTYSET",4194566429:"IFCPROJECTIONCURVE",103090709:"IFCPROJECT",4208778838:"IFCPRODUCT",2945172077:"IFCPROCESS",220341763:"IFCPLANE",603570806:"IFCPLANARBOX",3566463478:"IFCPERMEABLECOVERINGPROPERTIES",3505215534:"IFCOFFSETCURVE3D",3388369263:"IFCOFFSETCURVE2D",3888040117:"IFCOBJECT",1425443689:"IFCMANIFOLDSOLIDBREP",1281925730:"IFCLINE",572779678:"IFCLSHAPEPROFILEDEF",1484403080:"IFCISHAPEPROFILEDEF",987898635:"IFCGEOMETRICCURVESET",1268542332:"IFCFURNITURETYPE",4238390223:"IFCFURNISHINGELEMENTTYPE",3455213021:"IFCFLUIDFLOWPROPERTIES",315944413:"IFCFILLAREASTYLETILES",4203026998:"IFCFILLAREASTYLETILESYMBOLWITHSTYLE",374418227:"IFCFILLAREASTYLEHATCHING",2047409740:"IFCFACEBASEDSURFACEMODEL",477187591:"IFCEXTRUDEDAREASOLID",80994333:"IFCENERGYPROPERTIES",2835456948:"IFCELLIPSEPROFILEDEF",2777663545:"IFCELEMENTARYSURFACE",339256511:"IFCELEMENTTYPE",1883228015:"IFCELEMENTQUANTITY",1472233963:"IFCEDGELOOP",4006246654:"IFCDRAUGHTINGPREDEFINEDCURVEFONT",445594917:"IFCDRAUGHTINGPREDEFINEDCOLOUR",3073041342:"IFCDRAUGHTINGCALLOUT",526551008:"IFCDOORSTYLE",1714330368:"IFCDOORPANELPROPERTIES",2963535650:"IFCDOORLININGPROPERTIES",32440307:"IFCDIRECTION",4054601972:"IFCDIMENSIONCURVETERMINATOR",606661476:"IFCDIMENSIONCURVE",693772133:"IFCDEFINEDSYMBOL",2827736869:"IFCCURVEBOUNDEDPLANE",2601014836:"IFCCURVE",2147822146:"IFCCSGSOLID",2506170314:"IFCCSGPRIMITIVE3D",194851669:"IFCCRANERAILFSHAPEPROFILEDEF",4133800736:"IFCCRANERAILASHAPEPROFILEDEF",2485617015:"IFCCOMPOSITECURVESEGMENT",2205249479:"IFCCLOSEDSHELL",1383045692:"IFCCIRCLEPROFILEDEF",1416205885:"IFCCARTESIANTRANSFORMATIONOPERATOR3DNONUNIFORM",3331915920:"IFCCARTESIANTRANSFORMATIONOPERATOR3D",3486308946:"IFCCARTESIANTRANSFORMATIONOPERATOR2DNONUNIFORM",3749851601:"IFCCARTESIANTRANSFORMATIONOPERATOR2D",59481748:"IFCCARTESIANTRANSFORMATIONOPERATOR",1123145078:"IFCCARTESIANPOINT",2898889636:"IFCCSHAPEPROFILEDEF",2713105998:"IFCBOXEDHALFSPACE",2581212453:"IFCBOUNDINGBOX",4182860854:"IFCBOUNDEDSURFACE",2736907675:"IFCBOOLEANRESULT",2740243338:"IFCAXIS2PLACEMENT3D",3125803723:"IFCAXIS2PLACEMENT2D",4261334040:"IFCAXIS1PLACEMENT",1302238472:"IFCANNOTATIONSURFACE",2265737646:"IFCANNOTATIONFILLAREAOCCURRENCE",669184980:"IFCANNOTATIONFILLAREA",3288037868:"IFCANNOTATIONCURVEOCCURRENCE",2543172580:"IFCZSHAPEPROFILEDEF",1299126871:"IFCWINDOWSTYLE",512836454:"IFCWINDOWPANELPROPERTIES",336235671:"IFCWINDOWLININGPROPERTIES",2759199220:"IFCVERTEXLOOP",1417489154:"IFCVECTOR",427810014:"IFCUSHAPEPROFILEDEF",2347495698:"IFCTYPEPRODUCT",1628702193:"IFCTYPEOBJECT",1345879162:"IFCTWODIRECTIONREPEATFACTOR",2715220739:"IFCTRAPEZIUMPROFILEDEF",3124975700:"IFCTEXTLITERALWITHEXTENT",4282788508:"IFCTEXTLITERAL",3028897424:"IFCTERMINATORSYMBOL",3071757647:"IFCTSHAPEPROFILEDEF",230924584:"IFCSWEPTSURFACE",1260650574:"IFCSWEPTDISKSOLID",2247615214:"IFCSWEPTAREASOLID",1878645084:"IFCSURFACESTYLERENDERING",2513912981:"IFCSURFACE",2233826070:"IFCSUBEDGE",3653947884:"IFCSTRUCTURALSTEELPROFILEPROPERTIES",3843319758:"IFCSTRUCTURALPROFILEPROPERTIES",1190533807:"IFCSTRUCTURALLOADSINGLEFORCEWARPING",1597423693:"IFCSTRUCTURALLOADSINGLEFORCE",1973038258:"IFCSTRUCTURALLOADSINGLEDISPLACEMENTDISTORTION",2473145415:"IFCSTRUCTURALLOADSINGLEDISPLACEMENT",2668620305:"IFCSTRUCTURALLOADPLANARFORCE",1595516126:"IFCSTRUCTURALLOADLINEARFORCE",390701378:"IFCSPACETHERMALLOADPROPERTIES",1202362311:"IFCSOUNDVALUE",2485662743:"IFCSOUNDPROPERTIES",723233188:"IFCSOLIDMODEL",2609359061:"IFCSLIPPAGECONNECTIONCONDITION",4124623270:"IFCSHELLBASEDSURFACEMODEL",2411513650:"IFCSERVICELIFEFACTOR",1509187699:"IFCSECTIONEDSPINE",2778083089:"IFCROUNDEDRECTANGLEPROFILEDEF",478536968:"IFCRELATIONSHIP",3765753017:"IFCREINFORCEMENTDEFINITIONPROPERTIES",3413951693:"IFCREGULARTIMESERIES",3615266464:"IFCRECTANGLEPROFILEDEF",110355661:"IFCPROPERTYTABLEVALUE",3650150729:"IFCPROPERTYSINGLEVALUE",3357820518:"IFCPROPERTYSETDEFINITION",941946838:"IFCPROPERTYREFERENCEVALUE",2752243245:"IFCPROPERTYLISTVALUE",4166981789:"IFCPROPERTYENUMERATEDVALUE",1680319473:"IFCPROPERTYDEFINITION",871118103:"IFCPROPERTYBOUNDEDVALUE",673634403:"IFCPRODUCTDEFINITIONSHAPE",179317114:"IFCPREDEFINEDPOINTMARKERSYMBOL",433424934:"IFCPREDEFINEDDIMENSIONSYMBOL",2559016684:"IFCPREDEFINEDCURVEFONT",759155922:"IFCPREDEFINEDCOLOUR",2775532180:"IFCPOLYGONALBOUNDEDHALFSPACE",2924175390:"IFCPOLYLOOP",1423911732:"IFCPOINTONSURFACE",4022376103:"IFCPOINTONCURVE",2067069095:"IFCPOINT",1663979128:"IFCPLANAREXTENT",2004835150:"IFCPLACEMENT",597895409:"IFCPIXELTEXTURE",3021840470:"IFCPHYSICALCOMPLEXQUANTITY",2519244187:"IFCPATH",2529465313:"IFCPARAMETERIZEDPROFILEDEF",1029017970:"IFCORIENTEDEDGE",2665983363:"IFCOPENSHELL",2833995503:"IFCONEDIRECTIONREPEATFACTOR",219451334:"IFCOBJECTDEFINITION",1430189142:"IFCMECHANICALCONCRETEMATERIALPROPERTIES",2022407955:"IFCMATERIALDEFINITIONREPRESENTATION",2347385850:"IFCMAPPEDITEM",1008929658:"IFCLOOP",2624227202:"IFCLOCALPLACEMENT",3422422726:"IFCLIGHTSOURCESPOT",1520743889:"IFCLIGHTSOURCEPOSITIONAL",4266656042:"IFCLIGHTSOURCEGONIOMETRIC",2604431987:"IFCLIGHTSOURCEDIRECTIONAL",125510826:"IFCLIGHTSOURCEAMBIENT",1402838566:"IFCLIGHTSOURCE",3741457305:"IFCIRREGULARTIMESERIES",3905492369:"IFCIMAGETEXTURE",2445078500:"IFCHYGROSCOPICMATERIALPROPERTIES",812098782:"IFCHALFSPACESOLID",178086475:"IFCGRIDPLACEMENT",3590301190:"IFCGEOMETRICSET",4142052618:"IFCGEOMETRICREPRESENTATIONSUBCONTEXT",2453401579:"IFCGEOMETRICREPRESENTATIONITEM",3448662350:"IFCGEOMETRICREPRESENTATIONCONTEXT",1446786286:"IFCGENERALPROFILEPROPERTIES",803998398:"IFCGENERALMATERIALPROPERTIES",3857492461:"IFCFUELPROPERTIES",738692330:"IFCFILLAREASTYLE",4219587988:"IFCFAILURECONNECTIONCONDITION",3008276851:"IFCFACESURFACE",803316827:"IFCFACEOUTERBOUND",1809719519:"IFCFACEBOUND",2556980723:"IFCFACE",1860660968:"IFCEXTENDEDMATERIALPROPERTIES",476780140:"IFCEDGECURVE",3900360178:"IFCEDGE",4170525392:"IFCDRAUGHTINGPREDEFINEDTEXTFONT",3732053477:"IFCDOCUMENTREFERENCE",1694125774:"IFCDIMENSIONPAIR",2273265877:"IFCDIMENSIONCALLOUTRELATIONSHIP",3632507154:"IFCDERIVEDPROFILEDEF",3800577675:"IFCCURVESTYLE",2889183280:"IFCCONVERSIONBASEDUNIT",3050246964:"IFCCONTEXTDEPENDENTUNIT",45288368:"IFCCONNECTIONPOINTECCENTRICITY",1981873012:"IFCCONNECTIONCURVEGEOMETRY",370225590:"IFCCONNECTEDFACESET",1485152156:"IFCCOMPOSITEPROFILEDEF",2542286263:"IFCCOMPLEXPROPERTY",776857604:"IFCCOLOURRGB",647927063:"IFCCLASSIFICATIONREFERENCE",3150382593:"IFCCENTERLINEPROFILEDEF",616511568:"IFCBLOBTEXTURE",2705031697:"IFCARBITRARYPROFILEDEFWITHVOIDS",1310608509:"IFCARBITRARYOPENPROFILEDEF",3798115385:"IFCARBITRARYCLOSEDPROFILEDEF",2297822566:"IFCANNOTATIONTEXTOCCURRENCE",3612888222:"IFCANNOTATIONSYMBOLOCCURRENCE",962685235:"IFCANNOTATIONSURFACEOCCURRENCE",2442683028:"IFCANNOTATIONOCCURRENCE",1065908215:"IFCWATERPROPERTIES",891718957:"IFCVIRTUALGRIDINTERSECTION",1907098498:"IFCVERTEXPOINT",3304826586:"IFCVERTEXBASEDTEXTUREMAP",2799835756:"IFCVERTEX",180925521:"IFCUNITASSIGNMENT",1735638870:"IFCTOPOLOGYREPRESENTATION",1377556343:"IFCTOPOLOGICALREPRESENTATIONITEM",581633288:"IFCTIMESERIESVALUE",1718945513:"IFCTIMESERIESREFERENCERELATIONSHIP",3101149627:"IFCTIMESERIES",3317419933:"IFCTHERMALMATERIALPROPERTIES",1210645708:"IFCTEXTUREVERTEX",2552916305:"IFCTEXTUREMAP",1742049831:"IFCTEXTURECOORDINATEGENERATOR",280115917:"IFCTEXTURECOORDINATE",1484833681:"IFCTEXTSTYLEWITHBOXCHARACTERISTICS",1640371178:"IFCTEXTSTYLETEXTMODEL",2636378356:"IFCTEXTSTYLEFORDEFINEDFONT",1983826977:"IFCTEXTSTYLEFONTMODEL",1447204868:"IFCTEXTSTYLE",912023232:"IFCTELECOMADDRESS",531007025:"IFCTABLEROW",985171141:"IFCTABLE",1290481447:"IFCSYMBOLSTYLE",626085974:"IFCSURFACETEXTURE",1351298697:"IFCSURFACESTYLEWITHTEXTURES",846575682:"IFCSURFACESTYLESHADING",1607154358:"IFCSURFACESTYLEREFRACTION",3303107099:"IFCSURFACESTYLELIGHTING",1300840506:"IFCSURFACESTYLE",3049322572:"IFCSTYLEDREPRESENTATION",3958052878:"IFCSTYLEDITEM",2830218821:"IFCSTYLEMODEL",3408363356:"IFCSTRUCTURALLOADTEMPERATURE",2525727697:"IFCSTRUCTURALLOADSTATIC",2162789131:"IFCSTRUCTURALLOAD",2273995522:"IFCSTRUCTURALCONNECTIONCONDITION",3692461612:"IFCSIMPLEPROPERTY",4240577450:"IFCSHAPEREPRESENTATION",3982875396:"IFCSHAPEMODEL",867548509:"IFCSHAPEASPECT",4165799628:"IFCSECTIONREINFORCEMENTPROPERTIES",2042790032:"IFCSECTIONPROPERTIES",448429030:"IFCSIUNIT",2341007311:"IFCROOT",3679540991:"IFCRIBPLATEPROFILEPROPERTIES",1660063152:"IFCREPRESENTATIONMAP",3008791417:"IFCREPRESENTATIONITEM",3377609919:"IFCREPRESENTATIONCONTEXT",1076942058:"IFCREPRESENTATION",1222501353:"IFCRELAXATION",1580146022:"IFCREINFORCEMENTBARPROPERTIES",2692823254:"IFCREFERENCESVALUEDOCUMENT",825690147:"IFCQUANTITYWEIGHT",2405470396:"IFCQUANTITYVOLUME",3252649465:"IFCQUANTITYTIME",931644368:"IFCQUANTITYLENGTH",2093928680:"IFCQUANTITYCOUNT",2044713172:"IFCQUANTITYAREA",3710013099:"IFCPROPERTYENUMERATION",148025276:"IFCPROPERTYDEPENDENCYRELATIONSHIP",3896028662:"IFCPROPERTYCONSTRAINTRELATIONSHIP",2598011224:"IFCPROPERTY",2802850158:"IFCPROFILEPROPERTIES",3958567839:"IFCPROFILEDEF",2267347899:"IFCPRODUCTSOFCOMBUSTIONPROPERTIES",2095639259:"IFCPRODUCTREPRESENTATION",2417041796:"IFCPRESENTATIONSTYLEASSIGNMENT",3119450353:"IFCPRESENTATIONSTYLE",1304840413:"IFCPRESENTATIONLAYERWITHSTYLE",2022622350:"IFCPRESENTATIONLAYERASSIGNMENT",1775413392:"IFCPREDEFINEDTEXTFONT",3213052703:"IFCPREDEFINEDTERMINATORSYMBOL",990879717:"IFCPREDEFINEDSYMBOL",3727388367:"IFCPREDEFINEDITEM",3355820592:"IFCPOSTALADDRESS",2226359599:"IFCPHYSICALSIMPLEQUANTITY",2483315170:"IFCPHYSICALQUANTITY",101040310:"IFCPERSONANDORGANIZATION",2077209135:"IFCPERSON",1207048766:"IFCOWNERHISTORY",1411181986:"IFCORGANIZATIONRELATIONSHIP",4251960020:"IFCORGANIZATION",1227763645:"IFCOPTICALMATERIALPROPERTIES",2251480897:"IFCOBJECTIVE",3701648758:"IFCOBJECTPLACEMENT",1918398963:"IFCNAMEDUNIT",2706619895:"IFCMONETARYUNIT",3368373690:"IFCMETRIC",677618848:"IFCMECHANICALSTEELMATERIALPROPERTIES",4256014907:"IFCMECHANICALMATERIALPROPERTIES",2597039031:"IFCMEASUREWITHUNIT",3265635763:"IFCMATERIALPROPERTIES",2199411900:"IFCMATERIALLIST",1303795690:"IFCMATERIALLAYERSETUSAGE",3303938423:"IFCMATERIALLAYERSET",248100487:"IFCMATERIALLAYER",1847130766:"IFCMATERIALCLASSIFICATIONRELATIONSHIP",1838606355:"IFCMATERIAL",30780891:"IFCLOCALTIME",1566485204:"IFCLIGHTINTENSITYDISTRIBUTION",4162380809:"IFCLIGHTDISTRIBUTIONDATA",3452421091:"IFCLIBRARYREFERENCE",2655187982:"IFCLIBRARYINFORMATION",3020489413:"IFCIRREGULARTIMESERIESVALUE",852622518:"IFCGRIDAXIS",3548104201:"IFCEXTERNALLYDEFINEDTEXTFONT",3207319532:"IFCEXTERNALLYDEFINEDSYMBOL",1040185647:"IFCEXTERNALLYDEFINEDSURFACESTYLE",2242383968:"IFCEXTERNALLYDEFINEDHATCHSTYLE",3200245327:"IFCEXTERNALREFERENCE",1648886627:"IFCENVIRONMENTALIMPACTVALUE",3796139169:"IFCDRAUGHTINGCALLOUTRELATIONSHIP",770865208:"IFCDOCUMENTINFORMATIONRELATIONSHIP",1154170062:"IFCDOCUMENTINFORMATION",1376555844:"IFCDOCUMENTELECTRONICFORMAT",2949456006:"IFCDIMENSIONALEXPONENTS",1045800335:"IFCDERIVEDUNITELEMENT",1765591967:"IFCDERIVEDUNIT",1072939445:"IFCDATEANDTIME",3510044353:"IFCCURVESTYLEFONTPATTERN",2367409068:"IFCCURVESTYLEFONTANDSCALING",1105321065:"IFCCURVESTYLEFONT",539742890:"IFCCURRENCYRELATIONSHIP",602808272:"IFCCOSTVALUE",1065062679:"IFCCOORDINATEDUNIVERSALTIMEOFFSET",347226245:"IFCCONSTRAINTRELATIONSHIP",613356794:"IFCCONSTRAINTCLASSIFICATIONRELATIONSHIP",1658513725:"IFCCONSTRAINTAGGREGATIONRELATIONSHIP",1959218052:"IFCCONSTRAINT",2732653382:"IFCCONNECTIONSURFACEGEOMETRY",4257277454:"IFCCONNECTIONPORTGEOMETRY",2614616156:"IFCCONNECTIONPOINTGEOMETRY",2859738748:"IFCCONNECTIONGEOMETRY",3264961684:"IFCCOLOURSPECIFICATION",3639012971:"IFCCLASSIFICATIONNOTATIONFACET",938368621:"IFCCLASSIFICATIONNOTATION",1098599126:"IFCCLASSIFICATIONITEMRELATIONSHIP",1767535486:"IFCCLASSIFICATIONITEM",747523909:"IFCCLASSIFICATION",622194075:"IFCCALENDARDATE",2069777674:"IFCBOUNDARYNODECONDITIONWARPING",1387855156:"IFCBOUNDARYNODECONDITION",3367102660:"IFCBOUNDARYFACECONDITION",1560379544:"IFCBOUNDARYEDGECONDITION",4037036970:"IFCBOUNDARYCONDITION",3869604511:"IFCAPPROVALRELATIONSHIP",390851274:"IFCAPPROVALPROPERTYRELATIONSHIP",2080292479:"IFCAPPROVALACTORRELATIONSHIP",130549933:"IFCAPPROVAL",1110488051:"IFCAPPLIEDVALUERELATIONSHIP",411424972:"IFCAPPLIEDVALUE",639542469:"IFCAPPLICATION",618182010:"IFCADDRESS",3630933823:"IFCACTORROLE",599546466:"FILE_DESCRIPTION",1390159747:"FILE_NAME",1109904537:"FILE_SCHEMA"};class an{static async getUnits(e){var t;const{IFCUNITASSIGNMENT:n}=Ft,r=await e.getAllPropertiesOfType(n);if(!r)return 1;const s=Object.keys(r),o=r[parseInt(s[0],10)];for(const c of o.Units){if(c.value===void 0||c.value===null)continue;const u=await e.getProperties(c.value);if(!u||!u.UnitType||!u.UnitType.value||u.UnitType.value!=="LENGTHUNIT")continue;let d=1,m=1;return u.Name.value==="METRE"&&(m=1),u.Name.value==="FOOT"&&(m=.3048),((t=u.Prefix)==null?void 0:t.value)==="MILLI"&&(d=.001),m*d}return 1}static async findItemByGuid(e,t){var n;const r=e.getAllPropertiesIDs();for(const s of r){const o=await e.getProperties(s);if(o&&((n=o.GlobalId)==null?void 0:n.value)===t)return o}return null}static async getRelationMap(e,t,n){var r;const s=n??(()=>{}),o={},c=e.getAllPropertiesIDs();for(const u of c){const d=await e.getProperties(u);if(!d)continue;const m=d.type===t,I=Object.keys(d).find(w=>w.startsWith("Relating")),f=Object.keys(d).find(w=>w.startsWith("Related"));if(!(m&&I&&f))continue;const C=await e.getProperties((r=d[I])==null?void 0:r.value),v=d[f];if(!C||!v||!(v&&Array.isArray(v)))continue;const F=v.map(w=>w.value);s(C.expressID,F),o[C.expressID]=F}return o}static async getQsetQuantities(e,t,n){const r=n??(()=>{}),s=await e.getProperties(t);return!s||s.type!==rh?null:(s.Quantities??[{}]).map(o=>(o.value&&r(o.value),o.value)).filter(o=>o!==null)}static async getPsetProps(e,t,n){const r=n??(()=>{}),s=await e.getProperties(t);return!s||s.type!==mo?null:(s.HasProperties??[{}]).map(o=>(o.value&&r(o.value),o.value)).filter(o=>o!==null)}static async getPsetRel(e,t){var n;if(!await e.getProperties(t))return null;const r=await e.getAllPropertiesOfType(Vo);if(!r)return null;const s=Object.values(r);let o=null;for(const c of s)((n=c.RelatingPropertyDefinition)==null?void 0:n.value)===t&&(o=c.expressID);return o}static async getQsetRel(e,t){return an.getPsetRel(e,t)}static async getEntityName(e,t){var n;const r=await e.getProperties(t);if(!r)return{key:null,name:null};const s=Object.keys(r).find(c=>c.endsWith("Name"))??null,o=s?(n=r[s])==null?void 0:n.value:null;return{key:s,name:o}}static async getQuantityValue(e,t){const n=await e.getProperties(t);if(!n)return{key:null,value:null};const r=Object.keys(n).find(o=>o.endsWith("Value"))??null;let s;return r===null||n[r]===void 0||n[r]===null?s=null:s=n[r].value,{key:r,value:s}}static isRel(e){return $c[e].startsWith("IFCREL")}static async attributeExists(e,t,n){const r=await e.getProperties(t);return r?Object.keys(r).includes(n):!1}static async groupEntitiesByType(e,t){var n;const r=new Map;for(const s of t){const o=await e.getProperties(s);if(!o)continue;const c=o.type;r.get(c)||r.set(c,new Set),(n=r.get(c))==null||n.add(s)}return r}}const el=class tl extends Ge{constructor(e){super(e),T(this,"onDisposed",new ne),T(this,"onFragmentsLoaded",new ne),T(this,"onFragmentsDisposed",new ne),T(this,"list",new Map),T(this,"groups",new Map),T(this,"enabled",!0),T(this,"baseCoordinationModel",""),T(this,"_loader",new Ac),this.components.add(tl.uuid,this)}get meshes(){const e=[];for(const[t,n]of this.list)e.push(n.mesh);return e}dispose(){for(const[e,t]of this.groups)t.dispose(!0);this.baseCoordinationModel="",this.groups.clear(),this.list.clear(),this.onFragmentsLoaded.reset(),this.onFragmentsDisposed.reset(),this.onDisposed.trigger(),this.onDisposed.reset()}disposeGroup(e){const{uuid:t}=e,n=[];for(const r of e.items)n.push(r.id),this.list.delete(r.id);e.dispose(!0),this.groups.delete(e.uuid),this.onFragmentsDisposed.trigger({groupID:t,fragmentIDs:n})}load(e,t=!0){const n=this._loader.import(e);for(const r of n.items)r.group=n,this.list.set(r.id,r);return t&&this.coordinate([n]),this.groups.set(n.uuid,n),this.onFragmentsLoaded.trigger(n),n}export(e){return this._loader.export(e)}coordinate(e=Array.from(this.groups.values())){if(this.baseCoordinationModel.length===0){const n=e.pop();if(!n)return;this.baseCoordinationModel=n.uuid}if(!e.length)return;const t=this.groups.get(this.baseCoordinationModel);if(!t){console.log("No base model found for coordination!");return}for(const n of e)n!==t&&(n.position.set(0,0,0),n.rotation.set(0,0,0),n.scale.set(1,1,1),n.updateMatrix(),n.applyMatrix4(n.coordinationMatrix.clone().invert()),n.applyMatrix4(t.coordinationMatrix))}};T(el,"uuid","fef46874-46a3-461b-8c44-2922ab77c806");let Ut=el;const Rd=(l,e,t)=>{var n;const r=t??(()=>{}),s={},o=Object.keys(l);for(const c of o){const u=l[c];if(!u)continue;const d=u.type===e,m=Object.keys(u).find(F=>F.startsWith("Relating")),I=Object.keys(u).find(F=>F.startsWith("Related"));if(!(d&&m&&I))continue;const f=l[(n=u[m])==null?void 0:n.value],C=u[I];if(!f||!C||!(C&&Array.isArray(C)))continue;const v=C.map(F=>F.value);r(f.expressID,v),s[f.expressID]=v}return s},Fd=new Map([[bc,{forRelating:"IsDecomposedBy",forRelated:"Decomposes"}],[Pc,{forRelating:"AssociatedTo",forRelated:"HasAssociations"}],[xc,{forRelating:"ClassificationForObjects",forRelated:"HasAssociations"}],[Nc,{forRelating:"IsGroupedBy",forRelated:"HasAssignments"}],[Vo,{forRelated:"IsDefinedBy",forRelating:"DefinesOcurrence"}],[Lc,{forRelated:"IsTypedBy",forRelating:"Types"}],[sh,{forRelated:"IsDefinedBy",forRelating:"Defines"}],[ko,{forRelated:"ContainedInStructure",forRelating:"ContainsElements"}]]),nl=class xo extends Ge{constructor(e){super(e),T(this,"onDisposed",new ne),T(this,"enabled",!0),T(this,"onRelationsIndexed",new ne),T(this,"_relToAttributesMap",Fd),T(this,"inverseAttributes",["IsDecomposedBy","Decomposes","AssociatedTo","HasAssociations","ClassificationForObjects","IsGroupedBy","HasAssignments","IsDefinedBy","DefinesOcurrence","IsTypedBy","Types","Defines","ContainedInStructure","ContainsElements"]),T(this,"relationMaps",{}),T(this,"onFragmentsDisposed",t=>{delete this.relationMaps[t.groupID]}),this.components.add(xo.uuid,this),e.get(Ut).onFragmentsDisposed.add(this.onFragmentsDisposed)}getAttributeRels(e){const t=[];for(const[n,r]of this._relToAttributesMap.entries()){const{forRelating:s,forRelated:o}=r;(s===e||o===e)&&t.push(n)}return t}setRelationMap(e,t){this.relationMaps[e.uuid]=t,this.onRelationsIndexed.trigger({modelID:e.uuid,relationsMap:t})}async process(e){if(!e.hasProperties)throw new Error("FragmentsGroup properties not found");const t=new Map;for(const n of this.inverseAttributes){const r=this.getAttributeRels(n);for(const s of r)await an.getRelationMap(e,s,async(o,c)=>{const u=this._relToAttributesMap.get(s);if(!u)return;const{forRelated:d,forRelating:m}=u;if(m){const I=t.get(o)??new Map,f=this.inverseAttributes.indexOf(m);I.set(f,c),t.set(o,I)}if(d)for(const I of c){const f=t.get(I)??new Map,C=this.inverseAttributes.indexOf(d),v=f.get(C)??[];v.push(o),f.set(C,v),t.set(I,f)}})}return this.setRelationMap(e,t),t}async processFromWebIfc(e,t){const n=new Map,r={},s=e.GetAllLines(t);for(let o=0;o<s.size();o++){const c=s.get(o),u=await e.properties.getItemProperties(t,c);r[c]=u}for(const o of this.inverseAttributes){const c=this.getAttributeRels(o);for(const u of c)Rd(r,u,(d,m)=>{const I=this._relToAttributesMap.get(u);if(!I)return;const{forRelated:f,forRelating:C}=I;if(C){const v=n.get(d)??new Map,F=this.inverseAttributes.indexOf(C);v.set(F,m),n.set(d,v)}if(f)for(const v of m){const F=n.get(v)??new Map,w=this.inverseAttributes.indexOf(f),A=F.get(w)??[];A.push(d),F.set(w,A),n.set(v,F)}})}return this.onRelationsIndexed.trigger({modelID:t.toString(),relationsMap:n}),n}getEntityRelations(e,t,n){const r=this.relationMaps[e.uuid];if(!r)return null;const s=r.get(t),o=this.inverseAttributes.indexOf(n);return!s||o===-1?null:s.get(o)||null}serializeRelations(e){const t={};for(const[n,r]of e.entries()){t[n]||(t[n]={});for(const[s,o]of r.entries())t[n][s]=o}return JSON.stringify(t)}serializeModelRelations(e){const t=this.relationMaps[e.uuid];return t?this.serializeRelations(t):null}serializeAllRelations(){const e={};for(const t in this.relationMaps){const n=this.relationMaps[t],r={};for(const[s,o]of n.entries()){r[s]||(r[s]={});for(const[c,u]of o.entries())r[s][c]=u}e[t]=r}return JSON.stringify(e)}getRelationsMapFromJSON(e){const t=JSON.parse(e),n=new Map;for(const r in t){const s=t[r],o=new Map;for(const c in s)o.set(Number(c),s[c]);n.set(Number(r),o)}return n}dispose(){this.relationMaps={},this.components.get(Ut).onFragmentsDisposed.remove(this.onFragmentsDisposed),this.onDisposed.trigger(xo.uuid),this.onDisposed.reset()}};T(nl,"uuid","23a889ab-83b3-44a4-8bee-ead83438370b");let wd=nl;class Ad{constructor(){T(this,"factor",1),T(this,"complement",1)}apply(e){const t=this.getScaleMatrix().multiply(e);e.copy(t)}setUp(e){var t;this.factor=1;const n=this.getLengthUnits(e);if(!n)return;const r=n==null,s=n.Name===void 0||n.Name===null;r||s||(n.Name.value==="FOOT"?this.factor=.3048:((t=n.Prefix)==null?void 0:t.value)==="MILLI"&&(this.complement=.001))}getLengthUnits(e){try{const t=e.GetLineIDsWithType(0,dh).get(0),n=e.GetLine(0,t);for(const r of n.Units){if(!r||r.value===null||r.value===void 0)continue;const s=e.GetLine(0,r.value);if(s.UnitType&&s.UnitType.value==="LENGTHUNIT")return s}return null}catch{return console.log("Could not get units"),null}}getScaleMatrix(){const e=this.factor;return new Ie().fromArray([e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1])}}class il{constructor(){T(this,"itemsByFloor",{}),T(this,"_units",new Ad)}setUp(e){this._units.setUp(e),this.cleanUp();try{const t=e.GetLineIDsWithType(0,ko),n=new Set,r=e.GetLineIDsWithType(0,Pn);for(let d=0;d<r.size();d++)n.add(r.get(d));const s=e.GetLineIDsWithType(0,bc),o=s.size();for(let d=0;d<o;d++){const m=s.get(d),I=e.GetLine(0,m);if(!I||!I.RelatingObject||!I.RelatedObjects)continue;const f=I.RelatingObject.value,C=I.RelatedObjects;for(const v of C){const F=v.value;n.has(F)&&(this.itemsByFloor[F]=f)}}const c={},u=t.size();for(let d=0;d<u;d++){const m=t.get(d),I=e.GetLine(0,m);if(!I||!I.RelatingStructure||!I.RelatedElements)continue;const f=I.RelatingStructure.value,C=I.RelatedElements;if(n.has(f))for(const v of C){c[f]||(c[f]=[]);const F=v.value;c[f].push(F)}else for(const v of C){const F=v.value;this.itemsByFloor[F]=f}}for(const d in c){const m=this.itemsByFloor[d];if(m!==void 0){const I=c[d];for(const f of I)this.itemsByFloor[f]=m}}for(let d=0;d<o;d++){const m=s.get(d),I=e.GetLine(0,m);if(!I||!I.RelatingObject||!I.RelatedObjects)continue;const f=I.RelatingObject.value,C=I.RelatedObjects;for(const v of C){const F=v.value,w=this.itemsByFloor[f];w!==void 0&&(this.itemsByFloor[F]=w)}}}catch{console.log("Could not get floors.")}}cleanUp(){this.itemsByFloor={}}}class ta{constructor(){T(this,"includeProperties",!0),T(this,"optionalCategories",[Pn]),T(this,"coordinate",!0),T(this,"wasm",{path:"",absolute:!1,logLevel:oh.LOG_LEVEL_OFF}),T(this,"excludedCategories",new Set),T(this,"saveLocations",!1),T(this,"webIfc",{COORDINATE_TO_ORIGIN:!0,OPTIMIZE_PROFILES:!0}),T(this,"autoSetWasm",!0),T(this,"customLocateFileHandler",null)}}class rl{constructor(){T(this,"defLineMat",new Mc({color:16777215}))}read(e){const t=e.GetAllAlignments(0),n=e.GetAllCrossSections2D(0),r=e.GetAllCrossSections3D(0),s={IfcAlignment:t,IfcCrossSection2D:n,IfcCrossSection3D:r};return this.get(s)}get(e){if(e.IfcAlignment){const t=new Map;for(const n of e.IfcAlignment){const r=new ah;r.absolute=this.getCurves(n.curve3D,r),r.horizontal=this.getCurves(n.horizontal,r),r.vertical=this.getCurves(n.vertical,r),t.set(t.size,r)}return{alignments:t,coordinationMatrix:new Ie}}}getCurves(e,t){const n=[];let r=0;for(const s of e){const o={};if(s.data)for(const f of s.data){const[C,v]=f.split(": "),F=parseFloat(v);o[C]=F||v}const{points:c}=s,u=new Float32Array(c.length*3);for(let f=0;f<c.length;f++){const{x:C,y:v,z:F}=c[f];u[f*3]=C,u[f*3+1]=v,u[f*3+2]=F||0}const d=new Sn(u,3),m=new ch;m.setAttribute("position",d);const I=new lh(r,o,t,m,this.defLineMat);n.push(I.curve),r++}return n}}class sl{get(e,t){let n="";const r=e.GetHeaderLine(0,t)||"";if(!r)return n;for(const s of r.arguments)if(s!=null)if(Array.isArray(s))for(const o of s)n+=`${o.value}|`;else n+=`${s.value}|`;return n}}const ol=class No extends Ge{constructor(e){super(e),T(this,"onIfcStartedLoading",new ne),T(this,"onSetup",new ne),T(this,"onDisposed",new ne),T(this,"settings",new ta),T(this,"enabled",!0),T(this,"webIfc",new cn),T(this,"_material",new Da),T(this,"_spatialTree",new il),T(this,"_metaData",new sl),T(this,"_fragmentInstances",new Map),T(this,"_civil",new rl),T(this,"_propertyExporter",new vd),T(this,"_visitedFragments",new Map),T(this,"_materialT",new Da({transparent:!0,opacity:.5})),this.components.add(No.uuid,this),this.settings.excludedCategories.add(Oc)}dispose(){this.webIfc=null,this.onDisposed.trigger(No.uuid),this.onDisposed.reset()}async setup(e){this.settings={...this.settings,...e},this.settings.autoSetWasm&&await this.autoSetWasm(),this.onSetup.trigger()}async load(e,t=!0){const n=performance.now();this.onIfcStartedLoading.trigger(),await this.readIfcFile(e);const r=await this.getAllGeometries(),s=await this._propertyExporter.export(this.webIfc,0);r.setLocalProperties(s),this.cleanUp();const o=this.components.get(Ut);o.groups.set(r.uuid,r);for(const c of r.items)o.list.set(c.id,c),c.mesh.uuid=c.id,c.group=r;return o.onFragmentsLoaded.trigger(r),t&&o.coordinate([r]),console.log(`Streaming the IFC took ${performance.now()-n} ms!`),r}async readIfcFile(e){const{path:t,absolute:n,logLevel:r}=this.settings.wasm;return this.webIfc.SetWasmPath(t,n),await this.webIfc.Init(),r&&this.webIfc.SetLogLevel(r),this.webIfc.OpenModel(e,this.settings.webIfc)}async getAllGeometries(){this._spatialTree.setUp(this.webIfc);const e=this.webIfc.GetIfcEntityList(0),t=new Sc,{FILE_NAME:n,FILE_DESCRIPTION:r}=Ft;t.ifcMetadata={name:this._metaData.get(this.webIfc,n),description:this._metaData.get(this.webIfc,r),schema:this.webIfc.GetModelSchema(0)||"IFC2X3",maxExpressID:this.webIfc.GetMaxExpressID(0)};const s=[];for(const c of e){if(!this.webIfc.IsIfcElement(c)&&c!==Pn||this.settings.excludedCategories.has(c))continue;const u=this.webIfc.GetLineIDsWithType(0,c),d=u.size();for(let m=0;m<d;m++){const I=u.get(m);s.push(I);const f=this._spatialTree.itemsByFloor[I]||0;t.data.set(I,[[],[f,c]])}}this._spatialTree.cleanUp(),this.webIfc.StreamMeshes(0,s,c=>{this.getMesh(c,t)});for(const c of this._visitedFragments){const{index:u,fragment:d}=c[1];t.keyFragments.set(u,d.id)}for(const c of t.items){const u=this._fragmentInstances.get(c.id);if(!u)throw new Error("Fragment not found!");const d=[];for(const[m,I]of u)d.push(I);c.add(d)}const o=this.webIfc.GetCoordinationMatrix(0);return t.coordinationMatrix.fromArray(o),t.civilData=this._civil.read(this.webIfc),t}cleanUp(){this.webIfc=null,this.webIfc=new cn,this._visitedFragments.clear(),this._fragmentInstances.clear()}getMesh(e,t){const n=e.geometries.size(),r=e.expressID;for(let s=0;s<n;s++){const o=e.geometries.get(s),{x:c,y:u,z:d,w:m}=o.color,I=m!==1,{geometryExpressID:f}=o,C=`${f}-${I}`;if(!this._visitedFragments.has(C)){const y=this.getGeometry(this.webIfc,f),P=I?this._materialT:this._material,Y=new eh(y,P,1);t.add(Y.mesh),t.items.push(Y);const k=this._visitedFragments.size;this._visitedFragments.set(C,{index:k,fragment:Y})}const v=new Ht().setRGB(c,u,d,"srgb"),F=new Ie;F.fromArray(o.flatTransformation);const w=this._visitedFragments.get(C);if(w===void 0)throw new Error("Error getting geometry data for streaming!");const A=t.data.get(r);if(!A)throw new Error("Data not found!");A[0].push(w.index);const{fragment:S}=w;this._fragmentInstances.has(S.id)||this._fragmentInstances.set(S.id,new Map);const x=this._fragmentInstances.get(S.id);if(!x)throw new Error("Instances not found!");if(x.has(r)){const y=x.get(r);if(!y)throw new Error("Instance not found!");y.transforms.push(F),y.colors&&y.colors.push(v)}else x.set(r,{id:r,transforms:[F],colors:[v]})}}getGeometry(e,t){const n=e.GetGeometry(0,t),r=e.GetIndexArray(n.GetIndexData(),n.GetIndexDataSize()),s=e.GetVertexArray(n.GetVertexData(),n.GetVertexDataSize()),o=new Float32Array(s.length/2),c=new Float32Array(s.length/2);for(let I=0;I<s.length;I+=6)o[I/2]=s[I],o[I/2+1]=s[I+1],o[I/2+2]=s[I+2],c[I/2]=s[I+3],c[I/2+1]=s[I+4],c[I/2+2]=s[I+5];const u=new An,d=new Sn(o,3),m=new Sn(c,3);return u.setAttribute("position",d),u.setAttribute("normal",m),u.setIndex(Array.from(r)),n.delete(),u}async autoSetWasm(){const e=await fetch(`https://unpkg.com/openbim-components@${Hu.release}/package.json`);if(!e.ok){console.warn("Couldn't get openbim-components package.json. Set wasm settings manually.");return}const t=await e.json();if(!("web-ifc"in t.peerDependencies))console.warn("Couldn't get web-ifc from peer dependencies in openbim-components. Set wasm settings manually.");else{const n=t.peerDependencies["web-ifc"];this.settings.wasm.path=`https://unpkg.com/web-ifc@${n}/`,this.settings.wasm.absolute=!0}}};T(ol,"uuid","a659add7-1418-4771-a0d6-7d4d438e4624");let Od=ol;const Sd=class $n extends Ge{constructor(e){super(e),T(this,"onDisposed",new ne),T(this,"onRequestFile",new ne),T(this,"ifcToExport",null),T(this,"onElementToPset",new ne),T(this,"onPropToPset",new ne),T(this,"onPsetRemoved",new ne),T(this,"onDataChanged",new ne),T(this,"wasm",{path:"/",absolute:!1}),T(this,"enabled",!0),T(this,"attributeListeners",{}),T(this,"selectedModel"),T(this,"_changeMap",{}),this.components.add($n.uuid,this)}get(){return this._changeMap}dispose(){this.selectedModel=void 0,this.attributeListeners={},this._changeMap={},this.onElementToPset.reset(),this.onPropToPset.reset(),this.onPsetRemoved.reset(),this.onDataChanged.reset(),this.onDisposed.trigger($n.uuid),this.onDisposed.reset()}increaseMaxID(e){return e.ifcMetadata.maxExpressID++,e.ifcMetadata.maxExpressID}static getIFCSchema(e){const t=e.ifcMetadata.schema;if(!t)throw new Error("IFC Schema not found");return t}newGUID(e){const t=$n.getIFCSchema(e);return new Ft[t].IfcGloballyUniqueId(Jo.create())}async getOwnerHistory(e){const t=await e.getAllPropertiesOfType(th);if(!t)throw new Error("No OwnerHistory was found.");const n=Object.keys(t).map(o=>parseInt(o,10)),r=t[n[0]],s=new yr(r.expressID);return{ownerHistory:r,ownerHistoryHandle:s}}registerChange(e,...t){this._changeMap[e.uuid]||(this._changeMap[e.uuid]=new Set);for(const n of t)this._changeMap[e.uuid].add(n),this.onDataChanged.trigger({model:e,expressID:n})}async setData(e,...t){for(const n of t){const r=n.expressID;r&&(await e.setProperties(r,n),this.registerChange(e,r))}}async newPset(e,t,n){const r=$n.getIFCSchema(e),{ownerHistoryHandle:s}=await this.getOwnerHistory(e),o=this.newGUID(e),c=new Ft[r].IfcLabel(t),u=n?new Ft[r].IfcText(n):null,d=new Ft[r].IfcPropertySet(o,s,c,u,[]);d.expressID=this.increaseMaxID(e);const m=this.newGUID(e),I=new Ft[r].IfcRelDefinesByProperties(m,s,null,null,[],new yr(d.expressID));return I.expressID=this.increaseMaxID(e),await this.setData(e,d,I),{pset:d,rel:I}}async removePset(e,...t){for(const n of t){const r=await e.getProperties(n);if((r==null?void 0:r.type)!==mo)continue;const s=await an.getPsetRel(e,n);if(s&&(await e.setProperties(s,null),this.registerChange(e,s)),r){for(const o of r.HasProperties)await e.setProperties(o.value,null);await e.setProperties(n,null),this.onPsetRemoved.trigger({model:e,psetID:n}),this.registerChange(e,n)}}}async newSingleProperty(e,t,n,r){const s=$n.getIFCSchema(e),o=new Ft[s].IfcIdentifier(n),c=new Ft[s][t](r),u=new Ft[s].IfcPropertySingleValue(o,null,c,null);return u.expressID=this.increaseMaxID(e),await this.setData(e,u),u}newSingleStringProperty(e,t,n,r){return this.newSingleProperty(e,t,n,r)}newSingleNumericProperty(e,t,n,r){return this.newSingleProperty(e,t,n,r)}newSingleBooleanProperty(e,t,n,r){return this.newSingleProperty(e,t,n,r)}async removePsetProp(e,t,n){const r=await e.getProperties(t),s=await e.getProperties(n);!r||!s||r.type===mo&&s&&(r.HasProperties=r.HasProperties.filter(o=>o.value!==n),await e.setProperties(n,null),this.registerChange(e,t,n))}async addElementToPset(e,t,...n){const r=await an.getPsetRel(e,t);if(!r)return;const s=await e.getProperties(r);if(s){for(const o of n){const c=new yr(o);s.RelatedObjects.push(c),this.onElementToPset.trigger({model:e,psetID:t,elementID:o})}this.registerChange(e,t)}}async addPropToPset(e,t,...n){const r=await e.getProperties(t);if(r){for(const s of n){if(r.HasProperties.includes(s))continue;const o=new yr(s);r.HasProperties.push(o),this.onPropToPset.trigger({model:e,psetID:t,propID:s})}this.registerChange(e,t)}}async saveToIfc(e,t){const n=this.components.get(Od),r=n.webIfc,s=await n.readIfcFile(t),o=this._changeMap[e.uuid]??[];for(const u of o){const d=await e.getProperties(u);if(d)try{r.WriteLine(s,d)}catch{}else try{r.DeleteLine(s,u)}catch{}}const c=r.SaveModel(s);return n.webIfc.CloseModel(s),n.cleanUp(),c}async setAttributeListener(e,t,n){this.attributeListeners[e.uuid]||(this.attributeListeners[e.uuid]={});const r=this.attributeListeners[e.uuid][t]?this.attributeListeners[e.uuid][t][n]:null;if(r)return r;const s=await e.getProperties(t);if(!s)throw new Error(`Entity with expressID ${t} doesn't exists.`);const o=s[n];if(Array.isArray(o)||!o)throw new Error(`Attribute ${n} is array or null, and it can't have a listener.`);const c=o.value;if(c===void 0||c==null)throw new Error(`Attribute ${n} has a badly defined handle.`);const u=new ne;return Object.defineProperty(s[n],"value",{get(){return this._value},async set(d){this._value=d,u.trigger(d)}}),s[n].value=c,this.attributeListeners[e.uuid][t]||(this.attributeListeners[e.uuid][t]={}),this.attributeListeners[e.uuid][t][n]=u,u}};T(Sd,"uuid","58c2d9f0-183c-48d6-a402-dfcf5b9a34df");const al=class cl extends Ge{constructor(e){super(e),T(this,"enabled",!0),T(this,"list",{}),T(this,"onDisposed",new ne),T(this,"onFragmentsDisposed",t=>{const{groupID:n,fragmentIDs:r}=t;for(const s in this.list){const o=this.list[s],c=Object.keys(o);if(c.includes(n))delete o[n],Object.values(o).length===0&&delete this.list[s];else for(const u of c){const d=o[u];for(const m of r)delete d[m];Object.values(d).length===0&&delete o[u]}}}),e.add(cl.uuid,this),e.get(Ut).onFragmentsDisposed.add(this.onFragmentsDisposed)}dispose(){this.list={},this.components.get(Ut).onFragmentsDisposed.remove(this.onFragmentsDisposed),this.onDisposed.trigger(),this.onDisposed.reset()}remove(e){for(const t in this.list){const n=this.list[t];for(const r in n){const s=n[r];delete s[e]}}}find(e){const t=this.components.get(Ut);if(!e){const o={};for(const[c,u]of t.list)o[c]=new Set(u.ids);return o}const n=Object.keys(e).length,r={};for(const o in e){const c=e[o];if(!this.list[o]){console.warn(`Classification ${o} does not exist.`);continue}for(const u of c){const d=this.list[o][u];if(d)for(const m in d){r[m]||(r[m]=new Map);for(const I of d[m]){const f=r[m].get(I);f===void 0?r[m].set(I,1):r[m].set(I,f+1)}}}}const s={};for(const o in r){const c=r[o];for(const[u,d]of c){if(d===void 0)throw new Error("Malformed fragments map!");d===n&&(s[o]||(s[o]=new Set),s[o].add(u))}}return s}byModel(e,t){this.list.model||(this.list.model={});const n=this.list.model;n[e]||(n[e]={});const r=n[e];for(const[s,o]of t.data){const c=o[0];for(const u of c){const d=t.keyFragments.get(u);d&&(r[d]||(r[d]=new Set),r[d].add(s))}}}async byPredefinedType(e){var t;this.list.predefinedTypes||(this.list.predefinedTypes={});const n=this.list.predefinedTypes,r=e.getAllPropertiesIDs();for(const s of r){const o=await e.getProperties(s);if(!o)continue;const c=String((t=o.PredefinedType)==null?void 0:t.value).toUpperCase();n[c]||(n[c]={});const u=n[c];for(const[d,m]of e.data){const I=m[0];for(const f of I){const C=e.keyFragments.get(f);if(!C)throw new Error("Fragment ID not found!");u[C]||(u[C]=new Set),u[C].add(o.expressID)}}}}byEntity(e){this.list.entities||(this.list.entities={});for(const[t,n]of e.data){const r=n[1][1],s=$c[r];this.saveItem(e,"entities",s,t)}}byStorey(e){for(const[t,n]of e.data){const r=n[1][0].toString();this.saveItem(e,"storeys",r,t)}}async byIfcRel(e,t,n){an.isRel(t)&&await an.getRelationMap(e,t,async(r,s)=>{const{name:o}=await an.getEntityName(e,r);for(const c of s)this.saveItem(e,n,o??"NO REL NAME",c)})}setColor(e,t,n=!1){const r=this.components.get(Ut);for(const s in e){const o=r.list.get(s);if(!o)continue;const c=e[s];o.setColor(t,c,n)}}resetColor(e){const t=this.components.get(Ut);for(const n in e){const r=t.list.get(n);if(!r)continue;const s=e[n];r.resetColor(s)}}saveItem(e,t,n,r){this.list[t]||(this.list[t]={});const s=e.data.get(r);if(s)for(const o of s[0]){const c=e.keyFragments.get(o);if(c){const u=this.list[t];u[n]||(u[n]={}),u[n][c]||(u[n][c]=new Set),u[n][c].add(r)}}}};T(al,"uuid","e25a7f3c-46c4-4a14-9d3d-5115f24ebeb7");let bd=al;const Pd=class Lo extends Ge{constructor(e){super(e),T(this,"enabled",!1),T(this,"height",10),T(this,"groupName","storeys"),T(this,"onDisposed",new ne),T(this,"list",new Set),e.add(Lo.uuid,this)}dispose(){this.list.clear(),this.onDisposed.trigger(Lo.uuid),this.onDisposed.reset()}explode(){this.enabled=!0,this.update()}reset(){this.enabled=!1,this.update()}update(){const e=this.components.get(bd),t=this.components.get(Ut),n=this.enabled?1:-1;let r=0;const s=e.list[this.groupName],o=new Ie;for(const c in s){o.elements[13]=r*n*this.height;for(const u in s[c]){const d=t.list.get(u),m=c+u,I=this.list.has(m);if(!d||this.enabled&&I||!this.enabled&&!I)continue;this.enabled?this.list.add(m):this.list.delete(m);const f=s[c][u];d.applyTransform(f,o)}r++}}};T(Pd,"uuid","d260618b-ce88-4c7d-826c-6debb91de3e2");const xd=class ll extends Ge{constructor(e){super(e),T(this,"enabled",!0),this.components.add(ll.uuid,this)}set(e,t){const n=this.components.get(Ut);if(!t){for(const r in n.list){const s=n.list.get(r);s&&(s.setVisibility(e),this.updateCulledVisibility(s))}return}for(const r in t){const s=t[r],o=n.list.get(r);o&&(o.setVisibility(e,s),this.updateCulledVisibility(o))}}isolate(e){this.set(!1),this.set(!0,e)}updateCulledVisibility(e){const t=this.components.get(md);for(const[n,r]of t.list){const s=r.colorMeshes.get(e.id);s&&(s.count=e.mesh.count)}}};T(xd,"uuid","dd9ccf2d-8a21-4821-b7f6-2949add16a29");class Nd extends ta{constructor(){super(...arguments),T(this,"minGeometrySize",10),T(this,"minAssetsSize",1e3)}}class hl extends ta{constructor(){super(...arguments),T(this,"propertiesSize",100)}}class Ld extends Ge{constructor(){super(...arguments),T(this,"onPropertiesStreamed",new wn),T(this,"onProgress",new wn),T(this,"onIndicesStreamed",new wn),T(this,"onDisposed",new ne),T(this,"enabled",!0),T(this,"settings",new hl),T(this,"webIfc",new cn)}async dispose(){this.onIndicesStreamed.reset(),this.onPropertiesStreamed.reset(),this.webIfc=null,this.onDisposed.reset()}async streamFromBuffer(e){const t=performance.now();await this.readIfcFile(e),await this.streamAllProperties(),this.cleanUp(),console.log(`Streaming the IFC took ${performance.now()-t} ms!`)}async streamFromCallBack(e){const t=performance.now();await this.streamIfcFile(e),await this.streamAllProperties(),this.cleanUp(),console.log(`Streaming the IFC took ${performance.now()-t} ms!`)}async readIfcFile(e){const{path:t,absolute:n,logLevel:r}=this.settings.wasm;this.webIfc.SetWasmPath(t,n),await this.webIfc.Init(),r&&this.webIfc.SetLogLevel(r),this.webIfc.OpenModel(e,this.settings.webIfc)}async streamIfcFile(e){const{path:t,absolute:n,logLevel:r}=this.settings.wasm;this.webIfc.SetWasmPath(t,n),await this.webIfc.Init(),r&&this.webIfc.SetLogLevel(r),this.webIfc.OpenModelFromCallback(e,this.settings.webIfc)}async streamAllProperties(){const{propertiesSize:e}=this.settings,t=new Set(this.webIfc.GetIfcEntityList(0)),n=[Vo,Lc,Pc,ko,xc,Nc],r=new Map,s=new Set([Go,Ho,Ko,Wo,Pn]);for(const d of s)t.add(d);let o=.01,c=0;for(const d of t){if(c++,ea.has(d))continue;const m=s.has(d),I=this.webIfc.GetLineIDsWithType(0,d),f=I.size();let C=0;for(let F=0;F<f-e;F+=e){const w={};for(let A=0;A<e;A++){C++;const S=I.get(F+A);try{const x=this.webIfc.GetLine(0,S,m);n.includes(d)&&this.getIndices(x,S,r),w[x.expressID]=x}catch{console.log(`Could not get property: ${S}`)}}await this.onPropertiesStreamed.trigger({type:d,data:w})}if(C!==f){const F={};for(let w=C;w<f;w++){const A=I.get(w);try{const S=this.webIfc.GetLine(0,A,m);n.includes(d)&&this.getIndices(S,A,r),F[S.expressID]=S}catch{console.log(`Could not get property: ${A}`)}}await this.onPropertiesStreamed.trigger({type:d,data:F})}const v=c/t.size;v>o&&(o+=.01,o=Math.max(o,v),await this.onProgress.trigger(Math.round(o*100)/100))}const u=[];for(const[d,m]of r)u.push([d,...m]);await this.onIndicesStreamed.trigger(u)}getIndices(e,t,n){const r=e.RelatedObjects||e.RelatedElements;if(!r){console.log(`Related objects not found: ${t}`);return}const s=e.RelatingType||e.RelatingMaterial||e.RelatingStructure||e.RelatingPropertyDefinition||e.RelatingGroup||e.RelatingClassification;if(!s){console.log(`Relating object not found: ${t}`);return}if(!Array.isArray(r)||s.value===void 0)return;const o=s.value;for(const c of r){if(c.value===void 0||c.value===null)continue;const u=c.value;n.has(u)||n.set(u,new Set),n.get(u).add(o)}}cleanUp(){this.webIfc=null,this.webIfc=new cn}}T(Ld,"uuid","88d2c89c-ce32-47d7-8cb6-d51e4b311a0b");const Md=class ul extends Ge{constructor(e){super(e),T(this,"onGeometryStreamed",new ne),T(this,"onAssetStreamed",new ne),T(this,"onProgress",new ne),T(this,"onIfcLoaded",new ne),T(this,"onDisposed",new ne),T(this,"settings",new Nd),T(this,"enabled",!0),T(this,"webIfc",new cn),T(this,"_spatialTree",new il),T(this,"_metaData",new sl),T(this,"_visitedGeometries",new Map),T(this,"_streamSerializer",new nh),T(this,"_geometries",new Map),T(this,"_geometryCount",0),T(this,"_civil",new rl),T(this,"_groupSerializer",new Ac),T(this,"_assets",[]),T(this,"_meshesWithHoles",new Set),this.components.add(ul.uuid,this),this.settings.excludedCategories.add(Oc)}dispose(){this.onIfcLoaded.reset(),this.onGeometryStreamed.reset(),this.onAssetStreamed.reset(),this.webIfc=null,this.onDisposed.trigger(),this.onDisposed.reset()}async streamFromBuffer(e){const t=performance.now();await this.readIfcFile(e),await this.streamAllGeometries(),this.cleanUp(),console.log(`Streaming the IFC took ${performance.now()-t} ms!`)}async streamFromCallBack(e){const t=performance.now();await this.streamIfcFile(e),await this.streamAllGeometries(),this.cleanUp(),console.log(`Streaming the IFC took ${performance.now()-t} ms!`)}async readIfcFile(e){const{path:t,absolute:n,logLevel:r}=this.settings.wasm;this.webIfc.SetWasmPath(t,n),await this.webIfc.Init(),r&&this.webIfc.SetLogLevel(r),this.webIfc.OpenModel(e,this.settings.webIfc)}async streamIfcFile(e){const{path:t,absolute:n,logLevel:r}=this.settings.wasm;this.webIfc.SetWasmPath(t,n),await this.webIfc.Init(),r&&this.webIfc.SetLogLevel(r),this.webIfc.OpenModelFromCallback(e,this.settings.webIfc)}async streamAllGeometries(){const{minGeometrySize:e,minAssetsSize:t}=this.settings;this._spatialTree.setUp(this.webIfc);const n=this.webIfc.GetIfcEntityList(0),r=[[]],s=new Sc,{FILE_NAME:o,FILE_DESCRIPTION:c}=Ft;s.ifcMetadata={name:this._metaData.get(this.webIfc,o),description:this._metaData.get(this.webIfc,c),schema:this.webIfc.GetModelSchema(0)||"IFC2X3",maxExpressID:this.webIfc.GetMaxExpressID(0)};let u=0,d=0;for(const A of n){if(!this.webIfc.IsIfcElement(A)&&A!==Pn||this.settings.excludedCategories.has(A))continue;const S=this.webIfc.GetLineIDsWithType(0,A),x=S.size();console.log(x);for(let y=0;y<x;y++){u>e&&(u=0,d++,r.push([]));const P=S.get(y);r[d].push(P);const Y=this._spatialTree.itemsByFloor[P]||0;s.data.set(P,[[],[Y,A]]),u++}}this._spatialTree.cleanUp();let m=.01,I=0;for(const A of r){I++,this.webIfc.StreamMeshes(0,A,x=>{this.getMesh(this.webIfc,x,s)}),this._geometryCount>e&&await this.streamGeometries(),this._assets.length>t&&await this.streamAssets();const S=I/r.length;S>m&&(m+=.01,m=Math.max(m,S),this.onProgress.trigger(Math.round(m*100)/100))}this._geometryCount&&await this.streamGeometries(),this._assets.length&&await this.streamAssets();const{opaque:f,transparent:C}=s.geometryIDs;for(const[A,{index:S,uuid:x}]of this._visitedGeometries)s.keyFragments.set(S,x),(A>1?f:C).set(A,S);const v=s.data.keys();for(const A of v){const[S]=s.data.get(A);S.length||s.data.delete(A)}const F=this.webIfc.GetCoordinationMatrix(0);s.coordinationMatrix.fromArray(F),s.civilData=this._civil.read(this.webIfc);const w=this._groupSerializer.export(s);this.onIfcLoaded.trigger(w),s.dispose(!0)}cleanUp(){this.webIfc=null,this.webIfc=new cn,this._visitedGeometries.clear(),this._geometries.clear(),this._assets=[],this._meshesWithHoles.clear()}getMesh(e,t,n){const r=t.geometries.size(),s=t.expressID,o={id:s,geometries:[]};for(let c=0;c<r;c++){const u=t.geometries.get(c),d=u.geometryExpressID,m=u.color.w===1?1:-1,I=d*m;if(!this._visitedGeometries.has(I)){this._visitedGeometries.has(d)||this.getGeometry(e,d);const y=this._visitedGeometries.size,P=wc.generateUUID();this._visitedGeometries.set(I,{uuid:P,index:y})}const f=this._visitedGeometries.get(I);if(f===void 0)throw new Error("Error getting geometry data for streaming!");const C=n.data.get(s);if(!C)throw new Error("Data not found!");C[0].push(f.index);const{x:v,y:F,z:w,w:A}=u.color,S=[v,F,w,A],x=u.flatTransformation;o.geometries.push({color:S,geometryID:d,transformation:x})}this._assets.push(o)}getGeometry(e,t){const n=e.GetGeometry(0,t),r=e.GetIndexArray(n.GetIndexData(),n.GetIndexDataSize()),s=e.GetVertexArray(n.GetVertexData(),n.GetVertexDataSize()),o=new Float32Array(s.length/2),c=new Float32Array(s.length/2);for(let f=0;f<s.length;f+=6)o[f/2]=s[f],o[f/2+1]=s[f+1],o[f/2+2]=s[f+2],c[f/2]=s[f+3],c[f/2+1]=s[f+4],c[f/2+2]=s[f+5];const u=ku(o),d=new Float32Array(u.transformation.elements),m=[u.center.x,u.center.y,u.center.z];let I=!1;for(let f=0;f<o.length-2;f+=3){const C=o[f],v=o[f+1],F=o[f+2],w=c[f],A=c[f+1],S=c[f+2];if(Gu(m,[C,v,F],[w,A,S])){I=!0;break}}this._geometries.set(t,{position:o,normal:c,index:r,boundingBox:d,hasHoles:I}),n.delete(),this._geometryCount++}async streamAssets(){await this.onAssetStreamed.trigger(this._assets),this._assets=null,this._assets=[]}async streamGeometries(){let e=this._streamSerializer.export(this._geometries),t={};for(const[n,{boundingBox:r,hasHoles:s}]of this._geometries)t[n]={boundingBox:r,hasHoles:s};this.onGeometryStreamed.trigger({data:t,buffer:e}),t=null,e=null,this._geometries.clear(),this._geometryCount=0}};T(Md,"uuid","d9999a00-e1f5-4d3f-8cfe-c56e08609764");class Dd extends Ge{constructor(){super(...arguments),T(this,"onPropertiesStreamed",new wn),T(this,"onProgress",new wn),T(this,"onIndicesStreamed",new wn),T(this,"onDisposed",new ne),T(this,"enabled",!0),T(this,"settings",new hl),T(this,"webIfc",new cn)}async dispose(){this.onIndicesStreamed.reset(),this.onPropertiesStreamed.reset(),this.webIfc=null,this.onDisposed.reset()}async streamFromBuffer(e){const t=performance.now();await this.readIfcFile(e),await this.streamAllProperties(),this.cleanUp(),console.log(`Streaming the IFC took ${performance.now()-t} ms!`)}async streamFromCallBack(e){const t=performance.now();await this.streamIfcFile(e),await this.streamAllProperties(),this.cleanUp(),console.log(`Streaming the IFC took ${performance.now()-t} ms!`)}async readIfcFile(e){const{path:t,absolute:n,logLevel:r}=this.settings.wasm;this.webIfc.SetWasmPath(t,n),await this.webIfc.Init(),r&&this.webIfc.SetLogLevel(r),this.webIfc.OpenModel(e,this.settings.webIfc)}async streamIfcFile(e){const{path:t,absolute:n,logLevel:r}=this.settings.wasm;this.webIfc.SetWasmPath(t,n),await this.webIfc.Init(),r&&this.webIfc.SetLogLevel(r),this.webIfc.OpenModelFromCallback(e,this.settings.webIfc)}async streamAllProperties(){const{propertiesSize:e}=this.settings,t=new Set(this.webIfc.GetIfcEntityList(0)),n=new Set([Go,Ho,Ko,Wo,Pn]);for(const c of n)t.add(c);let r=.01,s=0;for(const c of t){if(s++,ea.has(c))continue;const u=n.has(c),d=this.webIfc.GetLineIDsWithType(0,c),m=d.size();let I=0;for(let C=0;C<m-e;C+=e){const v={};for(let F=0;F<e;F++){I++;const w=d.get(C+F);try{const A=this.webIfc.GetLine(0,w,u);v[A.expressID]=A}catch{console.log(`Could not get property: ${w}`)}}await this.onPropertiesStreamed.trigger({type:c,data:v})}if(I!==m){const C={};for(let v=I;v<m;v++){const F=d.get(v);try{const w=this.webIfc.GetLine(0,F,u);C[w.expressID]=w}catch{console.log(`Could not get property: ${F}`)}}await this.onPropertiesStreamed.trigger({type:c,data:C})}const f=s/t.size;f>r&&(r+=.01,r=Math.max(r,f),await this.onProgress.trigger(Math.round(r*100)/100))}const o=await this.components.get(wd).processFromWebIfc(this.webIfc,0);await this.onIndicesStreamed.trigger(o)}cleanUp(){this.webIfc=null,this.webIfc=new cn}}T(Dd,"uuid","88d2c89c-ce32-47d7-8cb6-d51e4b311a0b");class Ip{static getFace(e,t,n){if(!e.geometry.index)throw new Error("Geometry must be indexed!");const r=new Map,s=e.geometry.index.array,{plane:o}=this.getFaceData(t,n,e),c=[];for(let I=0;I<s.length/3;I++){const{plane:f,edges:C}=this.getFaceData(I,n,e);if(f.equals(o)){c.push({index:I,edges:C});for(const{id:v,points:F,distance:w}of C)r.set(v,{points:F,distance:w})}}let u=0;const d=new Map,m=new Map;for(const{index:I,edges:f}of c){const C=new Map;for(const{id:y}of f)if(d.has(y)){const P=d.get(y);C.set(y,P)}const v=f.map(y=>y.id);if(!C.size){const y=u++;for(const{id:P}of f)d.set(P,y);m.set(y,{edges:new Set(v),indices:new Set([I])});continue}let F=null;const w=new Set,A=new Set(v);for(const[y,P]of C){F===null?F=P:P!==F&&w.add(P),d.delete(y);const{edges:Y}=m.get(P);Y.delete(y),A.delete(y)}if(F===null)throw new Error("Error computing face!");const S=m.get(F),{indices:x}=S;x.add(I);for(const y of A){d.set(y,F);const{edges:P}=S;P.add(y)}for(const y of w){const P=m.get(y),{edges:Y,indices:k}=P,K=m.get(F),{edges:X,indices:q}=K;for(const $ of Y)X.add($),d.set($,F);for(const $ of k)q.add($);m.delete(y)}}for(const[I,{indices:f,edges:C}]of m)if(f.has(t)){const v=[];for(const F of C){const w=r.get(F);v.push(w)}return{edges:v,indices:f}}return null}static distanceFromPointToLine(e,t,n,r=!1){const s=new At,o=new H;return s.set(t,n),s.closestPointToPoint(e,r,o),o.distanceTo(e)}static getFaceData(e,t,n){const r=this.getVerticesAndNormal(n,e,t),{p1:s,p2:o,p3:c,faceNormal:u}=r;this.round(s),this.round(o),this.round(c),this.round(u);const d=[{id:`${s.x}|${s.y}|${s.z}`,value:s},{id:`${o.x}|${o.y}|${o.z}`,value:o},{id:`${c.x}|${c.y}|${c.z}`,value:c}];d.sort((S,x)=>S.id<x.id?-1:S.id>x.id?1:0);const[{id:m,value:I},{id:f,value:C},{id:v,value:F}]=d,w=[{id:`${m}|${f}`,distance:I.distanceTo(C),points:[I,C]},{id:`${f}|${v}`,distance:C.distanceTo(F),points:[C,F]},{id:`${m}|${v}`,distance:I.distanceTo(F),points:[I,F]}],A=new si;return A.setFromNormalAndCoplanarPoint(u,s),A.constant=Math.round(A.constant*10)/10,{plane:A,edges:w}}static getVerticesAndNormal(e,t,n){if(!e.geometry.index)throw new Error("Geometry must be indexed!");const r=e.geometry.index.array,s=e.geometry.attributes.position.array,o=e.geometry.attributes.normal.array,c=r[t*3]*3,u=r[t*3+1]*3,d=r[t*3+2]*3,m=new H(s[c],s[c+1],s[c+2]),I=new H(s[u],s[u+1],s[u+2]),f=new H(s[d],s[d+1],s[d+2]),C=new H(o[c],o[c+1],o[c+2]),v=new H(o[u],o[u+1],o[u+2]),F=new H(o[d],o[d+1],o[d+2]),w=(C.x+v.x+F.x)/3,A=(C.y+v.y+F.y)/3,S=(C.z+v.z+F.z)/3,x=new H(w,A,S);if(!x.x&&!x.y&&!x.z&&console.log("hey"),n!==void 0&&e instanceof On){const y=new Ie;e.getMatrixAt(n,y);const P=new Ie;P.extractRotation(y),x.applyMatrix4(P),m.applyMatrix4(y),I.applyMatrix4(y),f.applyMatrix4(y)}return{p1:m,p2:I,p3:f,faceNormal:x}}static round(e){e.x=Math.trunc(e.x*1e3)/1e3,e.y=Math.trunc(e.y*1e3)/1e3,e.z=Math.trunc(e.z*1e3)/1e3}}var na={exports:{}};na.exports=ss;na.exports.default=ss;function ss(l,e,t){t=t||2;var n=e&&e.length,r=n?e[0]*t:l.length,s=dl(l,0,r,t,!0),o=[];if(!s||s.next===s.prev)return o;var c,u,d,m,I,f,C;if(n&&(s=Yd(l,e,s,t)),l.length>80*t){c=d=l[0],u=m=l[1];for(var v=t;v<r;v+=t)I=l[v],f=l[v+1],I<c&&(c=I),f<u&&(u=f),I>d&&(d=I),f>m&&(m=f);C=Math.max(d-c,m-u),C=C!==0?32767/C:0}return ki(s,o,t,c,u,C,0),o}function dl(l,e,t,n,r){var s,o;if(r===Uo(l,e,t,n)>0)for(s=e;s<t;s+=n)o=vc(s,l[s],l[s+1],o);else for(s=t-n;s>=e;s-=n)o=vc(s,l[s],l[s+1],o);return o&&os(o,o.next)&&(Hi(o),o=o.next),o}function bn(l,e){if(!l)return l;e||(e=l);var t=l,n;do if(n=!1,!t.steiner&&(os(t,t.next)||_e(t.prev,t,t.next)===0)){if(Hi(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function ki(l,e,t,n,r,s,o){if(l){!o&&s&&Kd(l,n,r,s);for(var c=l,u,d;l.prev!==l.next;){if(u=l.prev,d=l.next,s?_d(l,n,r,s):Ud(l)){e.push(u.i/t|0),e.push(l.i/t|0),e.push(d.i/t|0),Hi(l),l=d.next,c=d.next;continue}if(l=d,l===c){o?o===1?(l=Bd(bn(l),e,t),ki(l,e,t,n,r,s,2)):o===2&&zd(l,e,t,n,r,s):ki(bn(l),e,t,n,r,s,1);break}}}}function Ud(l){var e=l.prev,t=l,n=l.next;if(_e(e,t,n)>=0)return!1;for(var r=e.x,s=t.x,o=n.x,c=e.y,u=t.y,d=n.y,m=r<s?r<o?r:o:s<o?s:o,I=c<u?c<d?c:d:u<d?u:d,f=r>s?r>o?r:o:s>o?s:o,C=c>u?c>d?c:d:u>d?u:d,v=n.next;v!==e;){if(v.x>=m&&v.x<=f&&v.y>=I&&v.y<=C&&ni(r,c,s,u,o,d,v.x,v.y)&&_e(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function _d(l,e,t,n){var r=l.prev,s=l,o=l.next;if(_e(r,s,o)>=0)return!1;for(var c=r.x,u=s.x,d=o.x,m=r.y,I=s.y,f=o.y,C=c<u?c<d?c:d:u<d?u:d,v=m<I?m<f?m:f:I<f?I:f,F=c>u?c>d?c:d:u>d?u:d,w=m>I?m>f?m:f:I>f?I:f,A=Mo(C,v,e,t,n),S=Mo(F,w,e,t,n),x=l.prevZ,y=l.nextZ;x&&x.z>=A&&y&&y.z<=S;){if(x.x>=C&&x.x<=F&&x.y>=v&&x.y<=w&&x!==r&&x!==o&&ni(c,m,u,I,d,f,x.x,x.y)&&_e(x.prev,x,x.next)>=0||(x=x.prevZ,y.x>=C&&y.x<=F&&y.y>=v&&y.y<=w&&y!==r&&y!==o&&ni(c,m,u,I,d,f,y.x,y.y)&&_e(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;x&&x.z>=A;){if(x.x>=C&&x.x<=F&&x.y>=v&&x.y<=w&&x!==r&&x!==o&&ni(c,m,u,I,d,f,x.x,x.y)&&_e(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;y&&y.z<=S;){if(y.x>=C&&y.x<=F&&y.y>=v&&y.y<=w&&y!==r&&y!==o&&ni(c,m,u,I,d,f,y.x,y.y)&&_e(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function Bd(l,e,t){var n=l;do{var r=n.prev,s=n.next.next;!os(r,s)&&pl(r,n,n.next,s)&&Gi(r,s)&&Gi(s,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),Hi(n),Hi(n.next),n=l=s),n=n.next}while(n!==l);return bn(n)}function zd(l,e,t,n,r,s){var o=l;do{for(var c=o.next.next;c!==o.prev;){if(o.i!==c.i&&jd(o,c)){var u=fl(o,c);o=bn(o,o.next),u=bn(u,u.next),ki(o,e,t,n,r,s,0),ki(u,e,t,n,r,s,0);return}c=c.next}o=o.next}while(o!==l)}function Yd(l,e,t,n){var r=[],s,o,c,u,d;for(s=0,o=e.length;s<o;s++)c=e[s]*n,u=s<o-1?e[s+1]*n:l.length,d=dl(l,c,u,n,!1),d===d.next&&(d.steiner=!0),r.push(Xd(d));for(r.sort(Vd),s=0;s<r.length;s++)t=kd(r[s],t);return t}function Vd(l,e){return l.x-e.x}function kd(l,e){var t=Gd(l,e);if(!t)return e;var n=fl(t,l);return bn(n,n.next),bn(t,t.next)}function Gd(l,e){var t=e,n=l.x,r=l.y,s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){var c=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(c<=n&&c>s&&(s=c,o=t.x<t.next.x?t:t.next,c===n))return o}t=t.next}while(t!==e);if(!o)return null;var u=o,d=o.x,m=o.y,I=1/0,f;t=o;do n>=t.x&&t.x>=d&&n!==t.x&&ni(r<m?n:s,r,d,m,r<m?s:n,r,t.x,t.y)&&(f=Math.abs(r-t.y)/(n-t.x),Gi(t,l)&&(f<I||f===I&&(t.x>o.x||t.x===o.x&&Hd(o,t)))&&(o=t,I=f)),t=t.next;while(t!==u);return o}function Hd(l,e){return _e(l.prev,l,e.prev)<0&&_e(e.next,l,l.next)<0}function Kd(l,e,t,n){var r=l;do r.z===0&&(r.z=Mo(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==l);r.prevZ.nextZ=null,r.prevZ=null,Wd(r)}function Wd(l){var e,t,n,r,s,o,c,u,d=1;do{for(t=l,l=null,s=null,o=0;t;){for(o++,n=t,c=0,e=0;e<d&&(c++,n=n.nextZ,!!n);e++);for(u=d;c>0||u>0&&n;)c!==0&&(u===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,c--):(r=n,n=n.nextZ,u--),s?s.nextZ=r:l=r,r.prevZ=s,s=r;t=n}s.nextZ=null,d*=2}while(o>1);return l}function Mo(l,e,t,n,r){return l=(l-t)*r|0,e=(e-n)*r|0,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,l|e<<1}function Xd(l){var e=l,t=l;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==l);return t}function ni(l,e,t,n,r,s,o,c){return(r-o)*(e-c)>=(l-o)*(s-c)&&(l-o)*(n-c)>=(t-o)*(e-c)&&(t-o)*(s-c)>=(r-o)*(n-c)}function jd(l,e){return l.next.i!==e.i&&l.prev.i!==e.i&&!Zd(l,e)&&(Gi(l,e)&&Gi(e,l)&&Qd(l,e)&&(_e(l.prev,l,e.prev)||_e(l,e.prev,e))||os(l,e)&&_e(l.prev,l,l.next)>0&&_e(e.prev,e,e.next)>0)}function _e(l,e,t){return(e.y-l.y)*(t.x-e.x)-(e.x-l.x)*(t.y-e.y)}function os(l,e){return l.x===e.x&&l.y===e.y}function pl(l,e,t,n){var r=Xr(_e(l,e,t)),s=Xr(_e(l,e,n)),o=Xr(_e(t,n,l)),c=Xr(_e(t,n,e));return!!(r!==s&&o!==c||r===0&&Wr(l,t,e)||s===0&&Wr(l,n,e)||o===0&&Wr(t,l,n)||c===0&&Wr(t,e,n))}function Wr(l,e,t){return e.x<=Math.max(l.x,t.x)&&e.x>=Math.min(l.x,t.x)&&e.y<=Math.max(l.y,t.y)&&e.y>=Math.min(l.y,t.y)}function Xr(l){return l>0?1:l<0?-1:0}function Zd(l,e){var t=l;do{if(t.i!==l.i&&t.next.i!==l.i&&t.i!==e.i&&t.next.i!==e.i&&pl(t,t.next,l,e))return!0;t=t.next}while(t!==l);return!1}function Gi(l,e){return _e(l.prev,l,l.next)<0?_e(l,e,l.next)>=0&&_e(l,l.prev,e)>=0:_e(l,e,l.prev)<0||_e(l,l.next,e)<0}function Qd(l,e){var t=l,n=!1,r=(l.x+e.x)/2,s=(l.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==l);return n}function fl(l,e){var t=new Do(l.i,l.x,l.y),n=new Do(e.i,e.x,e.y),r=l.next,s=e.prev;return l.next=e,e.prev=l,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function vc(l,e,t,n){var r=new Do(l,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Hi(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function Do(l,e,t){this.i=l,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ss.deviation=function(l,e,t,n){var r=e&&e.length,s=r?e[0]*t:l.length,o=Math.abs(Uo(l,0,s,t));if(r)for(var c=0,u=e.length;c<u;c++){var d=e[c]*t,m=c<u-1?e[c+1]*t:l.length;o-=Math.abs(Uo(l,d,m,t))}var I=0;for(c=0;c<n.length;c+=3){var f=n[c]*t,C=n[c+1]*t,v=n[c+2]*t;I+=Math.abs((l[f]-l[v])*(l[C+1]-l[f+1])-(l[f]-l[C])*(l[v+1]-l[f+1]))}return o===0&&I===0?0:Math.abs((I-o)/o)};function Uo(l,e,t,n){for(var r=0,s=e,o=t-n;s<t;s+=n)r+=(l[o]-l[s])*(l[s+1]+l[o+1]),o=s;return r}ss.flatten=function(l){for(var e=l[0][0].length,t={vertices:[],holes:[],dimensions:e},n=0,r=0;r<l.length;r++){for(var s=0;s<l[r].length;s++)for(var o=0;o<e;o++)t.vertices.push(l[r][s][o]);r>0&&(n+=l[r-1].length,t.holes.push(n))}return t};var qd=na.exports;const gp=Dc(qd);class Jd{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const $d=new Wi(-1,1,1,-1,0,1);class ep extends An{constructor(){super(),this.setAttribute("position",new ts([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new ts([0,2,0,0,2,0],2))}}const tp=new ep;class Cp{constructor(e){this._mesh=new ce(tp,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,$d)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const ji=new An;ji.setAttribute("position",new Sn(new Float32Array([-1,-1,3,-1,-1,3]),2));ji.setAttribute("uv",new Sn(new Float32Array([0,0,2,0,0,2]),2));ji.boundingSphere=new Ki;ji.computeBoundingSphere=function(){};const np=new Wi;class jr{constructor(e){this._mesh=new ce(ji,e),this._mesh.frustumCulled=!1}render(e){e.render(this._mesh,np)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}dispose(){this._mesh.material.dispose(),this._mesh.geometry.dispose()}}const ip={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},sceneNormal:{value:null},projMat:{value:new Ie},viewMat:{value:new Ie},projViewMat:{value:new Ie},projectionMatrixInv:{value:new Ie},viewMatrixInv:{value:new Ie},cameraPos:{value:new H},resolution:{value:new Ze},time:{value:0},samples:{value:[]},samplesR:{value:[]},bluenoise:{value:null},distanceFalloff:{value:1},radius:{value:5},near:{value:.1},far:{value:1e3},logDepth:{value:!1},ortho:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 1);
}`,fragmentShader:`
    #define SAMPLES 16
    #define FSAMPLES 16.0
uniform sampler2D sceneDiffuse;
uniform sampler2D sceneNormal;
uniform highp sampler2D sceneDepth;
uniform mat4 projectionMatrixInv;
uniform mat4 viewMatrixInv;
uniform mat4 projMat;
uniform mat4 viewMat;
uniform mat4 projViewMat;
uniform vec3 cameraPos;
uniform vec2 resolution;
uniform float time;
uniform vec3[SAMPLES] samples;
uniform float[SAMPLES] samplesR;
uniform float radius;
uniform float distanceFalloff;
uniform float near;
uniform float far;
uniform bool logDepth;
uniform bool ortho;
uniform bool screenSpaceRadius;
uniform sampler2D bluenoise;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }

    vec3 getWorldPosLog(vec3 posS) {
      vec2 uv = posS.xy;
      float z = posS.z;
      float nearZ =near;
      float farZ = far;
      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
      vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;
      return wpos.xyz / wpos.w;
    }
    vec3 getWorldPos(float depth, vec2 coord) {
      #ifdef LOGDEPTH
        return getWorldPosLog(vec3(coord, depth));
      #endif
      float z = depth * 2.0 - 1.0;
      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
      // Perspective division
     vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;
     worldSpacePosition.xyz /= worldSpacePosition.w;
      return worldSpacePosition.xyz;
  }

  vec3 computeNormal(vec3 worldPos, vec2 vUv) {
    ivec2 p = ivec2(vUv * resolution);
    float c0 = texelFetch(sceneDepth, p, 0).x;
    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;

    float dl = abs((2.0 * l1 - l2) - c0);
    float dr = abs((2.0 * r1 - r2) - c0);
    float db = abs((2.0 * b1 - b2) - c0);
    float dt = abs((2.0 * t1 - t2) - c0);

    vec3 ce = getWorldPos(c0, vUv).xyz;

    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;

    return normalize(cross(dpdx, dpdy));
}

void main() {
      vec4 diffuse = texture2D(sceneDiffuse, vUv);
      float depth = texture2D(sceneDepth, vUv).x;
      if (depth == 1.0) {
        gl_FragColor = vec4(vec3(1.0), 1.0);
        return;
      }
      vec3 worldPos = getWorldPos(depth, vUv);
    //  vec3 normal = texture2D(sceneNormal, vUv).rgb;//computeNormal(worldPos, vUv);
      #ifdef HALFRES
        vec3 normal = texture2D(sceneNormal, vUv).rgb;
      #else
        vec3 normal = computeNormal(worldPos, vUv);
      #endif
      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);
      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);
      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));
      vec3 bitangent = cross(normal, tangent);
      mat3 tbn = mat3(tangent, bitangent, normal);
      float occluded = 0.0;
      float totalWeight = 0.0;
     /* float radiusScreen = distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(48.0, 0.0) / resolution)
      );/*vUv.x < 0.5 ? radius : min(distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(100.0, 0.0) / resolution)
      ), radius);
      float distanceFalloffScreen = radiusScreen * 0.2;*/
      float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;
      for(float i = 0.0; i < FSAMPLES; i++) {
        vec3 sampleDirection = 
        tbn * 
        samples[int(i)];
        ;
        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];
        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;
        vec4 offset = projViewMat * vec4(samplePos, 1.0);
        offset.xyz /= offset.w;
        offset.xyz = offset.xyz * 0.5 + 0.5;
        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;
        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) 
         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/
        #ifdef LOGDEPTH
        float distSample = linearize_depth_log(sampleDepth, near, far);
        #else
        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);
        #endif
        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);
        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));
        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);
        float weight = dot(sampleDirection, normal);
          occluded += rangeCheck * weight * 
            (distSample + bias
               < distWorld ? 1.0 : 0.0) * (
          (dot(
            diff,
            diff
             
            ) < 1.0 || (sampleDepth == depth) || (
              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0
            ) ? 0.0 : 1.0)
          );
          totalWeight += weight;
      }
      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);
      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);
}`},rp={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new Ie},viewMat:{value:new Ie},projectionMatrixInv:{value:new Ie},viewMatrixInv:{value:new Ie},cameraPos:{value:new H},resolution:{value:new Ze},color:{value:new H(0,0,0)},blueNoise:{value:null},downsampledDepth:{value:null},time:{value:0},intensity:{value:10},renderMode:{value:0},gammaCorrection:{value:!1},logDepth:{value:!1},ortho:{value:!1},near:{value:.1},far:{value:1e3},screenSpaceRadius:{value:!1},radius:{value:0},distanceFalloff:{value:1}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform sampler2D sceneDepth;
    uniform sampler2D downsampledDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform vec2 resolution;
    uniform vec3 color;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform float intensity;
    uniform float renderMode;
    uniform float near;
    uniform float far;
    uniform bool gammaCorrection;
    uniform bool logDepth;
    uniform bool ortho;
    uniform bool screenSpaceRadius;
    uniform float radius;
    uniform float distanceFalloff;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
       // if (logDepth) {
        #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
        #endif
      //  }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }

    #include <common>
    #include <dithering_pars_fragment>
    void main() {
        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);
        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);

        #ifdef HALFRES 
        float depth = texture2D(
            sceneDepth,
            vUv
        ).x;
        vec4 texel;
        if (depth == 1.0) {
            texel = vec4(0.0, 0.0, 0.0, 1.0);
        } else {
        vec3 worldPos = getWorldPos(depth, vUv);
        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);
       // vec4 texel = texture2D(tDiffuse, vUv);
       // Find closest depth;
       float totalWeight = 0.0;
       float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
        for(float x = -1.0; x <= 1.0; x++) {
            for(float y = -1.0; y <= 1.0; y++) {
                vec2 offset = vec2(x, y);
                ivec2 p = ivec2(
                    (vUv * resolution * 0.5) + offset
                );
                vec2 pUv = vec2(p) / (resolution * 0.5);
                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;
                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);
                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;
                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);
                float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);
                float weight = rangeCheck;
                totalWeight += weight;
                texel += sampleInfo * weight;
            }
        }
        if (totalWeight == 0.0) {
            texel = texture2D(tDiffuse, vUv);
        } else {
            texel /= totalWeight;
        }
    }
        #else
        vec4 texel = texture2D(tDiffuse, vUv);
        #endif

     
        float finalAo = pow(texel.a, intensity);
        if (renderMode == 0.0) {
            gl_FragColor = vec4( mix(sceneTexel.rgb, color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 1.0) {
            gl_FragColor = vec4( mix(vec3(1.0), color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 2.0) {
            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
        } else if (renderMode == 3.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(sceneTexel.rgb, color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);
            }
        } else if (renderMode == 4.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(vec3(1.0), color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);
            }
        }
        #include <dithering_fragment>
        if (gammaCorrection) {
            gl_FragColor = LinearTosRGB(gl_FragColor);
        }
    }
    `},sp={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new Ie},viewMat:{value:new Ie},projectionMatrixInv:{value:new Ie},viewMatrixInv:{value:new Ie},cameraPos:{value:new H},resolution:{value:new Ze},time:{value:0},r:{value:5},blueNoise:{value:null},radius:{value:12},worldRadius:{value:5},index:{value:0},poissonDisk:{value:[]},distanceFalloff:{value:1},near:{value:.1},far:{value:1e3},logDepth:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1.0);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform vec2 resolution;
    uniform float r;
    uniform float radius;
     uniform float worldRadius;
    uniform float index;
     uniform float near;
     uniform float far;
     uniform float distanceFalloff;
     uniform bool logDepth;
     uniform bool screenSpaceRadius;
    varying vec2 vUv;

    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        highp float z_n = 2.0 * d - 1.0;
        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     return linearize_depth(linDepth, nearZ, farZ);
   }
   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
     return nearZ + (farZ - nearZ) * d;
   }
   vec3 getWorldPosLog(vec3 posS) {
     vec2 uv = posS.xy;
     float z = posS.z;
     float nearZ =near;
     float farZ = far;
     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
     vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;
     return wpos.xyz / wpos.w;
   }
    vec3 getWorldPos(float depth, vec2 coord) {
     #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
     #endif
        
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
    #include <common>
    #define NUM_SAMPLES 16
    uniform vec2 poissonDisk[NUM_SAMPLES];
    void main() {
        const float pi = 3.14159;
        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);
        vec2 uv = vUv;
        vec4 data = texture2D(tDiffuse, vUv);
        float occlusion = data.a;
        float baseOcc = data.a;
        vec3 normal = data.rgb * 2.0 - 1.0;
        float count = 1.0;
        float d = texture2D(sceneDepth, vUv).x;
        vec3 worldPos = getWorldPos(d, vUv);
        float size = radius;
        float angle;
        if (index == 0.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;
        } else if (index == 1.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;
        } else if (index == 2.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;
        } else {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;
        }

        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));
        float radiusToUse = screenSpaceRadius ? distance(
          worldPos,
          getWorldPos(d, vUv +
            vec2(worldRadius, 0.0) / resolution)
        ) : worldRadius;
        float distanceFalloffToUse =screenSpaceRadius ?
            radiusToUse * distanceFalloff
        : distanceFalloff;


        for(int i = 0; i < NUM_SAMPLES; i++) {
            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;
            vec4 dataSample = texture2D(tDiffuse, uv + offset);
            float occSample = dataSample.a;
            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;
            float dSample = texture2D(sceneDepth, uv + offset).x;
            vec3 worldPosSample = getWorldPos(dSample, uv + offset);
            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
            float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));
            occlusion += occSample * rangeCheck;
            count += rangeCheck;
        }
        occlusion /= count;
        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);
    }
    `},op={uniforms:{sceneDepth:{value:null},resolution:{value:new Ze},near:{value:.1},far:{value:1e3},viewMatrixInv:{value:new Ie},projectionMatrixInv:{value:new Ie},logDepth:{value:!1}},vertexShader:`
    varying vec2 vUv;
    void main() {
        vUv = uv;
        gl_Position = vec4(position, 1);
    }`,fragmentShader:`
    uniform sampler2D sceneDepth;
    uniform vec2 resolution;
    uniform float near;
    uniform float far;
    uniform bool logDepth;
    uniform mat4 viewMatrixInv;
    uniform mat4 projectionMatrixInv;
    varying vec2 vUv;
    layout(location = 1) out vec4 gNormal;
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
        if (logDepth) {
          return getWorldPosLog(vec3(coord, depth));
        }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }
    void main() {
        vec2 uv = vUv - vec2(0.5) / resolution;
        vec2 pixelSize = vec2(1.0) / resolution;
        vec2[] uvSamples = vec2[4](
            uv,
            uv + vec2(pixelSize.x, 0.0),
            uv + vec2(0.0, pixelSize.y),
            uv + pixelSize
        );
        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;
        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;
        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;
        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;
        float minDepth = min(min(depth00, depth10), min(depth01, depth11));
        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));
        float targetDepth = minDepth;
        // Checkerboard pattern to avoid artifacts
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { 
            targetDepth = maxDepth;
        }
        int chosenIndex = 0;
        float[] samples = float[4](depth00, depth10, depth01, depth11);
        for(int i = 0; i < 4; ++i) {
            if (samples[i] == targetDepth) {
                chosenIndex = i;
                break;
            }
        }
        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]
        ), 0.0);
       /* float[] samples = float[4](depth00, depth10, depth01, depth11);
        float c = 0.25 * (depth00 + depth10 + depth01 + depth11);
        float[] distances = float[4](depth00, depth10, depth01, depth11);
        float maxDistance = max(max(distances[0], distances[1]), max(distances[2], distances[3]));

        int remaining[3];
        int rejected[3];
        int i, j, k;

        for(i = 0, j = 0, k = 0; i < 4; ++i) {
            if (distances[i] < maxDistance) {
                remaining[j++] = i;
            } else {
                rejected[k++] = i;
            }
        }
        for(;j < 3;++j) {
            remaining[j] = rejected[--k];
        }
        vec3 s = vec3(
            samples[remaining[0]],
            samples[remaining[1]],
            samples[remaining[2]]
        );
        c = (s.x + s.y + s.z) / 3.0;

        distances[0] = abs(c - s.x);
        distances[1] = abs(c - s.y);
        distances[2] = abs(c - s.z);

        float minDistance = min(min(distances[0], distances[1]), distances[2]);

        for(i = 0; i < 3; ++i) {
            if (distances[i] == minDistance) {
                break;
            }
        }*/
      /*  gl_FragColor = vec4(samples[remaining[i]], 0.0, 0.0, 0.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[remaining[i]], uvSamples[remaining[i]]), uvSamples[remaining[i]]
        ), 0.0);*/
    }`};var ml="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";Uint8Array.from(atob(ml),l=>l.charCodeAt(0));const ap=Uint8Array.from(atob(ml),l=>l.charCodeAt(0));function El(l,e,t){if(e.getQueryParameter(l,e.QUERY_RESULT_AVAILABLE)){const s=e.getQueryParameter(l,e.QUERY_RESULT)/1e6;t.lastTime=s}else setTimeout(()=>{El(l,e,t)},1)}class Tp extends Jd{constructor(e,t,n=512,r=512){super(),this.width=n,this.height=r,this.clear=!0,this.camera=t,this.scene=e,this.configuration=new Proxy({aoSamples:16,aoRadius:5,denoiseSamples:8,denoiseRadius:12,distanceFalloff:1,intensity:5,denoiseIterations:2,renderMode:0,color:new Ht(0,0,0),gammaCorrection:!0,logarithmicDepthBuffer:!1,screenSpaceRadius:!1,halfRes:!1,depthAwareUpsampling:!0},{set:(s,o,c)=>{const u=s[o];return s[o]=c,o==="aoSamples"&&u!==c&&this.configureAOPass(this.configuration.logarithmicDepthBuffer),o==="denoiseSamples"&&u!==c&&this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),o==="halfRes"&&u!==c&&(this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureHalfResTargets(),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.setSize(this.width,this.height)),o==="depthAwareUpsampling"&&u!==c&&this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),!0}}),this.samples=[],this.samplesR=[],this.samplesDenoise=[],this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.configureSampleDependentPasses(),this.configureHalfResTargets(),this.beautyRenderTarget=new Zr(this.width,this.height,{minFilter:Fi,magFilter:Cn}),this.beautyRenderTarget.depthTexture=new fh(this.width,this.height,mh),this.beautyRenderTarget.depthTexture.format=Eh,this.writeTargetInternal=new Zr(this.width,this.height,{minFilter:Fi,magFilter:Fi,depthBuffer:!1}),this.readTargetInternal=new Zr(this.width,this.height,{minFilter:Fi,magFilter:Fi,depthBuffer:!1}),this.bluenoise=new Ih(ap,128,128),this.bluenoise.colorSpace=gh,this.bluenoise.wrapS=_a,this.bluenoise.wrapT=_a,this.bluenoise.minFilter=Cn,this.bluenoise.magFilter=Cn,this.bluenoise.needsUpdate=!0,this.lastTime=0,this._r=new Ze,this._c=new Ht}configureHalfResTargets(){this.configuration.halfRes?(this.depthDownsampleTarget=new Ch(this.width/2,this.height/2,2),this.depthDownsampleTarget.texture[0].format=Th,this.depthDownsampleTarget.texture[0].type=yh,this.depthDownsampleTarget.texture[0].minFilter=Cn,this.depthDownsampleTarget.texture[0].magFilter=Cn,this.depthDownsampleTarget.texture[0].depthBuffer=!1,this.depthDownsampleTarget.texture[1].format=vh,this.depthDownsampleTarget.texture[1].type=Rh,this.depthDownsampleTarget.texture[1].minFilter=Cn,this.depthDownsampleTarget.texture[1].magFilter=Cn,this.depthDownsampleTarget.texture[1].depthBuffer=!1,this.depthDownsampleQuad=new jr(new nn(op))):(this.depthDownsampleTarget&&(this.depthDownsampleTarget.dispose(),this.depthDownsampleTarget=null),this.depthDownsampleQuad&&(this.depthDownsampleQuad.dispose(),this.depthDownsampleQuad=null))}configureSampleDependentPasses(){this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)}configureAOPass(e=!1){this.samples=this.generateHemisphereSamples(this.configuration.aoSamples),this.samplesR=this.generateHemisphereSamplesR(this.configuration.aoSamples);const t={...ip};t.fragmentShader=t.fragmentShader.replace("16",this.configuration.aoSamples).replace("16.0",this.configuration.aoSamples+".0"),e&&(t.fragmentShader=`#define LOGDEPTH
`+t.fragmentShader),this.configuration.halfRes&&(t.fragmentShader=`#define HALFRES
`+t.fragmentShader),this.effectShaderQuad?(this.effectShaderQuad.material.dispose(),this.effectShaderQuad.material=new nn(t)):this.effectShaderQuad=new jr(new nn(t))}configureDenoisePass(e=!1){this.samplesDenoise=this.generateDenoiseSamples(this.configuration.denoiseSamples,11);const t={...sp};t.fragmentShader=t.fragmentShader.replace("16",this.configuration.denoiseSamples),e&&(t.fragmentShader=`#define LOGDEPTH
`+t.fragmentShader),this.poissonBlurQuad?(this.poissonBlurQuad.material.dispose(),this.poissonBlurQuad.material=new nn(t)):this.poissonBlurQuad=new jr(new nn(t))}configureEffectCompositer(e=!1){const t={...rp};e&&(t.fragmentShader=`#define LOGDEPTH
`+t.fragmentShader),this.configuration.halfRes&&this.configuration.depthAwareUpsampling&&(t.fragmentShader=`#define HALFRES
`+t.fragmentShader),this.effectCompositerQuad?(this.effectCompositerQuad.material.dispose(),this.effectCompositerQuad.material=new nn(t)):this.effectCompositerQuad=new jr(new nn(t))}generateHemisphereSamples(e){const t=[];for(let n=0;n<e;n++){const r=2.399963*n,s=Math.sqrt(n+.5)/Math.sqrt(e),o=s*Math.cos(r),c=s*Math.sin(r),u=Math.sqrt(1-(o*o+c*c));t.push(new H(o,c,u))}return t}generateHemisphereSamplesR(e){let t=[];for(let n=0;n<e;n++)t.push((n+1)/e);return t}generateDenoiseSamples(e,t){const n=2*Math.PI*t/e,r=1/e,s=r,o=[];let c=r,u=0;for(let d=0;d<e;d++)o.push(new Ze(Math.cos(u),Math.sin(u)).multiplyScalar(Math.pow(c,.75))),c+=s,u+=n;return o}setSize(e,t){this.width=e,this.height=t;const n=this.configuration.halfRes?.5:1;this.beautyRenderTarget.setSize(e,t),this.writeTargetInternal.setSize(e*n,t*n),this.readTargetInternal.setSize(e*n,t*n),this.configuration.halfRes&&this.depthDownsampleTarget.setSize(e*n,t*n)}render(e,t,n,r,s){e.capabilities.logarithmicDepthBuffer!==this.configuration.logarithmicDepthBuffer&&(this.configuration.logarithmicDepthBuffer=e.capabilities.logarithmicDepthBuffer,this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer));let o,c,u;this.debugMode&&(o=e.getContext(),c=o.getExtension("EXT_disjoint_timer_query_webgl2"),c===null&&(console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."),this.debugMode=!1)),e.setRenderTarget(this.beautyRenderTarget),e.render(this.scene,this.camera),this.debugMode&&(u=o.createQuery(),o.beginQuery(c.TIME_ELAPSED_EXT,u));const d=e.xr.enabled;e.xr.enabled=!1,this.camera.updateMatrixWorld(),this._r.set(this.width,this.height);let m=this.configuration.aoRadius;this.configuration.halfRes&&this.configuration.screenSpaceRadius&&(m*=.5),this.configuration.halfRes&&(e.setRenderTarget(this.depthDownsampleTarget),this.depthDownsampleQuad.material.uniforms.sceneDepth.value=this.beautyRenderTarget.depthTexture,this.depthDownsampleQuad.material.uniforms.resolution.value=this._r,this.depthDownsampleQuad.material.uniforms.near.value=this.camera.near,this.depthDownsampleQuad.material.uniforms.far.value=this.camera.far,this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.depthDownsampleQuad.material.uniforms.logDepth.value=this.configuration.logarithmicDepthBuffer,this.depthDownsampleQuad.render(e)),this.effectShaderQuad.material.uniforms.sceneDiffuse.value=this.beautyRenderTarget.texture,this.effectShaderQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.beautyRenderTarget.depthTexture,this.effectShaderQuad.material.uniforms.sceneNormal.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[1]:null,this.effectShaderQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.effectShaderQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.effectShaderQuad.material.uniforms.projViewMat.value=this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()),this.effectShaderQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectShaderQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectShaderQuad.material.uniforms.cameraPos.value=this.camera.position,this.effectShaderQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.effectShaderQuad.material.uniforms.time.value=performance.now()/1e3,this.effectShaderQuad.material.uniforms.samples.value=this.samples,this.effectShaderQuad.material.uniforms.samplesR.value=this.samplesR,this.effectShaderQuad.material.uniforms.bluenoise.value=this.bluenoise,this.effectShaderQuad.material.uniforms.radius.value=m,this.effectShaderQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectShaderQuad.material.uniforms.near.value=this.camera.near,this.effectShaderQuad.material.uniforms.far.value=this.camera.far,this.effectShaderQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectShaderQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectShaderQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.effectShaderQuad.render(e);for(let I=0;I<this.configuration.denoiseIterations;I++)[this.writeTargetInternal,this.readTargetInternal]=[this.readTargetInternal,this.writeTargetInternal],this.poissonBlurQuad.material.uniforms.tDiffuse.value=this.readTargetInternal.texture,this.poissonBlurQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.beautyRenderTarget.depthTexture,this.poissonBlurQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.poissonBlurQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.poissonBlurQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.poissonBlurQuad.material.uniforms.cameraPos.value=this.camera.position,this.poissonBlurQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.poissonBlurQuad.material.uniforms.time.value=performance.now()/1e3,this.poissonBlurQuad.material.uniforms.blueNoise.value=this.bluenoise,this.poissonBlurQuad.material.uniforms.radius.value=this.configuration.denoiseRadius*(this.configuration.halfRes?.5:1),this.poissonBlurQuad.material.uniforms.worldRadius.value=m,this.poissonBlurQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.poissonBlurQuad.material.uniforms.index.value=I,this.poissonBlurQuad.material.uniforms.poissonDisk.value=this.samplesDenoise,this.poissonBlurQuad.material.uniforms.near.value=this.camera.near,this.poissonBlurQuad.material.uniforms.far.value=this.camera.far,this.poissonBlurQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.poissonBlurQuad.render(e);this.effectCompositerQuad.material.uniforms.sceneDiffuse.value=this.beautyRenderTarget.texture,this.effectCompositerQuad.material.uniforms.sceneDepth.value=this.beautyRenderTarget.depthTexture,this.effectCompositerQuad.material.uniforms.near.value=this.camera.near,this.effectCompositerQuad.material.uniforms.far.value=this.camera.far,this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectCompositerQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectCompositerQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectCompositerQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectCompositerQuad.material.uniforms.downsampledDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.beautyRenderTarget.depthTexture,this.effectCompositerQuad.material.uniforms.resolution.value=this._r,this.effectCompositerQuad.material.uniforms.blueNoise.value=this.bluenoise,this.effectCompositerQuad.material.uniforms.intensity.value=this.configuration.intensity,this.effectCompositerQuad.material.uniforms.renderMode.value=this.configuration.renderMode,this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,this.effectCompositerQuad.material.uniforms.radius.value=m,this.effectCompositerQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectCompositerQuad.material.uniforms.gammaCorrection.value=this.configuration.gammaCorrection,this.effectCompositerQuad.material.uniforms.tDiffuse.value=this.writeTargetInternal.texture,this.effectCompositerQuad.material.uniforms.color.value=this._c.copy(this.configuration.color).convertSRGBToLinear(),e.setRenderTarget(this.renderToScreen?null:t),this.effectCompositerQuad.render(e),this.debugMode&&(o.endQuery(c.TIME_ELAPSED_EXT),El(u,o,this)),e.xr.enabled=d}enableDebugMode(){this.debugMode=!0}disableDebugMode(){this.debugMode=!1}setDisplayMode(e){this.configuration.renderMode=["Combined","AO","No AO","Split","Split AO"].indexOf(e)}setQualityMode(e){e==="Performance"?(this.configuration.aoSamples=8,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Low"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Medium"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=12):e==="High"?(this.configuration.aoSamples=64,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=6):e==="Ultra"&&(this.configuration.aoSamples=64,this.configuration.denoiseSamples=16,this.configuration.denoiseRadius=6)}}var Il={exports:{}};(function(l,e){(function(t,n){l.exports=n()})(Ba,function(){var t=function(i,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])})(i,a)},n=function(){return(n=Object.assign||function(i){for(var a,h=1,p=arguments.length;h<p;h++)for(var E in a=arguments[h])Object.prototype.hasOwnProperty.call(a,E)&&(i[E]=a[E]);return i}).apply(this,arguments)};function r(i,a,h){for(var p,E=0,g=a.length;E<g;E++)!p&&E in a||((p=p||Array.prototype.slice.call(a,0,E))[E]=a[E]);return i.concat(p||Array.prototype.slice.call(a))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ba,o=Object.keys,c=Array.isArray;function u(i,a){return typeof a!="object"||o(a).forEach(function(h){i[h]=a[h]}),i}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var d=Object.getPrototypeOf,m={}.hasOwnProperty;function I(i,a){return m.call(i,a)}function f(i,a){typeof a=="function"&&(a=a(d(i))),(typeof Reflect>"u"?o:Reflect.ownKeys)(a).forEach(function(h){v(i,h,a[h])})}var C=Object.defineProperty;function v(i,a,h,p){C(i,a,u(h&&I(h,"get")&&typeof h.get=="function"?{get:h.get,set:h.set,configurable:!0}:{value:h,configurable:!0,writable:!0},p))}function F(i){return{from:function(a){return i.prototype=Object.create(a.prototype),v(i.prototype,"constructor",i),{extend:f.bind(null,i.prototype)}}}}var w=Object.getOwnPropertyDescriptor,A=[].slice;function S(i,a,h){return A.call(i,a,h)}function x(i,a){return a(i)}function y(i){if(!i)throw new Error("Assertion Failed")}function P(i){s.setImmediate?setImmediate(i):setTimeout(i,0)}function Y(i,a){if(typeof a=="string"&&I(i,a))return i[a];if(!a)return i;if(typeof a!="string"){for(var h=[],p=0,E=a.length;p<E;++p){var g=Y(i,a[p]);h.push(g)}return h}var R=a.indexOf(".");if(R!==-1){var O=i[a.substr(0,R)];return O==null?void 0:Y(O,a.substr(R+1))}}function k(i,a,h){if(i&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof a!="string"&&"length"in a){y(typeof h!="string"&&"length"in h);for(var p=0,E=a.length;p<E;++p)k(i,a[p],h[p])}else{var g,R,O=a.indexOf(".");O!==-1?(g=a.substr(0,O),(R=a.substr(O+1))===""?h===void 0?c(i)&&!isNaN(parseInt(g))?i.splice(g,1):delete i[g]:i[g]=h:k(O=!(O=i[g])||!I(i,g)?i[g]={}:O,R,h)):h===void 0?c(i)&&!isNaN(parseInt(a))?i.splice(a,1):delete i[a]:i[a]=h}}function K(i){var a,h={};for(a in i)I(i,a)&&(h[a]=i[a]);return h}var X=[].concat;function q(i){return X.apply([],i)}var Yt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(q([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(a){return a+i+"Array"})}))).filter(function(i){return s[i]}),$=new Set(Yt.map(function(i){return s[i]})),J=null;function ie(i){return J=new WeakMap,i=function a(h){if(!h||typeof h!="object")return h;var p=J.get(h);if(p)return p;if(c(h)){p=[],J.set(h,p);for(var E=0,g=h.length;E<g;++E)p.push(a(h[E]))}else if($.has(h.constructor))p=h;else{var R,O=d(h);for(R in p=O===Object.prototype?{}:Object.create(O),J.set(h,p),h)I(h,R)&&(p[R]=a(h[R]))}return p}(i),J=null,i}var ue={}.toString;function Ee(i){return ue.call(i).slice(8,-1)}var ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve=typeof ve=="symbol"?function(i){var a;return i!=null&&(a=i[ve])&&a.apply(i)}:function(){return null};function Re(i,a){return a=i.indexOf(a),0<=a&&i.splice(a,1),0<=a}var nt={};function je(i){var a,h,p,E;if(arguments.length===1){if(c(i))return i.slice();if(this===nt&&typeof i=="string")return[i];if(E=Ve(i)){for(h=[];!(p=E.next()).done;)h.push(p.value);return h}if(i==null)return[i];if(typeof(a=i.length)!="number")return[i];for(h=new Array(a);a--;)h[a]=i[a];return h}for(a=arguments.length,h=new Array(a);a--;)h[a]=arguments[a];return h}var It=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ui=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ut=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ui),xn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ht(i,a){this.name=i,this.message=a}function ai(i,a){return i+". Errors: "+Object.keys(a).map(function(h){return a[h].toString()}).filter(function(h,p,E){return E.indexOf(h)===p}).join(`
`)}function hn(i,a,h,p){this.failures=a,this.failedKeys=p,this.successCount=h,this.message=ai(i,a)}function _t(i,a){this.name="BulkError",this.failures=Object.keys(a).map(function(h){return a[h]}),this.failuresByPos=a,this.message=ai(i,this.failures)}F(ht).from(Error).extend({toString:function(){return this.name+": "+this.message}}),F(hn).from(ht),F(_t).from(ht);var Bt=ut.reduce(function(i,a){return i[a]=a+"Error",i},{}),Be=ht,le=ut.reduce(function(i,a){var h=a+"Error";function p(E,g){this.name=h,E?typeof E=="string"?(this.message="".concat(E).concat(g?`
 `+g:""),this.inner=g||null):typeof E=="object"&&(this.message="".concat(E.name," ").concat(E.message),this.inner=E):(this.message=xn[a]||h,this.inner=null)}return F(p).from(Be),i[a]=p,i},{});le.Syntax=SyntaxError,le.Type=TypeError,le.Range=RangeError;var De=ui.reduce(function(i,a){return i[a+"Error"]=le[a],i},{}),gt=ut.reduce(function(i,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(i[a+"Error"]=le[a]),i},{});function Oe(){}function St(i){return i}function as(i,a){return i==null||i===St?a:function(h){return a(i(h))}}function Ct(i,a){return function(){i.apply(this,arguments),a.apply(this,arguments)}}function ci(i,a){return i===Oe?a:function(){var h=i.apply(this,arguments);h!==void 0&&(arguments[0]=h);var p=this.onsuccess,E=this.onerror;this.onsuccess=null,this.onerror=null;var g=a.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?Ct(p,this.onsuccess):p),E&&(this.onerror=this.onerror?Ct(E,this.onerror):E),g!==void 0?g:h}}function li(i,a){return i===Oe?a:function(){i.apply(this,arguments);var h=this.onsuccess,p=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?Ct(h,this.onsuccess):h),p&&(this.onerror=this.onerror?Ct(p,this.onerror):p)}}function gl(i,a){return i===Oe?a:function(h){var p=i.apply(this,arguments);u(h,p);var E=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,h=a.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?Ct(E,this.onsuccess):E),g&&(this.onerror=this.onerror?Ct(g,this.onerror):g),p===void 0?h===void 0?void 0:h:u(p,h)}}function Cl(i,a){return i===Oe?a:function(){return a.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function cs(i,a){return i===Oe?a:function(){var h=i.apply(this,arguments);if(h&&typeof h.then=="function"){for(var p=this,E=arguments.length,g=new Array(E);E--;)g[E]=arguments[E];return h.then(function(){return a.apply(p,g)})}return a.apply(this,arguments)}}gt.ModifyError=hn,gt.DexieError=ht,gt.BulkError=_t;var bt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ia(i){bt=i}var hi={},ra=100,Yt=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,d(i),i];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,d(a),i]}(),ui=Yt[0],ut=Yt[1],Yt=Yt[2],ut=ut&&ut.then,di=ui&&ui.constructor,ls=!!Yt,pi=function(i,a){fi.push([i,a]),Zi&&(queueMicrotask(yl),Zi=!1)},hs=!0,Zi=!0,un=[],Qi=[],us=St,Wt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Oe,pgp:!1,env:{},finalize:Oe},he=Wt,fi=[],dn=0,qi=[];function ae(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=he;if(typeof i!="function"){if(i!==hi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ps(this,this._value))}this._state=null,this._value=null,++a.ref,function h(p,E){try{E(function(g){if(p._state===null){if(g===p)throw new TypeError("A promise cannot be resolved with itself.");var R=p._lib&&Nn();g&&typeof g.then=="function"?h(p,function(O,M){g instanceof ae?g._then(O,M):g.then(O,M)}):(p._state=!0,p._value=g,oa(p)),R&&Ln()}},ps.bind(null,p))}catch(g){ps(p,g)}}(this,i)}var ds={get:function(){var i=he,a=tr;function h(p,E){var g=this,R=!i.global&&(i!==he||a!==tr),O=R&&!jt(),M=new ae(function(N,_){fs(g,new sa(ca(p,i,R,O),ca(E,i,R,O),N,_,i))});return this._consoleTask&&(M._consoleTask=this._consoleTask),M}return h.prototype=hi,h},set:function(i){v(this,"then",i&&i.prototype===hi?ds:{get:function(){return i},set:ds.set})}};function sa(i,a,h,p,E){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof a=="function"?a:null,this.resolve=h,this.reject=p,this.psd=E}function ps(i,a){var h,p;Qi.push(a),i._state===null&&(h=i._lib&&Nn(),a=us(a),i._state=!1,i._value=a,p=i,un.some(function(E){return E._value===p._value})||un.push(p),oa(i),h&&Ln())}function oa(i){var a=i._listeners;i._listeners=[];for(var h=0,p=a.length;h<p;++h)fs(i,a[h]);var E=i._PSD;--E.ref||E.finalize(),dn===0&&(++dn,pi(function(){--dn==0&&ms()},[]))}function fs(i,a){if(i._state!==null){var h=i._state?a.onFulfilled:a.onRejected;if(h===null)return(i._state?a.resolve:a.reject)(i._value);++a.psd.ref,++dn,pi(Tl,[h,i,a])}else i._listeners.push(a)}function Tl(i,a,h){try{var p,E=a._value;!a._state&&Qi.length&&(Qi=[]),p=bt&&a._consoleTask?a._consoleTask.run(function(){return i(E)}):i(E),a._state||Qi.indexOf(E)!==-1||function(g){for(var R=un.length;R;)if(un[--R]._value===g._value)return un.splice(R,1)}(a),h.resolve(p)}catch(g){h.reject(g)}finally{--dn==0&&ms(),--h.psd.ref||h.psd.finalize()}}function yl(){pn(Wt,function(){Nn()&&Ln()})}function Nn(){var i=hs;return Zi=hs=!1,i}function Ln(){var i,a,h;do for(;0<fi.length;)for(i=fi,fi=[],h=i.length,a=0;a<h;++a){var p=i[a];p[0].apply(null,p[1])}while(0<fi.length);Zi=hs=!0}function ms(){var i=un;un=[],i.forEach(function(p){p._PSD.onunhandled.call(null,p._value,p)});for(var a=qi.slice(0),h=a.length;h;)a[--h]()}function Ji(i){return new ae(hi,!1,i)}function Le(i,a){var h=he;return function(){var p=Nn(),E=he;try{return Zt(h,!0),i.apply(this,arguments)}catch(g){a&&a(g)}finally{Zt(E,!1),p&&Ln()}}}f(ae.prototype,{then:ds,_then:function(i,a){fs(this,new sa(null,null,i,a,he))},catch:function(i){if(arguments.length===1)return this.then(null,i);var a=i,h=arguments[1];return typeof a=="function"?this.then(null,function(p){return(p instanceof a?h:Ji)(p)}):this.then(null,function(p){return(p&&p.name===a?h:Ji)(p)})},finally:function(i){return this.then(function(a){return ae.resolve(i()).then(function(){return a})},function(a){return ae.resolve(i()).then(function(){return Ji(a)})})},timeout:function(i,a){var h=this;return i<1/0?new ae(function(p,E){var g=setTimeout(function(){return E(new le.Timeout(a))},i);h.then(p,E).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&v(ae.prototype,Symbol.toStringTag,"Dexie.Promise"),Wt.env=aa(),f(ae,{all:function(){var i=je.apply(null,arguments).map(nr);return new ae(function(a,h){i.length===0&&a([]);var p=i.length;i.forEach(function(E,g){return ae.resolve(E).then(function(R){i[g]=R,--p||a(i)},h)})})},resolve:function(i){return i instanceof ae?i:i&&typeof i.then=="function"?new ae(function(a,h){i.then(a,h)}):new ae(hi,!0,i)},reject:Ji,race:function(){var i=je.apply(null,arguments).map(nr);return new ae(function(a,h){i.map(function(p){return ae.resolve(p).then(a,h)})})},PSD:{get:function(){return he},set:function(i){return he=i}},totalEchoes:{get:function(){return tr}},newPSD:Xt,usePSD:pn,scheduler:{get:function(){return pi},set:function(i){pi=i}},rejectionMapper:{get:function(){return us},set:function(i){us=i}},follow:function(i,a){return new ae(function(h,p){return Xt(function(E,g){var R=he;R.unhandleds=[],R.onunhandled=g,R.finalize=Ct(function(){var O,M=this;O=function(){M.unhandleds.length===0?E():g(M.unhandleds[0])},qi.push(function N(){O(),qi.splice(qi.indexOf(N),1)}),++dn,pi(function(){--dn==0&&ms()},[])},R.finalize),i()},a,h,p)})}}),di&&(di.allSettled&&v(ae,"allSettled",function(){var i=je.apply(null,arguments).map(nr);return new ae(function(a){i.length===0&&a([]);var h=i.length,p=new Array(h);i.forEach(function(E,g){return ae.resolve(E).then(function(R){return p[g]={status:"fulfilled",value:R}},function(R){return p[g]={status:"rejected",reason:R}}).then(function(){return--h||a(p)})})})}),di.any&&typeof AggregateError<"u"&&v(ae,"any",function(){var i=je.apply(null,arguments).map(nr);return new ae(function(a,h){i.length===0&&h(new AggregateError([]));var p=i.length,E=new Array(p);i.forEach(function(g,R){return ae.resolve(g).then(function(O){return a(O)},function(O){E[R]=O,--p||h(new AggregateError(E))})})})}));var He={awaits:0,echoes:0,id:0},vl=0,$i=[],er=0,tr=0,Rl=0;function Xt(i,a,h,p){var E=he,g=Object.create(E);return g.parent=E,g.ref=0,g.global=!1,g.id=++Rl,Wt.env,g.env=ls?{Promise:ae,PromiseProp:{value:ae,configurable:!0,writable:!0},all:ae.all,race:ae.race,allSettled:ae.allSettled,any:ae.any,resolve:ae.resolve,reject:ae.reject}:{},a&&u(g,a),++E.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},p=pn(g,i,h,p),g.ref===0&&g.finalize(),p}function Mn(){return He.id||(He.id=++vl),++He.awaits,He.echoes+=ra,He.id}function jt(){return!!He.awaits&&(--He.awaits==0&&(He.id=0),He.echoes=He.awaits*ra,!0)}function nr(i){return He.echoes&&i&&i.constructor===di?(Mn(),i.then(function(a){return jt(),a},function(a){return jt(),ze(a)})):i}function Fl(){var i=$i[$i.length-1];$i.pop(),Zt(i,!1)}function Zt(i,a){var h,p=he;(a?!He.echoes||er++&&i===he:!er||--er&&i===he)||queueMicrotask(a?(function(E){++tr,He.echoes&&--He.echoes!=0||(He.echoes=He.awaits=He.id=0),$i.push(he),Zt(E,!0)}).bind(null,i):Fl),i!==he&&(he=i,p===Wt&&(Wt.env=aa()),ls&&(h=Wt.env.Promise,a=i.env,(p.global||i.global)&&(Object.defineProperty(s,"Promise",a.PromiseProp),h.all=a.all,h.race=a.race,h.resolve=a.resolve,h.reject=a.reject,a.allSettled&&(h.allSettled=a.allSettled),a.any&&(h.any=a.any))))}function aa(){var i=s.Promise;return ls?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function pn(i,a,h,p,E){var g=he;try{return Zt(i,!0),a(h,p,E)}finally{Zt(g,!1)}}function ca(i,a,h,p){return typeof i!="function"?i:function(){var E=he;h&&Mn(),Zt(a,!0);try{return i.apply(this,arguments)}finally{Zt(E,!1),p&&queueMicrotask(jt)}}}function Es(i){Promise===di&&He.echoes===0?er===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+ut).indexOf("[native code]")===-1&&(Mn=jt=Oe);var ze=ae.reject,fn="￿",zt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",la="String expected.",Dn=[],ir="__dbnames",Is="readonly",gs="readwrite";function mn(i,a){return i?a?function(){return i.apply(this,arguments)&&a.apply(this,arguments)}:i:a}var ha={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function rr(i){return typeof i!="string"||/\./.test(i)?function(a){return a}:function(a){return a[i]===void 0&&i in a&&delete(a=ie(a))[i],a}}function ua(){throw le.Type()}function Ae(i,a){try{var h=da(i),p=da(a);if(h!==p)return h==="Array"?1:p==="Array"?-1:h==="binary"?1:p==="binary"?-1:h==="string"?1:p==="string"?-1:h==="Date"?1:p!=="Date"?NaN:-1;switch(h){case"number":case"Date":case"string":return a<i?1:i<a?-1:0;case"binary":return function(E,g){for(var R=E.length,O=g.length,M=R<O?R:O,N=0;N<M;++N)if(E[N]!==g[N])return E[N]<g[N]?-1:1;return R===O?0:R<O?-1:1}(pa(i),pa(a));case"Array":return function(E,g){for(var R=E.length,O=g.length,M=R<O?R:O,N=0;N<M;++N){var _=Ae(E[N],g[N]);if(_!==0)return _}return R===O?0:R<O?-1:1}(i,a)}}catch{}return NaN}function da(i){var a=typeof i;return a!="object"?a:ArrayBuffer.isView(i)?"binary":(i=Ee(i),i==="ArrayBuffer"?"binary":i)}function pa(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var fa=(xe.prototype._trans=function(i,a,h){var p=this._tx||he.trans,E=this.name,g=bt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function R(N,_,b){if(!b.schema[E])throw new le.NotFound("Table "+E+" not part of transaction");return a(b.idbtrans,b)}var O=Nn();try{var M=p&&p.db._novip===this.db._novip?p===he.trans?p._promise(i,R,h):Xt(function(){return p._promise(i,R,h)},{trans:p,transless:he.transless||he}):function N(_,b,B,L){if(_.idbdb&&(_._state.openComplete||he.letThrough||_._vip)){var U=_._createTransaction(b,B,_._dbSchema);try{U.create(),_._state.PR1398_maxLoop=3}catch(z){return z.name===Bt.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return N(_,b,B,L)})):ze(z)}return U._promise(b,function(z,D){return Xt(function(){return he.trans=U,L(z,D,U)})}).then(function(z){if(b==="readwrite")try{U.idbtrans.commit()}catch{}return b==="readonly"?z:U._completion.then(function(){return z})})}if(_._state.openComplete)return ze(new le.DatabaseClosed(_._state.dbOpenError));if(!_._state.isBeingOpened){if(!_._state.autoOpen)return ze(new le.DatabaseClosed);_.open().catch(Oe)}return _._state.dbReadyPromise.then(function(){return N(_,b,B,L)})}(this.db,i,[this.name],R);return g&&(M._consoleTask=g,M=M.catch(function(N){return console.trace(N),ze(N)})),M}finally{O&&Ln()}},xe.prototype.get=function(i,a){var h=this;return i&&i.constructor===Object?this.where(i).first(a):i==null?ze(new le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(p){return h.core.get({trans:p,key:i}).then(function(E){return h.hook.reading.fire(E)})}).then(a)},xe.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(c(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var a=o(i);if(a.length===1)return this.where(a[0]).equals(i[a[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function(M){if(M.compound&&a.every(function(_){return 0<=M.keyPath.indexOf(_)})){for(var N=0;N<a.length;++N)if(a.indexOf(M.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(M,N){return M.keyPath.length-N.keyPath.length})[0];if(h&&this.db._maxKey!==fn){var R=h.keyPath.slice(0,a.length);return this.where(R).equals(R.map(function(N){return i[N]}))}!h&&bt&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var p=this.schema.idxByName,E=this.db._deps.indexedDB;function g(M,N){return E.cmp(M,N)===0}var O=a.reduce(function(B,N){var _=B[0],b=B[1],B=p[N],L=i[N];return[_||B,_||!B?mn(b,B&&B.multi?function(U){return U=Y(U,N),c(U)&&U.some(function(z){return g(L,z)})}:function(U){return g(L,Y(U,N))}):b]},[null,null]),R=O[0],O=O[1];return R?this.where(R.name).equals(i[R.keyPath]).filter(O):h?this.filter(O):this.where(a).equals("")},xe.prototype.filter=function(i){return this.toCollection().and(i)},xe.prototype.count=function(i){return this.toCollection().count(i)},xe.prototype.offset=function(i){return this.toCollection().offset(i)},xe.prototype.limit=function(i){return this.toCollection().limit(i)},xe.prototype.each=function(i){return this.toCollection().each(i)},xe.prototype.toArray=function(i){return this.toCollection().toArray(i)},xe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xe.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,c(i)?"[".concat(i.join("+"),"]"):i))},xe.prototype.reverse=function(){return this.toCollection().reverse()},xe.prototype.mapToClass=function(i){var a,h=this.db,p=this.name;function E(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof ua&&(function(M,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function _(){this.constructor=M}t(M,N),M.prototype=N===null?Object.create(N):(_.prototype=N.prototype,new _)}(E,a=i),Object.defineProperty(E.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),E.prototype.table=function(){return p},i=E);for(var g=new Set,R=i.prototype;R;R=d(R))Object.getOwnPropertyNames(R).forEach(function(M){return g.add(M)});function O(M){if(!M)return M;var N,_=Object.create(i.prototype);for(N in M)if(!g.has(N))try{_[N]=M[N]}catch{}return _}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=O,this.hook("reading",O),i},xe.prototype.defineClass=function(){return this.mapToClass(function(i){u(this,i)})},xe.prototype.add=function(i,a){var h=this,p=this.schema.primKey,E=p.auto,g=p.keyPath,R=i;return g&&E&&(R=rr(g)(i)),this._trans("readwrite",function(O){return h.core.mutate({trans:O,type:"add",keys:a!=null?[a]:null,values:[R]})}).then(function(O){return O.numFailures?ae.reject(O.failures[0]):O.lastResult}).then(function(O){if(g)try{k(i,g,O)}catch{}return O})},xe.prototype.update=function(i,a){return typeof i!="object"||c(i)?this.where(":id").equals(i).modify(a):(i=Y(i,this.schema.primKey.keyPath),i===void 0?ze(new le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(a))},xe.prototype.put=function(i,a){var h=this,p=this.schema.primKey,E=p.auto,g=p.keyPath,R=i;return g&&E&&(R=rr(g)(i)),this._trans("readwrite",function(O){return h.core.mutate({trans:O,type:"put",values:[R],keys:a!=null?[a]:null})}).then(function(O){return O.numFailures?ae.reject(O.failures[0]):O.lastResult}).then(function(O){if(g)try{k(i,g,O)}catch{}return O})},xe.prototype.delete=function(i){var a=this;return this._trans("readwrite",function(h){return a.core.mutate({trans:h,type:"delete",keys:[i]})}).then(function(h){return h.numFailures?ae.reject(h.failures[0]):void 0})},xe.prototype.clear=function(){var i=this;return this._trans("readwrite",function(a){return i.core.mutate({trans:a,type:"deleteRange",range:ha})}).then(function(a){return a.numFailures?ae.reject(a.failures[0]):void 0})},xe.prototype.bulkGet=function(i){var a=this;return this._trans("readonly",function(h){return a.core.getMany({keys:i,trans:h}).then(function(p){return p.map(function(E){return a.hook.reading.fire(E)})})})},xe.prototype.bulkAdd=function(i,a,h){var p=this,E=Array.isArray(a)?a:void 0,g=(h=h||(E?void 0:a))?h.allKeys:void 0;return this._trans("readwrite",function(R){var N=p.schema.primKey,O=N.auto,N=N.keyPath;if(N&&E)throw new le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(E&&E.length!==i.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var M=i.length,N=N&&O?i.map(rr(N)):i;return p.core.mutate({trans:R,type:"add",keys:E,values:N,wantResults:g}).then(function(U){var b=U.numFailures,B=U.results,L=U.lastResult,U=U.failures;if(b===0)return g?B:L;throw new _t("".concat(p.name,".bulkAdd(): ").concat(b," of ").concat(M," operations failed"),U)})})},xe.prototype.bulkPut=function(i,a,h){var p=this,E=Array.isArray(a)?a:void 0,g=(h=h||(E?void 0:a))?h.allKeys:void 0;return this._trans("readwrite",function(R){var N=p.schema.primKey,O=N.auto,N=N.keyPath;if(N&&E)throw new le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(E&&E.length!==i.length)throw new le.InvalidArgument("Arguments objects and keys must have the same length");var M=i.length,N=N&&O?i.map(rr(N)):i;return p.core.mutate({trans:R,type:"put",keys:E,values:N,wantResults:g}).then(function(U){var b=U.numFailures,B=U.results,L=U.lastResult,U=U.failures;if(b===0)return g?B:L;throw new _t("".concat(p.name,".bulkPut(): ").concat(b," of ").concat(M," operations failed"),U)})})},xe.prototype.bulkUpdate=function(i){var a=this,h=this.core,p=i.map(function(R){return R.key}),E=i.map(function(R){return R.changes}),g=[];return this._trans("readwrite",function(R){return h.getMany({trans:R,keys:p,cache:"clone"}).then(function(O){var M=[],N=[];i.forEach(function(b,B){var L=b.key,U=b.changes,z=O[B];if(z){for(var D=0,V=Object.keys(U);D<V.length;D++){var G=V[D],W=U[G];if(G===a.schema.primKey.keyPath){if(Ae(W,L)!==0)throw new le.Constraint("Cannot update primary key in bulkUpdate()")}else k(z,G,W)}g.push(B),M.push(L),N.push(z)}});var _=M.length;return h.mutate({trans:R,type:"put",keys:M,values:N,updates:{keys:p,changeSpecs:E}}).then(function(b){var B=b.numFailures,L=b.failures;if(B===0)return _;for(var U=0,z=Object.keys(L);U<z.length;U++){var D,V=z[U],G=g[Number(V)];G!=null&&(D=L[V],delete L[V],L[G]=D)}throw new _t("".concat(a.name,".bulkUpdate(): ").concat(B," of ").concat(_," operations failed"),L)})})})},xe.prototype.bulkDelete=function(i){var a=this,h=i.length;return this._trans("readwrite",function(p){return a.core.mutate({trans:p,type:"delete",keys:i})}).then(function(R){var E=R.numFailures,g=R.lastResult,R=R.failures;if(E===0)return g;throw new _t("".concat(a.name,".bulkDelete(): ").concat(E," of ").concat(h," operations failed"),R)})},xe);function xe(){}function mi(i){function a(R,O){if(O){for(var M=arguments.length,N=new Array(M-1);--M;)N[M-1]=arguments[M];return h[R].subscribe.apply(null,N),i}if(typeof R=="string")return h[R]}var h={};a.addEventType=g;for(var p=1,E=arguments.length;p<E;++p)g(arguments[p]);return a;function g(R,O,M){if(typeof R!="object"){var N;O=O||Cl;var _={subscribers:[],fire:M=M||Oe,subscribe:function(b){_.subscribers.indexOf(b)===-1&&(_.subscribers.push(b),_.fire=O(_.fire,b))},unsubscribe:function(b){_.subscribers=_.subscribers.filter(function(B){return B!==b}),_.fire=_.subscribers.reduce(O,M)}};return h[R]=a[R]=_}o(N=R).forEach(function(b){var B=N[b];if(c(B))g(b,N[b][0],N[b][1]);else{if(B!=="asap")throw new le.InvalidArgument("Invalid event config");var L=g(b,St,function(){for(var U=arguments.length,z=new Array(U);U--;)z[U]=arguments[U];L.subscribers.forEach(function(D){P(function(){D.apply(null,z)})})})}})}}function Ei(i,a){return F(a).from({prototype:i}),a}function Un(i,a){return!(i.filter||i.algorithm||i.or)&&(a?i.justLimit:!i.replayFilter)}function Cs(i,a){i.filter=mn(i.filter,a)}function Ts(i,a,h){var p=i.replayFilter;i.replayFilter=p?function(){return mn(p(),a())}:a,i.justLimit=h&&!p}function sr(i,a){if(i.isPrimKey)return a.primaryKey;var h=a.getIndexByKeyPath(i.index);if(!h)throw new le.Schema("KeyPath "+i.index+" on object store "+a.name+" is not indexed");return h}function ma(i,a,h){var p=sr(i,a.schema);return a.openCursor({trans:h,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:p,range:i.range}})}function or(i,a,h,p){var E=i.replayFilter?mn(i.filter,i.replayFilter()):i.filter;if(i.or){var g={},R=function(O,M,N){var _,b;E&&!E(M,N,function(B){return M.stop(B)},function(B){return M.fail(B)})||((b=""+(_=M.primaryKey))=="[object ArrayBuffer]"&&(b=""+new Uint8Array(_)),I(g,b)||(g[b]=!0,a(O,M,N)))};return Promise.all([i.or._iterate(R,h),Ea(ma(i,p,h),i.algorithm,R,!i.keysOnly&&i.valueMapper)])}return Ea(ma(i,p,h),mn(i.algorithm,E),a,!i.keysOnly&&i.valueMapper)}function Ea(i,a,h,p){var E=Le(p?function(g,R,O){return h(p(g),R,O)}:h);return i.then(function(g){if(g)return g.start(function(){var R=function(){return g.continue()};a&&!a(g,function(O){return R=O},function(O){g.stop(O),R=Oe},function(O){g.fail(O),R=Oe})||E(g.value,g,function(O){return R=O}),R()})})}var Yt=Symbol(),ys=(Ia.prototype.execute=function(i){var a=(a=this.replacePrefix)===null||a===void 0?void 0:a[0];return a&&typeof i=="string"&&i.startsWith(a)?this.replacePrefix[1]+i.substring(a.length):i},Ia);function Ia(i){Object.assign(this,i)}var wl=(Fe.prototype._read=function(i,a){var h=this._ctx;return h.error?h.table._trans(null,ze.bind(null,h.error)):h.table._trans("readonly",i).then(a)},Fe.prototype._write=function(i){var a=this._ctx;return a.error?a.table._trans(null,ze.bind(null,a.error)):a.table._trans("readwrite",i,"locked")},Fe.prototype._addAlgorithm=function(i){var a=this._ctx;a.algorithm=mn(a.algorithm,i)},Fe.prototype._iterate=function(i,a){return or(this._ctx,i,a,this._ctx.table.core)},Fe.prototype.clone=function(i){var a=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return i&&u(h,i),a._ctx=h,a},Fe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fe.prototype.each=function(i){var a=this._ctx;return this._read(function(h){return or(a,i,h,a.table.core)})},Fe.prototype.count=function(i){var a=this;return this._read(function(h){var p=a._ctx,E=p.table.core;if(Un(p,!0))return E.count({trans:h,query:{index:sr(p,E.schema),range:p.range}}).then(function(R){return Math.min(R,p.limit)});var g=0;return or(p,function(){return++g,!1},h,E).then(function(){return g})}).then(i)},Fe.prototype.sortBy=function(i,a){var h=i.split(".").reverse(),p=h[0],E=h.length-1;function g(M,N){return N?g(M[h[N]],N-1):M[p]}var R=this._ctx.dir==="next"?1:-1;function O(M,N){return M=g(M,E),N=g(N,E),M<N?-R:N<M?R:0}return this.toArray(function(M){return M.sort(O)}).then(a)},Fe.prototype.toArray=function(i){var a=this;return this._read(function(h){var p=a._ctx;if(p.dir==="next"&&Un(p,!0)&&0<p.limit){var E=p.valueMapper,g=sr(p,p.table.core.schema);return p.table.core.query({trans:h,limit:p.limit,values:!0,query:{index:g,range:p.range}}).then(function(O){return O=O.result,E?O.map(E):O})}var R=[];return or(p,function(O){return R.push(O)},h,p.table.core).then(function(){return R})},i)},Fe.prototype.offset=function(i){var a=this._ctx;return i<=0||(a.offset+=i,Un(a)?Ts(a,function(){var h=i;return function(p,E){return h===0||(h===1?--h:E(function(){p.advance(h),h=0}),!1)}}):Ts(a,function(){var h=i;return function(){return--h<0}})),this},Fe.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),Ts(this._ctx,function(){var a=i;return function(h,p,E){return--a<=0&&p(E),0<=a}},!0),this},Fe.prototype.until=function(i,a){return Cs(this._ctx,function(h,p,E){return!i(h.value)||(p(E),a)}),this},Fe.prototype.first=function(i){return this.limit(1).toArray(function(a){return a[0]}).then(i)},Fe.prototype.last=function(i){return this.reverse().first(i)},Fe.prototype.filter=function(i){var a;return Cs(this._ctx,function(h){return i(h.value)}),(a=this._ctx).isMatch=mn(a.isMatch,i),this},Fe.prototype.and=function(i){return this.filter(i)},Fe.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Fe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fe.prototype.desc=function(){return this.reverse()},Fe.prototype.eachKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(h,p){i(p.key,p)})},Fe.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Fe.prototype.eachPrimaryKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(h,p){i(p.primaryKey,p)})},Fe.prototype.keys=function(i){var a=this._ctx;a.keysOnly=!a.isMatch;var h=[];return this.each(function(p,E){h.push(E.key)}).then(function(){return h}).then(i)},Fe.prototype.primaryKeys=function(i){var a=this._ctx;if(a.dir==="next"&&Un(a,!0)&&0<a.limit)return this._read(function(p){var E=sr(a,a.table.core.schema);return a.table.core.query({trans:p,values:!1,limit:a.limit,query:{index:E,range:a.range}})}).then(function(p){return p.result}).then(i);a.keysOnly=!a.isMatch;var h=[];return this.each(function(p,E){h.push(E.primaryKey)}).then(function(){return h}).then(i)},Fe.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Fe.prototype.firstKey=function(i){return this.limit(1).keys(function(a){return a[0]}).then(i)},Fe.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Fe.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var a={};return Cs(this._ctx,function(E){var p=E.primaryKey.toString(),E=I(a,p);return a[p]=!0,!E}),this},Fe.prototype.modify=function(i){var a=this,h=this._ctx;return this._write(function(p){var E,g,R;R=typeof i=="function"?i:(E=o(i),g=E.length,function(D){for(var V=!1,G=0;G<g;++G){var W=E[G],j=i[W],Q=Y(D,W);j instanceof ys?(k(D,W,j.execute(Q)),V=!0):Q!==j&&(k(D,W,j),V=!0)}return V});function O(D,W){var G=W.failures,W=W.numFailures;U+=D-W;for(var j=0,Q=o(G);j<Q.length;j++){var re=Q[j];L.push(G[re])}}var M=h.table.core,N=M.schema.primaryKey,_=N.outbound,b=N.extractKey,B=a.db._options.modifyChunkSize||200,L=[],U=0,z=[];return a.clone().primaryKeys().then(function(D){function V(G){var W=Math.min(B,D.length-G);return M.getMany({trans:p,keys:D.slice(G,G+W),cache:"immutable"}).then(function(j){for(var Q=[],re=[],ee=_?[]:null,te=[],se=0;se<W;++se){var oe=j[se],pe={value:ie(oe),primKey:D[G+se]};R.call(pe,pe.value,pe)!==!1&&(pe.value==null?te.push(D[G+se]):_||Ae(b(oe),b(pe.value))===0?(re.push(pe.value),_&&ee.push(D[G+se])):(te.push(D[G+se]),Q.push(pe.value)))}var ge=Un(h)&&h.limit===1/0&&(typeof i!="function"||i===vs)&&{index:h.index,range:h.range};return Promise.resolve(0<Q.length&&M.mutate({trans:p,type:"add",values:Q}).then(function(ye){for(var Ce in ye.failures)te.splice(parseInt(Ce),1);O(Q.length,ye)})).then(function(){return(0<re.length||ge&&typeof i=="object")&&M.mutate({trans:p,type:"put",keys:ee,values:re,criteria:ge,changeSpec:typeof i!="function"&&i}).then(function(ye){return O(re.length,ye)})}).then(function(){return(0<te.length||ge&&i===vs)&&M.mutate({trans:p,type:"delete",keys:te,criteria:ge}).then(function(ye){return O(te.length,ye)})}).then(function(){return D.length>G+W&&V(G+B)})})}return V(0).then(function(){if(0<L.length)throw new hn("Error modifying one or more objects",L,U,z);return D.length})})})},Fe.prototype.delete=function(){var i=this._ctx,a=i.range;return Un(i)&&(i.isPrimKey||a.type===3)?this._write(function(h){var p=i.table.core.schema.primaryKey,E=a;return i.table.core.count({trans:h,query:{index:p,range:E}}).then(function(g){return i.table.core.mutate({trans:h,type:"deleteRange",range:E}).then(function(R){var O=R.failures;if(R.lastResult,R.results,R=R.numFailures,R)throw new hn("Could not delete some values",Object.keys(O).map(function(M){return O[M]}),g-R);return g-R})})}):this.modify(vs)},Fe);function Fe(){}var vs=function(i,a){return a.value=null};function Al(i,a){return i<a?-1:i===a?0:1}function Ol(i,a){return a<i?-1:i===a?0:1}function at(i,a,h){return i=i instanceof Ca?new i.Collection(i):i,i._ctx.error=new(h||TypeError)(a),i}function _n(i){return new i.Collection(i,function(){return ga("")}).limit(0)}function ar(i,a,h,p){var E,g,R,O,M,N,_,b=h.length;if(!h.every(function(U){return typeof U=="string"}))return at(i,la);function B(U){E=U==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},g=U==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},R=U==="next"?Al:Ol;var z=h.map(function(D){return{lower:g(D),upper:E(D)}}).sort(function(D,V){return R(D.lower,V.lower)});O=z.map(function(D){return D.upper}),M=z.map(function(D){return D.lower}),_=(N=U)==="next"?"":p}B("next"),i=new i.Collection(i,function(){return Qt(O[0],M[b-1]+p)}),i._ondirectionchange=function(U){B(U)};var L=0;return i._addAlgorithm(function(U,z,D){var V=U.key;if(typeof V!="string")return!1;var G=g(V);if(a(G,M,L))return!0;for(var W=null,j=L;j<b;++j){var Q=function(re,ee,te,se,oe,pe){for(var ge=Math.min(re.length,se.length),ye=-1,Ce=0;Ce<ge;++Ce){var Tt=ee[Ce];if(Tt!==se[Ce])return oe(re[Ce],te[Ce])<0?re.substr(0,Ce)+te[Ce]+te.substr(Ce+1):oe(re[Ce],se[Ce])<0?re.substr(0,Ce)+se[Ce]+te.substr(Ce+1):0<=ye?re.substr(0,ye)+ee[ye]+te.substr(ye+1):null;oe(re[Ce],Tt)<0&&(ye=Ce)}return ge<se.length&&pe==="next"?re+te.substr(re.length):ge<re.length&&pe==="prev"?re.substr(0,te.length):ye<0?null:re.substr(0,ye)+se[ye]+te.substr(ye+1)}(V,G,O[j],M[j],R,N);Q===null&&W===null?L=j+1:(W===null||0<R(W,Q))&&(W=Q)}return z(W!==null?function(){U.continue(W+_)}:D),!1}),i}function Qt(i,a,h,p){return{type:2,lower:i,upper:a,lowerOpen:h,upperOpen:p}}function ga(i){return{type:1,lower:i,upper:i}}var Ca=(Object.defineProperty(Ke.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ke.prototype.between=function(i,a,h,p){h=h!==!1,p=p===!0;try{return 0<this._cmp(i,a)||this._cmp(i,a)===0&&(h||p)&&(!h||!p)?_n(this):new this.Collection(this,function(){return Qt(i,a,!h,!p)})}catch{return at(this,zt)}},Ke.prototype.equals=function(i){return i==null?at(this,zt):new this.Collection(this,function(){return ga(i)})},Ke.prototype.above=function(i){return i==null?at(this,zt):new this.Collection(this,function(){return Qt(i,void 0,!0)})},Ke.prototype.aboveOrEqual=function(i){return i==null?at(this,zt):new this.Collection(this,function(){return Qt(i,void 0,!1)})},Ke.prototype.below=function(i){return i==null?at(this,zt):new this.Collection(this,function(){return Qt(void 0,i,!1,!0)})},Ke.prototype.belowOrEqual=function(i){return i==null?at(this,zt):new this.Collection(this,function(){return Qt(void 0,i)})},Ke.prototype.startsWith=function(i){return typeof i!="string"?at(this,la):this.between(i,i+fn,!0,!0)},Ke.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):ar(this,function(a,h){return a.indexOf(h[0])===0},[i],fn)},Ke.prototype.equalsIgnoreCase=function(i){return ar(this,function(a,h){return a===h[0]},[i],"")},Ke.prototype.anyOfIgnoreCase=function(){var i=je.apply(nt,arguments);return i.length===0?_n(this):ar(this,function(a,h){return h.indexOf(a)!==-1},i,"")},Ke.prototype.startsWithAnyOfIgnoreCase=function(){var i=je.apply(nt,arguments);return i.length===0?_n(this):ar(this,function(a,h){return h.some(function(p){return a.indexOf(p)===0})},i,fn)},Ke.prototype.anyOf=function(){var i=this,a=je.apply(nt,arguments),h=this._cmp;try{a.sort(h)}catch{return at(this,zt)}if(a.length===0)return _n(this);var p=new this.Collection(this,function(){return Qt(a[0],a[a.length-1])});p._ondirectionchange=function(g){h=g==="next"?i._ascending:i._descending,a.sort(h)};var E=0;return p._addAlgorithm(function(g,R,O){for(var M=g.key;0<h(M,a[E]);)if(++E===a.length)return R(O),!1;return h(M,a[E])===0||(R(function(){g.continue(a[E])}),!1)}),p},Ke.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ke.prototype.noneOf=function(){var i=je.apply(nt,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return at(this,zt)}var a=i.reduce(function(h,p){return h?h.concat([[h[h.length-1][1],p]]):[[-1/0,p]]},null);return a.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},Ke.prototype.inAnyRange=function(V,a){var h=this,p=this._cmp,E=this._ascending,g=this._descending,R=this._min,O=this._max;if(V.length===0)return _n(this);if(!V.every(function(G){return G[0]!==void 0&&G[1]!==void 0&&E(G[0],G[1])<=0}))return at(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",le.InvalidArgument);var M=!a||a.includeLowers!==!1,N=a&&a.includeUppers===!0,_,b=E;function B(G,W){return b(G[0],W[0])}try{(_=V.reduce(function(G,W){for(var j=0,Q=G.length;j<Q;++j){var re=G[j];if(p(W[0],re[1])<0&&0<p(W[1],re[0])){re[0]=R(re[0],W[0]),re[1]=O(re[1],W[1]);break}}return j===Q&&G.push(W),G},[])).sort(B)}catch{return at(this,zt)}var L=0,U=N?function(G){return 0<E(G,_[L][1])}:function(G){return 0<=E(G,_[L][1])},z=M?function(G){return 0<g(G,_[L][0])}:function(G){return 0<=g(G,_[L][0])},D=U,V=new this.Collection(this,function(){return Qt(_[0][0],_[_.length-1][1],!M,!N)});return V._ondirectionchange=function(G){b=G==="next"?(D=U,E):(D=z,g),_.sort(B)},V._addAlgorithm(function(G,W,j){for(var Q,re=G.key;D(re);)if(++L===_.length)return W(j),!1;return!U(Q=re)&&!z(Q)||(h._cmp(re,_[L][1])===0||h._cmp(re,_[L][0])===0||W(function(){b===E?G.continue(_[L][0]):G.continue(_[L][1])}),!1)}),V},Ke.prototype.startsWithAnyOf=function(){var i=je.apply(nt,arguments);return i.every(function(a){return typeof a=="string"})?i.length===0?_n(this):this.inAnyRange(i.map(function(a){return[a,a+fn]})):at(this,"startsWithAnyOf() only works with strings")},Ke);function Ke(){}function Pt(i){return Le(function(a){return Ii(a),i(a.target.error),!1})}function Ii(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var gi="storagemutated",Rs="x-storagemutated-1",qt=mi(null,gi),Sl=(xt.prototype._lock=function(){return y(!he.global),++this._reculock,this._reculock!==1||he.global||(he.lockOwnerFor=this),this},xt.prototype._unlock=function(){if(y(!he.global),--this._reculock==0)for(he.global||(he.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{pn(i[1],i[0])}catch{}}return this},xt.prototype._locked=function(){return this._reculock&&he.lockOwnerFor!==this},xt.prototype.create=function(i){var a=this;if(!this.mode)return this;var h=this.db.idbdb,p=this.db._state.dbOpenError;if(y(!this.idbtrans),!i&&!h)switch(p&&p.name){case"DatabaseClosedError":throw new le.DatabaseClosed(p);case"MissingAPIError":throw new le.MissingAPI(p.message,p);default:throw new le.OpenFailed(p)}if(!this.active)throw new le.TransactionInactive;return y(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||h).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Le(function(E){Ii(E),a._reject(i.error)}),i.onabort=Le(function(E){Ii(E),a.active&&a._reject(new le.Abort(i.error)),a.active=!1,a.on("abort").fire(E)}),i.oncomplete=Le(function(){a.active=!1,a._resolve(),"mutatedParts"in i&&qt.storagemutated.fire(i.mutatedParts)}),this},xt.prototype._promise=function(i,a,h){var p=this;if(i==="readwrite"&&this.mode!=="readwrite")return ze(new le.ReadOnly("Transaction is readonly"));if(!this.active)return ze(new le.TransactionInactive);if(this._locked())return new ae(function(g,R){p._blockedFuncs.push([function(){p._promise(i,a,h).then(g,R)},he])});if(h)return Xt(function(){var g=new ae(function(R,O){p._lock();var M=a(R,O,p);M&&M.then&&M.then(R,O)});return g.finally(function(){return p._unlock()}),g._lib=!0,g});var E=new ae(function(g,R){var O=a(g,R,p);O&&O.then&&O.then(g,R)});return E._lib=!0,E},xt.prototype._root=function(){return this.parent?this.parent._root():this},xt.prototype.waitFor=function(i){var a,h=this._root(),p=ae.resolve(i);h._waitingFor?h._waitingFor=h._waitingFor.then(function(){return p}):(h._waitingFor=p,h._waitingQueue=[],a=h.idbtrans.objectStore(h.storeNames[0]),function g(){for(++h._spinCount;h._waitingQueue.length;)h._waitingQueue.shift()();h._waitingFor&&(a.get(-1/0).onsuccess=g)}());var E=h._waitingFor;return new ae(function(g,R){p.then(function(O){return h._waitingQueue.push(Le(g.bind(null,O)))},function(O){return h._waitingQueue.push(Le(R.bind(null,O)))}).finally(function(){h._waitingFor===E&&(h._waitingFor=null)})})},xt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new le.Abort))},xt.prototype.table=function(i){var a=this._memoizedTables||(this._memoizedTables={});if(I(a,i))return a[i];var h=this.schema[i];if(!h)throw new le.NotFound("Table "+i+" not part of transaction");return h=new this.db.Table(i,h,this),h.core=this.db.core.table(i),a[i]=h},xt);function xt(){}function Fs(i,a,h,p,E,g,R){return{name:i,keyPath:a,unique:h,multi:p,auto:E,compound:g,src:(h&&!R?"&":"")+(p?"*":"")+(E?"++":"")+Ta(a)}}function Ta(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function ws(i,a,h){return{name:i,primKey:a,indexes:h,mappedClass:null,idxByName:(p=function(E){return[E.name,E]},h.reduce(function(E,g,R){return R=p(g,R),R&&(E[R[0]]=R[1]),E},{}))};var p}var Ci=function(i){try{return i.only([[]]),Ci=function(){return[[]]},[[]]}catch{return Ci=function(){return fn},fn}};function As(i){return i==null?function(){}:typeof i=="string"?(a=i).split(".").length===1?function(h){return h[a]}:function(h){return Y(h,a)}:function(h){return Y(h,i)};var a}function ya(i){return[].slice.call(i)}var bl=0;function Ti(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Pl(i,a,M){function p(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var L=D.lower,U=D.upper,z=D.lowerOpen,D=D.upperOpen;return L===void 0?U===void 0?null:a.upperBound(U,!!D):U===void 0?a.lowerBound(L,!!z):a.bound(L,U,!!z,!!D)}function E(B){var L,U=B.name;return{name:U,schema:B,mutate:function(z){var D=z.trans,V=z.type,G=z.keys,W=z.values,j=z.range;return new Promise(function(Q,re){Q=Le(Q);var ee=D.objectStore(U),te=ee.keyPath==null,se=V==="put"||V==="add";if(!se&&V!=="delete"&&V!=="deleteRange")throw new Error("Invalid operation type: "+V);var oe,pe=(G||W||{length:1}).length;if(G&&W&&G.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(pe===0)return Q({numFailures:0,failures:{},results:[],lastResult:void 0});function ge(it){++Tt,Ii(it)}var ye=[],Ce=[],Tt=0;if(V==="deleteRange"){if(j.type===4)return Q({numFailures:Tt,failures:Ce,results:[],lastResult:void 0});j.type===3?ye.push(oe=ee.clear()):ye.push(oe=ee.delete(p(j)))}else{var te=se?te?[W,G]:[W,null]:[G,null],Te=te[0],qe=te[1];if(se)for(var Je=0;Je<pe;++Je)ye.push(oe=qe&&qe[Je]!==void 0?ee[V](Te[Je],qe[Je]):ee[V](Te[Je])),oe.onerror=ge;else for(Je=0;Je<pe;++Je)ye.push(oe=ee[V](Te[Je])),oe.onerror=ge}function Tr(it){it=it.target.result,ye.forEach(function(gn,Ks){return gn.error!=null&&(Ce[Ks]=gn.error)}),Q({numFailures:Tt,failures:Ce,results:V==="delete"?G:ye.map(function(gn){return gn.result}),lastResult:it})}oe.onerror=function(it){ge(it),Tr(it)},oe.onsuccess=Tr})},getMany:function(z){var D=z.trans,V=z.keys;return new Promise(function(G,W){G=Le(G);for(var j,Q=D.objectStore(U),re=V.length,ee=new Array(re),te=0,se=0,oe=function(ye){ye=ye.target,ee[ye._pos]=ye.result,++se===te&&G(ee)},pe=Pt(W),ge=0;ge<re;++ge)V[ge]!=null&&((j=Q.get(V[ge]))._pos=ge,j.onsuccess=oe,j.onerror=pe,++te);te===0&&G(ee)})},get:function(z){var D=z.trans,V=z.key;return new Promise(function(G,W){G=Le(G);var j=D.objectStore(U).get(V);j.onsuccess=function(Q){return G(Q.target.result)},j.onerror=Pt(W)})},query:(L=N,function(z){return new Promise(function(D,V){D=Le(D);var G,W,j,te=z.trans,Q=z.values,re=z.limit,oe=z.query,ee=re===1/0?void 0:re,se=oe.index,oe=oe.range,te=te.objectStore(U),se=se.isPrimaryKey?te:te.index(se.name),oe=p(oe);if(re===0)return D({result:[]});L?((ee=Q?se.getAll(oe,ee):se.getAllKeys(oe,ee)).onsuccess=function(pe){return D({result:pe.target.result})},ee.onerror=Pt(V)):(G=0,W=!Q&&"openKeyCursor"in se?se.openKeyCursor(oe):se.openCursor(oe),j=[],W.onsuccess=function(pe){var ge=W.result;return ge?(j.push(Q?ge.value:ge.primaryKey),++G===re?D({result:j}):void ge.continue()):D({result:j})},W.onerror=Pt(V))})}),openCursor:function(z){var D=z.trans,V=z.values,G=z.query,W=z.reverse,j=z.unique;return new Promise(function(Q,re){Q=Le(Q);var se=G.index,ee=G.range,te=D.objectStore(U),te=se.isPrimaryKey?te:te.index(se.name),se=W?j?"prevunique":"prev":j?"nextunique":"next",oe=!V&&"openKeyCursor"in te?te.openKeyCursor(p(ee),se):te.openCursor(p(ee),se);oe.onerror=Pt(re),oe.onsuccess=Le(function(pe){var ge,ye,Ce,Tt,Te=oe.result;Te?(Te.___id=++bl,Te.done=!1,ge=Te.continue.bind(Te),ye=(ye=Te.continuePrimaryKey)&&ye.bind(Te),Ce=Te.advance.bind(Te),Tt=function(){throw new Error("Cursor not stopped")},Te.trans=D,Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=function(){throw new Error("Cursor not started")},Te.fail=Le(re),Te.next=function(){var qe=this,Je=1;return this.start(function(){return Je--?qe.continue():qe.stop()}).then(function(){return qe})},Te.start=function(qe){function Je(){if(oe.result)try{qe()}catch(it){Te.fail(it)}else Te.done=!0,Te.start=function(){throw new Error("Cursor behind last entry")},Te.stop()}var Tr=new Promise(function(it,gn){it=Le(it),oe.onerror=Pt(gn),Te.fail=gn,Te.stop=function(Ks){Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=Tt,it(Ks)}});return oe.onsuccess=Le(function(it){oe.onsuccess=Je,Je()}),Te.continue=ge,Te.continuePrimaryKey=ye,Te.advance=Ce,Je(),Tr},Q(Te)):Q(null)},re)})},count:function(z){var D=z.query,V=z.trans,G=D.index,W=D.range;return new Promise(function(j,Q){var re=V.objectStore(U),ee=G.isPrimaryKey?re:re.index(G.name),re=p(W),ee=re?ee.count(re):ee.count();ee.onsuccess=Le(function(te){return j(te.target.result)}),ee.onerror=Pt(Q)})}}}var g,R,O,_=(R=M,O=ya((g=i).objectStoreNames),{schema:{name:g.name,tables:O.map(function(B){return R.objectStore(B)}).map(function(B){var L=B.keyPath,D=B.autoIncrement,U=c(L),z={},D={name:B.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:L==null,compound:U,keyPath:L,autoIncrement:D,unique:!0,extractKey:As(L)},indexes:ya(B.indexNames).map(function(V){return B.index(V)}).map(function(j){var G=j.name,W=j.unique,Q=j.multiEntry,j=j.keyPath,Q={name:G,compound:c(j),keyPath:j,unique:W,multiEntry:Q,extractKey:As(j)};return z[Ti(j)]=Q}),getIndexByKeyPath:function(V){return z[Ti(V)]}};return z[":id"]=D.primaryKey,L!=null&&(z[Ti(L)]=D.primaryKey),D})},hasGetAll:0<O.length&&"getAll"in R.objectStore(O[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),M=_.schema,N=_.hasGetAll,_=M.tables.map(E),b={};return _.forEach(function(B){return b[B.name]=B}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(B){if(!b[B])throw new Error("Table '".concat(B,"' not found"));return b[B]},MIN_KEY:-1/0,MAX_KEY:Ci(a),schema:M}}function xl(i,a,h,p){var E=h.IDBKeyRange;return h.indexedDB,{dbcore:(p=Pl(a,E,p),i.dbcore.reduce(function(g,R){return R=R.create,n(n({},g),R(g))},p))}}function cr(i,p){var h=p.db,p=xl(i._middlewares,h,i._deps,p);i.core=p.dbcore,i.tables.forEach(function(E){var g=E.name;i.core.schema.tables.some(function(R){return R.name===g})&&(E.core=i.core.table(g),i[g]instanceof i.Table&&(i[g].core=E.core))})}function lr(i,a,h,p){h.forEach(function(E){var g=p[E];a.forEach(function(R){var O=function M(N,_){return w(N,_)||(N=d(N))&&M(N,_)}(R,E);(!O||"value"in O&&O.value===void 0)&&(R===i.Transaction.prototype||R instanceof i.Transaction?v(R,E,{get:function(){return this.table(E)},set:function(M){C(this,E,{value:M,writable:!0,configurable:!0,enumerable:!0})}}):R[E]=new i.Table(E,g))})})}function Os(i,a){a.forEach(function(h){for(var p in h)h[p]instanceof i.Table&&delete h[p]})}function Nl(i,a){return i._cfg.version-a._cfg.version}function Ll(i,a,h,p){var E=i._dbSchema;h.objectStoreNames.contains("$meta")&&!E.$meta&&(E.$meta=ws("$meta",Ra("")[0],[]),i._storeNames.push("$meta"));var g=i._createTransaction("readwrite",i._storeNames,E);g.create(h),g._completion.catch(p);var R=g._reject.bind(g),O=he.transless||he;Xt(function(){return he.trans=g,he.transless=O,a!==0?(cr(i,h),N=a,((M=g).storeNames.includes("$meta")?M.table("$meta").get("version").then(function(_){return _??N}):ae.resolve(N)).then(function(_){return B=_,L=g,U=h,z=[],_=(b=i)._versions,D=b._dbSchema=ur(0,b.idbdb,U),(_=_.filter(function(V){return V._cfg.version>=B})).length!==0?(_.forEach(function(V){z.push(function(){var G=D,W=V._cfg.dbschema;dr(b,G,U),dr(b,W,U),D=b._dbSchema=W;var j=Ss(G,W);j.add.forEach(function(se){bs(U,se[0],se[1].primKey,se[1].indexes)}),j.change.forEach(function(se){if(se.recreate)throw new le.Upgrade("Not yet support for changing primary key");var oe=U.objectStore(se.name);se.add.forEach(function(pe){return hr(oe,pe)}),se.change.forEach(function(pe){oe.deleteIndex(pe.name),hr(oe,pe)}),se.del.forEach(function(pe){return oe.deleteIndex(pe)})});var Q=V._cfg.contentUpgrade;if(Q&&V._cfg.version>B){cr(b,U),L._memoizedTables={};var re=K(W);j.del.forEach(function(se){re[se]=G[se]}),Os(b,[b.Transaction.prototype]),lr(b,[b.Transaction.prototype],o(re),re),L.schema=re;var ee,te=It(Q);return te&&Mn(),j=ae.follow(function(){var se;(ee=Q(L))&&te&&(se=jt.bind(null,null),ee.then(se,se))}),ee&&typeof ee.then=="function"?ae.resolve(ee):j.then(function(){return ee})}}),z.push(function(G){var W,j,Q=V._cfg.dbschema;W=Q,j=G,[].slice.call(j.db.objectStoreNames).forEach(function(re){return W[re]==null&&j.db.deleteObjectStore(re)}),Os(b,[b.Transaction.prototype]),lr(b,[b.Transaction.prototype],b._storeNames,b._dbSchema),L.schema=b._dbSchema}),z.push(function(G){b.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(b.idbdb.version/10)===V._cfg.version?(b.idbdb.deleteObjectStore("$meta"),delete b._dbSchema.$meta,b._storeNames=b._storeNames.filter(function(W){return W!=="$meta"})):G.objectStore("$meta").put(V._cfg.version,"version"))})}),function V(){return z.length?ae.resolve(z.shift()(L.idbtrans)).then(V):ae.resolve()}().then(function(){va(D,U)})):ae.resolve();var b,B,L,U,z,D}).catch(R)):(o(E).forEach(function(_){bs(h,_,E[_].primKey,E[_].indexes)}),cr(i,h),void ae.follow(function(){return i.on.populate.fire(g)}).catch(R));var M,N})}function Ml(i,a){va(i._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var h=ur(0,i.idbdb,a);dr(i,i._dbSchema,a);for(var p=0,E=Ss(h,i._dbSchema).change;p<E.length;p++){var g=function(R){if(R.change.length||R.recreate)return console.warn("Unable to patch indexes of table ".concat(R.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=a.objectStore(R.name);R.add.forEach(function(M){bt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(R.name,".").concat(M.src)),hr(O,M)})}(E[p]);if(typeof g=="object")return g.value}}function Ss(i,a){var h,p={del:[],add:[],change:[]};for(h in i)a[h]||p.del.push(h);for(h in a){var E=i[h],g=a[h];if(E){var R={name:h,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(E.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||E.primKey.auto!==g.primKey.auto)R.recreate=!0,p.change.push(R);else{var O=E.idxByName,M=g.idxByName,N=void 0;for(N in O)M[N]||R.del.push(N);for(N in M){var _=O[N],b=M[N];_?_.src!==b.src&&R.change.push(b):R.add.push(b)}(0<R.del.length||0<R.add.length||0<R.change.length)&&p.change.push(R)}}else p.add.push([h,g])}return p}function bs(i,a,h,p){var E=i.db.createObjectStore(a,h.keyPath?{keyPath:h.keyPath,autoIncrement:h.auto}:{autoIncrement:h.auto});return p.forEach(function(g){return hr(E,g)}),E}function va(i,a){o(i).forEach(function(h){a.db.objectStoreNames.contains(h)||(bt&&console.debug("Dexie: Creating missing table",h),bs(a,h,i[h].primKey,i[h].indexes))})}function hr(i,a){i.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function ur(i,a,h){var p={};return S(a.objectStoreNames,0).forEach(function(E){for(var g=h.objectStore(E),R=Fs(Ta(N=g.keyPath),N||"",!0,!1,!!g.autoIncrement,N&&typeof N!="string",!0),O=[],M=0;M<g.indexNames.length;++M){var _=g.index(g.indexNames[M]),N=_.keyPath,_=Fs(_.name,N,!!_.unique,!!_.multiEntry,!1,N&&typeof N!="string",!1);O.push(_)}p[E]=ws(E,R,O)}),p}function dr(i,a,h){for(var p=h.db.objectStoreNames,E=0;E<p.length;++E){var g=p[E],R=h.objectStore(g);i._hasGetAll="getAll"in R;for(var O=0;O<R.indexNames.length;++O){var M=R.indexNames[O],N=R.index(M).keyPath,_=typeof N=="string"?N:"["+S(N).join("+")+"]";!a[g]||(N=a[g].idxByName[_])&&(N.name=M,delete a[g].idxByName[_],a[g].idxByName[M]=N)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ra(i){return i.split(",").map(function(a,h){var p=(a=a.trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Fs(p,E||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),c(E),h===0)})}var Dl=(pr.prototype._parseStoresSpec=function(i,a){o(i).forEach(function(h){if(i[h]!==null){var p=Ra(i[h]),E=p.shift();if(E.unique=!0,E.multi)throw new le.Schema("Primary key cannot be multi-valued");p.forEach(function(g){if(g.auto)throw new le.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new le.Schema("Index must have a name and cannot be an empty string")}),a[h]=ws(h,E,p)}})},pr.prototype.stores=function(h){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,h):h;var h=a._versions,p={},E={};return h.forEach(function(g){u(p,g._cfg.storesSource),E=g._cfg.dbschema={},g._parseStoresSpec(p,E)}),a._dbSchema=E,Os(a,[a._allTables,a,a.Transaction.prototype]),lr(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],o(E),E),a._storeNames=o(E),this},pr.prototype.upgrade=function(i){return this._cfg.contentUpgrade=cs(this._cfg.contentUpgrade||Oe,i),this},pr);function pr(){}function Ps(i,a){var h=i._dbNamesDB;return h||(h=i._dbNamesDB=new Vt(ir,{addons:[],indexedDB:i,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),h.table("dbnames")}function xs(i){return i&&typeof i.databases=="function"}function Ns(i){return Xt(function(){return he.letThrough=!0,i()})}function Ls(i){return!("from"in i)}var Qe=function(i,a){if(!this){var h=new Qe;return i&&"d"in i&&u(h,i),h}u(this,arguments.length?{d:1,from:i,to:1<arguments.length?a:i}:{d:0})};function yi(i,a,h){var p=Ae(a,h);if(!isNaN(p)){if(0<p)throw RangeError();if(Ls(i))return u(i,{from:a,to:h,d:1});var E=i.l,p=i.r;if(Ae(h,i.from)<0)return E?yi(E,a,h):i.l={from:a,to:h,d:1,l:null,r:null},Fa(i);if(0<Ae(a,i.to))return p?yi(p,a,h):i.r={from:a,to:h,d:1,l:null,r:null},Fa(i);Ae(a,i.from)<0&&(i.from=a,i.l=null,i.d=p?p.d+1:1),0<Ae(h,i.to)&&(i.to=h,i.r=null,i.d=i.l?i.l.d+1:1),h=!i.r,E&&!i.l&&vi(i,E),p&&h&&vi(i,p)}}function vi(i,a){Ls(a)||function h(p,M){var g=M.from,R=M.to,O=M.l,M=M.r;yi(p,g,R),O&&h(p,O),M&&h(p,M)}(i,a)}function fr(i,a){var h=Ms(a),p=h.next();if(p.done)return!1;for(var E=p.value,g=Ms(i),R=g.next(E.from),O=R.value;!p.done&&!R.done;){if(Ae(O.from,E.to)<=0&&0<=Ae(O.to,E.from))return!0;Ae(E.from,O.from)<0?E=(p=h.next(O.from)).value:O=(R=g.next(E.from)).value}return!1}function Ms(i){var a=Ls(i)?null:{s:0,n:i};return{next:function(h){for(var p=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,p)for(;a.n.l&&Ae(h,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!p||Ae(h,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function Fa(i){var a,h,p=(((a=i.r)===null||a===void 0?void 0:a.d)||0)-(((h=i.l)===null||h===void 0?void 0:h.d)||0),E=1<p?"r":p<-1?"l":"";E&&(a=E=="r"?"l":"r",h=n({},i),p=i[E],i.from=p.from,i.to=p.to,i[E]=p[E],h[E]=p[a],(i[a]=h).d=wa(h)),i.d=wa(i)}function wa(h){var a=h.r,h=h.l;return(a?h?Math.max(a.d,h.d):a.d:h?h.d:0)+1}function mr(i,a){return o(a).forEach(function(h){i[h]?vi(i[h],a[h]):i[h]=function p(E){var g,R,O={};for(g in E)I(E,g)&&(R=E[g],O[g]=!R||typeof R!="object"||$.has(R.constructor)?R:p(R));return O}(a[h])}),i}function Ds(i,a){return i.all||a.all||Object.keys(i).some(function(h){return a[h]&&fr(a[h],i[h])})}f(Qe.prototype,((ut={add:function(i){return vi(this,i),this},addKey:function(i){return yi(this,i,i),this},addKeys:function(i){var a=this;return i.forEach(function(h){return yi(a,h,h)}),this}})[ve]=function(){return Ms(this)},ut));var En={},Us={},_s=!1;function Er(i){mr(Us,i),_s||(_s=!0,setTimeout(function(){_s=!1,Bs(Us,!(Us={}))},0))}function Bs(i,a){a===void 0&&(a=!1);var h=new Set;if(i.all)for(var p=0,E=Object.values(En);p<E.length;p++)Aa(R=E[p],i,h,a);else for(var g in i){var R,O=/^idb\:\/\/(.*)\/(.*)\//.exec(g);O&&(g=O[1],O=O[2],(R=En["idb://".concat(g,"/").concat(O)])&&Aa(R,i,h,a))}h.forEach(function(M){return M()})}function Aa(i,a,h,p){for(var E=[],g=0,R=Object.entries(i.queries.query);g<R.length;g++){for(var O=R[g],M=O[0],N=[],_=0,b=O[1];_<b.length;_++){var B=b[_];Ds(a,B.obsSet)?B.subscribers.forEach(function(D){return h.add(D)}):p&&N.push(B)}p&&E.push([M,N])}if(p)for(var L=0,U=E;L<U.length;L++){var z=U[L],M=z[0],N=z[1];i.queries.query[M]=N}}function Ul(i){var a=i._state,h=i._deps.indexedDB;if(a.isBeingOpened||i.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?ze(a.dbOpenError):i});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var p=a.openCanceller,E=Math.round(10*i.verno),g=!1;function R(){if(a.openCanceller!==p)throw new le.DatabaseClosed("db.open() was cancelled")}function O(){return new ae(function(B,L){if(R(),!h)throw new le.MissingAPI;var U=i.name,z=a.autoSchema||!E?h.open(U):h.open(U,E);if(!z)throw new le.MissingAPI;z.onerror=Pt(L),z.onblocked=Le(i._fireOnBlocked),z.onupgradeneeded=Le(function(D){var V;_=z.transaction,a.autoSchema&&!i._options.allowEmptyDB?(z.onerror=Ii,_.abort(),z.result.close(),(V=h.deleteDatabase(U)).onsuccess=V.onerror=Le(function(){L(new le.NoSuchDatabase("Database ".concat(U," doesnt exist")))})):(_.onerror=Pt(L),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,b=D<1,i.idbdb=z.result,g&&Ml(i,_),Ll(i,D/10,_,L))},L),z.onsuccess=Le(function(){_=null;var D,V,G,W,j,Q=i.idbdb=z.result,re=S(Q.objectStoreNames);if(0<re.length)try{var ee=Q.transaction((W=re).length===1?W[0]:W,"readonly");if(a.autoSchema)V=Q,G=ee,(D=i).verno=V.version/10,G=D._dbSchema=ur(0,V,G),D._storeNames=S(V.objectStoreNames,0),lr(D,[D._allTables],o(G),G);else if(dr(i,i._dbSchema,ee),((j=Ss(ur(0,(j=i).idbdb,ee),j._dbSchema)).add.length||j.change.some(function(te){return te.add.length||te.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Q.close(),E=Q.version+1,g=!0,B(O());cr(i,ee)}catch{}Dn.push(i),Q.onversionchange=Le(function(te){a.vcFired=!0,i.on("versionchange").fire(te)}),Q.onclose=Le(function(te){i.on("close").fire(te)}),b&&(j=i._deps,ee=U,Q=j.indexedDB,j=j.IDBKeyRange,xs(Q)||ee===ir||Ps(Q,j).put({name:ee}).catch(Oe)),B()},L)}).catch(function(B){switch(B==null?void 0:B.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<E)return E=0,O()}return ae.reject(B)})}var M,N=a.dbReadyResolve,_=null,b=!1;return ae.race([p,(typeof navigator>"u"?ae.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(B){function L(){return indexedDB.databases().finally(B)}M=setInterval(L,100),L()}).finally(function(){return clearInterval(M)}):Promise.resolve()).then(O)]).then(function(){return R(),a.onReadyBeingFired=[],ae.resolve(Ns(function(){return i.on.ready.fire(i.vip)})).then(function B(){if(0<a.onReadyBeingFired.length){var L=a.onReadyBeingFired.reduce(cs,Oe);return a.onReadyBeingFired=[],ae.resolve(Ns(function(){return L(i.vip)})).then(B)}})}).finally(function(){a.openCanceller===p&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(B){a.dbOpenError=B;try{_&&_.abort()}catch{}return p===a.openCanceller&&i._close(),ze(B)}).finally(function(){a.openComplete=!0,N()}).then(function(){var B;return b&&(B={},i.tables.forEach(function(L){L.schema.indexes.forEach(function(U){U.name&&(B["idb://".concat(i.name,"/").concat(L.name,"/").concat(U.name)]=new Qe(-1/0,[[[]]]))}),B["idb://".concat(i.name,"/").concat(L.name,"/")]=B["idb://".concat(i.name,"/").concat(L.name,"/:dels")]=new Qe(-1/0,[[[]]])}),qt(gi).fire(B),Bs(B,!0)),i})}function zs(i){function a(g){return i.next(g)}var h=E(a),p=E(function(g){return i.throw(g)});function E(g){return function(M){var O=g(M),M=O.value;return O.done?M:M&&typeof M.then=="function"?M.then(h,p):c(M)?Promise.all(M).then(h,p):h(M)}}return E(a)()}function Ir(i,a,h){for(var p=c(i)?i.slice():[i],E=0;E<h;++E)p.push(a);return p}var _l={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return n(n({},i),{table:function(a){var h=i.table(a),p=h.schema,E={},g=[];function R(b,B,L){var U=Ti(b),z=E[U]=E[U]||[],D=b==null?0:typeof b=="string"?1:b.length,V=0<B,V=n(n({},L),{name:V?"".concat(U,"(virtual-from:").concat(L.name,")"):L.name,lowLevelIndex:L,isVirtual:V,keyTail:B,keyLength:D,extractKey:As(b),unique:!V&&L.unique});return z.push(V),V.isPrimaryKey||g.push(V),1<D&&R(D===2?b[0]:b.slice(0,D-1),B+1,L),z.sort(function(G,W){return G.keyTail-W.keyTail}),V}a=R(p.primaryKey.keyPath,0,p.primaryKey),E[":id"]=[a];for(var O=0,M=p.indexes;O<M.length;O++){var N=M[O];R(N.keyPath,0,N)}function _(b){var B,L=b.query.index;return L.isVirtual?n(n({},b),{query:{index:L.lowLevelIndex,range:(B=b.query.range,L=L.keyTail,{type:B.type===1?2:B.type,lower:Ir(B.lower,B.lowerOpen?i.MAX_KEY:i.MIN_KEY,L),lowerOpen:!0,upper:Ir(B.upper,B.upperOpen?i.MIN_KEY:i.MAX_KEY,L),upperOpen:!0})}}):b}return n(n({},h),{schema:n(n({},p),{primaryKey:a,indexes:g,getIndexByKeyPath:function(b){return(b=E[Ti(b)])&&b[0]}}),count:function(b){return h.count(_(b))},query:function(b){return h.query(_(b))},openCursor:function(b){var B=b.query.index,L=B.keyTail,U=B.isVirtual,z=B.keyLength;return U?h.openCursor(_(b)).then(function(V){return V&&D(V)}):h.openCursor(b);function D(V){return Object.create(V,{continue:{value:function(G){G!=null?V.continue(Ir(G,b.reverse?i.MAX_KEY:i.MIN_KEY,L)):b.unique?V.continue(V.key.slice(0,z).concat(b.reverse?i.MIN_KEY:i.MAX_KEY,L)):V.continue()}},continuePrimaryKey:{value:function(G,W){V.continuePrimaryKey(Ir(G,i.MAX_KEY,L),W)}},primaryKey:{get:function(){return V.primaryKey}},key:{get:function(){var G=V.key;return z===1?G[0]:G.slice(0,z)}},value:{get:function(){return V.value}}})}}})}})}};function Ys(i,a,h,p){return h=h||{},p=p||"",o(i).forEach(function(E){var g,R,O;I(a,E)?(g=i[E],R=a[E],typeof g=="object"&&typeof R=="object"&&g&&R?(O=Ee(g))!==Ee(R)?h[p+E]=a[E]:O==="Object"?Ys(g,R,h,p+E+"."):g!==R&&(h[p+E]=a[E]):g!==R&&(h[p+E]=a[E])):h[p+E]=void 0}),o(a).forEach(function(E){I(i,E)||(h[p+E]=a[E])}),h}function Vs(i,a){return a.type==="delete"?a.keys:a.keys||a.values.map(i.extractKey)}var Bl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return n(n({},i),{table:function(a){var h=i.table(a),p=h.schema.primaryKey;return n(n({},h),{mutate:function(E){var g=he.trans,R=g.table(a).hook,O=R.deleting,M=R.creating,N=R.updating;switch(E.type){case"add":if(M.fire===Oe)break;return g._promise("readwrite",function(){return _(E)},!0);case"put":if(M.fire===Oe&&N.fire===Oe)break;return g._promise("readwrite",function(){return _(E)},!0);case"delete":if(O.fire===Oe)break;return g._promise("readwrite",function(){return _(E)},!0);case"deleteRange":if(O.fire===Oe)break;return g._promise("readwrite",function(){return function b(B,L,U){return h.query({trans:B,values:!1,query:{index:p,range:L},limit:U}).then(function(z){var D=z.result;return _({type:"delete",keys:D,trans:B}).then(function(V){return 0<V.numFailures?Promise.reject(V.failures[0]):D.length<U?{failures:[],numFailures:0,lastResult:void 0}:b(B,n(n({},L),{lower:D[D.length-1],lowerOpen:!0}),U)})})}(E.trans,E.range,1e4)},!0)}return h.mutate(E);function _(b){var B,L,U,z=he.trans,D=b.keys||Vs(p,b);if(!D)throw new Error("Keys missing");return(b=b.type==="add"||b.type==="put"?n(n({},b),{keys:D}):n({},b)).type!=="delete"&&(b.values=r([],b.values)),b.keys&&(b.keys=r([],b.keys)),B=h,U=D,((L=b).type==="add"?Promise.resolve([]):B.getMany({trans:L.trans,keys:U,cache:"immutable"})).then(function(V){var G=D.map(function(W,j){var Q,re,ee,te=V[j],se={onerror:null,onsuccess:null};return b.type==="delete"?O.fire.call(se,W,te,z):b.type==="add"||te===void 0?(Q=M.fire.call(se,W,b.values[j],z),W==null&&Q!=null&&(b.keys[j]=W=Q,p.outbound||k(b.values[j],p.keyPath,W))):(Q=Ys(te,b.values[j]),(re=N.fire.call(se,Q,W,te,z))&&(ee=b.values[j],Object.keys(re).forEach(function(oe){I(ee,oe)?ee[oe]=re[oe]:k(ee,oe,re[oe])}))),se});return h.mutate(b).then(function(W){for(var j=W.failures,Q=W.results,re=W.numFailures,W=W.lastResult,ee=0;ee<D.length;++ee){var te=(Q||D)[ee],se=G[ee];te==null?se.onerror&&se.onerror(j[ee]):se.onsuccess&&se.onsuccess(b.type==="put"&&V[ee]?b.values[ee]:te)}return{failures:j,results:Q,numFailures:re,lastResult:W}}).catch(function(W){return G.forEach(function(j){return j.onerror&&j.onerror(W)}),Promise.reject(W)})})}}})}})}};function Oa(i,a,h){try{if(!a||a.keys.length<i.length)return null;for(var p=[],E=0,g=0;E<a.keys.length&&g<i.length;++E)Ae(a.keys[E],i[g])===0&&(p.push(h?ie(a.values[E]):a.values[E]),++g);return p.length===i.length?p:null}catch{return null}}var zl={stack:"dbcore",level:-1,create:function(i){return{table:function(a){var h=i.table(a);return n(n({},h),{getMany:function(p){if(!p.cache)return h.getMany(p);var E=Oa(p.keys,p.trans._cache,p.cache==="clone");return E?ae.resolve(E):h.getMany(p).then(function(g){return p.trans._cache={keys:p.keys,values:p.cache==="clone"?ie(g):g},g})},mutate:function(p){return p.type!=="add"&&(p.trans._cache=null),h.mutate(p)}})}}}};function Sa(i,a){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function ba(i,a){switch(i){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Yl={stack:"dbcore",level:0,name:"Observability",create:function(i){var a=i.schema.name,h=new Qe(i.MIN_KEY,i.MAX_KEY);return n(n({},i),{transaction:function(p,E,g){if(he.subscr&&E!=="readonly")throw new le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(he.querier));return i.transaction(p,E,g)},table:function(p){var E=i.table(p),g=E.schema,R=g.primaryKey,b=g.indexes,O=R.extractKey,M=R.outbound,N=R.autoIncrement&&b.filter(function(L){return L.compound&&L.keyPath.includes(R.keyPath)}),_=n(n({},E),{mutate:function(L){function U(oe){return oe="idb://".concat(a,"/").concat(p,"/").concat(oe),W[oe]||(W[oe]=new Qe)}var z,D,V,G=L.trans,W=L.mutatedParts||(L.mutatedParts={}),j=U(""),Q=U(":dels"),re=L.type,se=L.type==="deleteRange"?[L.range]:L.type==="delete"?[L.keys]:L.values.length<50?[Vs(R,L).filter(function(oe){return oe}),L.values]:[],ee=se[0],te=se[1],se=L.trans._cache;return c(ee)?(j.addKeys(ee),(se=re==="delete"||ee.length===te.length?Oa(ee,se):null)||Q.addKeys(ee),(se||te)&&(z=U,D=se,V=te,g.indexes.forEach(function(oe){var pe=z(oe.name||"");function ge(Ce){return Ce!=null?oe.extractKey(Ce):null}function ye(Ce){return oe.multiEntry&&c(Ce)?Ce.forEach(function(Tt){return pe.addKey(Tt)}):pe.addKey(Ce)}(D||V).forEach(function(Ce,qe){var Te=D&&ge(D[qe]),qe=V&&ge(V[qe]);Ae(Te,qe)!==0&&(Te!=null&&ye(Te),qe!=null&&ye(qe))})}))):ee?(te={from:ee.lower,to:ee.upper},Q.add(te),j.add(te)):(j.add(h),Q.add(h),g.indexes.forEach(function(oe){return U(oe.name).add(h)})),E.mutate(L).then(function(oe){return!ee||L.type!=="add"&&L.type!=="put"||(j.addKeys(oe.results),N&&N.forEach(function(pe){var ge=L.values.map(function(Ce){return pe.extractKey(Ce)}),ye=pe.keyPath.findIndex(function(Ce){return Ce===R.keyPath});oe.results.forEach(function(Ce){return ge[ye]=Ce}),U(pe.name).addKeys(ge)})),G.mutatedParts=mr(G.mutatedParts||{},W),oe})}}),b=function(U){var z=U.query,U=z.index,z=z.range;return[U,new Qe((U=z.lower)!==null&&U!==void 0?U:i.MIN_KEY,(z=z.upper)!==null&&z!==void 0?z:i.MAX_KEY)]},B={get:function(L){return[R,new Qe(L.key)]},getMany:function(L){return[R,new Qe().addKeys(L.keys)]},count:b,query:b,openCursor:b};return o(B).forEach(function(L){_[L]=function(U){var z=he.subscr,D=!!z,V=Sa(he,E)&&ba(L,U)?U.obsSet={}:z;if(D){var G=function(te){return te="idb://".concat(a,"/").concat(p,"/").concat(te),V[te]||(V[te]=new Qe)},W=G(""),j=G(":dels"),z=B[L](U),D=z[0],z=z[1];if((L==="query"&&D.isPrimaryKey&&!U.values?j:G(D.name||"")).add(z),!D.isPrimaryKey){if(L!=="count"){var Q=L==="query"&&M&&U.values&&E.query(n(n({},U),{values:!1}));return E[L].apply(this,arguments).then(function(te){if(L==="query"){if(M&&U.values)return Q.then(function(ge){return ge=ge.result,W.addKeys(ge),te});var se=U.values?te.result.map(O):te.result;(U.values?W:j).addKeys(se)}else if(L==="openCursor"){var oe=te,pe=U.values;return oe&&Object.create(oe,{key:{get:function(){return j.addKey(oe.primaryKey),oe.key}},primaryKey:{get:function(){var ge=oe.primaryKey;return j.addKey(ge),ge}},value:{get:function(){return pe&&W.addKey(oe.primaryKey),oe.value}}})}return te})}j.add(h)}}return E[L].apply(this,arguments)}}),_}})}};function Pa(i,a,h){if(h.numFailures===0)return a;if(a.type==="deleteRange")return null;var p=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return h.numFailures===p?null:(a=n({},a),c(a.keys)&&(a.keys=a.keys.filter(function(E,g){return!(g in h.failures)})),"values"in a&&c(a.values)&&(a.values=a.values.filter(function(E,g){return!(g in h.failures)})),a)}function ks(i,a){return h=i,((p=a).lower===void 0||(p.lowerOpen?0<Ae(h,p.lower):0<=Ae(h,p.lower)))&&(i=i,(a=a).upper===void 0||(a.upperOpen?Ae(i,a.upper)<0:Ae(i,a.upper)<=0));var h,p}function xa(i,a,B,p,E,g){if(!B||B.length===0)return i;var R=a.query.index,O=R.multiEntry,M=a.query.range,N=p.schema.primaryKey.extractKey,_=R.extractKey,b=(R.lowLevelIndex||R).extractKey,B=B.reduce(function(L,U){var z=L,D=U.type==="add"||U.type==="put"?U.values.filter(function(j){return j=_(j),O&&c(j)?j.some(function(Q){return ks(Q,M)}):ks(j,M)}).map(function(j){return j=ie(j),g&&Object.freeze(j),j}):[];switch(U.type){case"add":z=L.concat(a.values?D:D.map(function(Q){return N(Q)}));break;case"put":var V=new Qe().addKeys(U.values.map(function(Q){return N(Q)})),z=L.filter(function(Q){return Q=a.values?N(Q):Q,!fr(new Qe(Q),V)}).concat(a.values?D:D.map(function(Q){return N(Q)}));break;case"delete":var G=new Qe().addKeys(U.keys);z=L.filter(function(Q){return Q=a.values?N(Q):Q,!fr(new Qe(Q),G)});break;case"deleteRange":var W=U.range;z=L.filter(function(Q){return!ks(N(Q),W)})}return z},i);return B===i?i:(B.sort(function(L,U){return Ae(b(L),b(U))||Ae(N(L),N(U))}),a.limit&&a.limit<1/0&&(B.length>a.limit?B.length=a.limit:i.length===a.limit&&B.length<a.limit&&(E.dirty=!0)),g?Object.freeze(B):B)}function Na(i,a){return Ae(i.lower,a.lower)===0&&Ae(i.upper,a.upper)===0&&!!i.lowerOpen==!!a.lowerOpen&&!!i.upperOpen==!!a.upperOpen}function Vl(i,a){return function(h,p,E,g){if(h===void 0)return p!==void 0?-1:0;if(p===void 0)return 1;if((p=Ae(h,p))===0){if(E&&g)return 0;if(E)return 1;if(g)return-1}return p}(i.lower,a.lower,i.lowerOpen,a.lowerOpen)<=0&&0<=function(h,p,E,g){if(h===void 0)return p!==void 0?1:0;if(p===void 0)return-1;if((p=Ae(h,p))===0){if(E&&g)return 0;if(E)return-1;if(g)return 1}return p}(i.upper,a.upper,i.upperOpen,a.upperOpen)}function kl(i,a,h,p){i.subscribers.add(h),p.addEventListener("abort",function(){var E,g;i.subscribers.delete(h),i.subscribers.size===0&&(E=i,g=a,setTimeout(function(){E.subscribers.size===0&&Re(g,E)},3e3))})}var Gl={stack:"dbcore",level:0,name:"Cache",create:function(i){var a=i.schema.name;return n(n({},i),{transaction:function(h,p,E){var g,R,O=i.transaction(h,p,E);return p==="readwrite"&&(R=(g=new AbortController).signal,E=function(M){return function(){if(g.abort(),p==="readwrite"){for(var N=new Set,_=0,b=h;_<b.length;_++){var B=b[_],L=En["idb://".concat(a,"/").concat(B)];if(L){var U=i.table(B),z=L.optimisticOps.filter(function(pe){return pe.trans===O});if(O._explicit&&M&&O.mutatedParts)for(var D=0,V=Object.values(L.queries.query);D<V.length;D++)for(var G=0,W=(re=V[D]).slice();G<W.length;G++)Ds((ee=W[G]).obsSet,O.mutatedParts)&&(Re(re,ee),ee.subscribers.forEach(function(pe){return N.add(pe)}));else if(0<z.length){L.optimisticOps=L.optimisticOps.filter(function(pe){return pe.trans!==O});for(var j=0,Q=Object.values(L.queries.query);j<Q.length;j++)for(var re,ee,te,se=0,oe=(re=Q[j]).slice();se<oe.length;se++)(ee=oe[se]).res!=null&&O.mutatedParts&&(M&&!ee.dirty?(te=Object.isFrozen(ee.res),te=xa(ee.res,ee.req,z,U,ee,te),ee.dirty?(Re(re,ee),ee.subscribers.forEach(function(pe){return N.add(pe)})):te!==ee.res&&(ee.res=te,ee.promise=ae.resolve({result:te}))):(ee.dirty&&Re(re,ee),ee.subscribers.forEach(function(pe){return N.add(pe)})))}}}N.forEach(function(pe){return pe()})}}},O.addEventListener("abort",E(!1),{signal:R}),O.addEventListener("error",E(!1),{signal:R}),O.addEventListener("complete",E(!0),{signal:R})),O},table:function(h){var p=i.table(h),E=p.schema.primaryKey;return n(n({},p),{mutate:function(g){var R=he.trans;if(E.outbound||R.db._options.cache==="disabled"||R.explicit)return p.mutate(g);var O=En["idb://".concat(a,"/").concat(h)];return O?(R=p.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Vs(E,g).some(function(M){return M==null}))?(O.optimisticOps.push(g),g.mutatedParts&&Er(g.mutatedParts),R.then(function(M){0<M.numFailures&&(Re(O.optimisticOps,g),(M=Pa(0,g,M))&&O.optimisticOps.push(M),g.mutatedParts&&Er(g.mutatedParts))}),R.catch(function(){Re(O.optimisticOps,g),g.mutatedParts&&Er(g.mutatedParts)})):R.then(function(M){var N=Pa(0,n(n({},g),{values:g.values.map(function(L,b){var B,L=(B=E.keyPath)!==null&&B!==void 0&&B.includes(".")?ie(L):n({},L);return k(L,E.keyPath,M.results[b]),L})}),M);O.optimisticOps.push(N),queueMicrotask(function(){return g.mutatedParts&&Er(g.mutatedParts)})}),R):p.mutate(g)},query:function(g){if(!Sa(he,p)||!ba("query",g))return p.query(g);var R=((N=he.trans)===null||N===void 0?void 0:N.db._options.cache)==="immutable",b=he,O=b.requery,M=b.signal,N=function(U,z,D,V){var G=En["idb://".concat(U,"/").concat(z)];if(!G)return[];if(!(z=G.queries[D]))return[null,!1,G,null];var W=z[(V.query?V.query.index.name:null)||""];if(!W)return[null,!1,G,null];switch(D){case"query":var j=W.find(function(Q){return Q.req.limit===V.limit&&Q.req.values===V.values&&Na(Q.req.query.range,V.query.range)});return j?[j,!0,G,W]:[W.find(function(Q){return("limit"in Q.req?Q.req.limit:1/0)>=V.limit&&(!V.values||Q.req.values)&&Vl(Q.req.query.range,V.query.range)}),!1,G,W];case"count":return j=W.find(function(Q){return Na(Q.req.query.range,V.query.range)}),[j,!!j,G,W]}}(a,h,"query",g),_=N[0],b=N[1],B=N[2],L=N[3];return _&&b?_.obsSet=g.obsSet:(b=p.query(g).then(function(U){var z=U.result;if(_&&(_.res=z),R){for(var D=0,V=z.length;D<V;++D)Object.freeze(z[D]);Object.freeze(z)}else U.result=ie(z);return U}).catch(function(U){return L&&_&&Re(L,_),Promise.reject(U)}),_={obsSet:g.obsSet,promise:b,subscribers:new Set,type:"query",req:g,dirty:!1},L?L.push(_):(L=[_],(B=B||(En["idb://".concat(a,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=L)),kl(_,L,O,M),_.promise.then(function(U){return{result:xa(U.result,g,B==null?void 0:B.optimisticOps,p,_,R)}})}})}})}};function gr(i,a){return new Proxy(i,{get:function(h,p,E){return p==="db"?a:Reflect.get(h,p,E)}})}var Vt=(Ye.prototype.version=function(i){if(isNaN(i)||i<.1)throw new le.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var a=this._versions,h=a.filter(function(p){return p._cfg.version===i})[0];return h||(h=new this.Version(i),a.push(h),a.sort(Nl),h.stores({}),this._state.autoSchema=!1,h)},Ye.prototype._whenReady=function(i){var a=this;return this.idbdb&&(this._state.openComplete||he.letThrough||this._vip)?i():new ae(function(h,p){if(a._state.openComplete)return p(new le.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void p(new le.DatabaseClosed);a.open().catch(Oe)}a._state.dbReadyPromise.then(h,p)}).then(i)},Ye.prototype.use=function(i){var a=i.stack,h=i.create,p=i.level,E=i.name;return E&&this.unuse({stack:a,name:E}),i=this._middlewares[a]||(this._middlewares[a]=[]),i.push({stack:a,create:h,level:p??10,name:E}),i.sort(function(g,R){return g.level-R.level}),this},Ye.prototype.unuse=function(i){var a=i.stack,h=i.name,p=i.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(E){return p?E.create!==p:!!h&&E.name!==h})),this},Ye.prototype.open=function(){var i=this;return pn(Wt,function(){return Ul(i)})},Ye.prototype._close=function(){var i=this._state,a=Dn.indexOf(this);if(0<=a&&Dn.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new ae(function(h){i.dbReadyResolve=h}),i.openCanceller=new ae(function(h,p){i.cancelOpen=p}))},Ye.prototype.close=function(h){var a=(h===void 0?{disableAutoOpen:!0}:h).disableAutoOpen,h=this._state;a?(h.isBeingOpened&&h.cancelOpen(new le.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new le.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},Ye.prototype.delete=function(i){var a=this;i===void 0&&(i={disableAutoOpen:!0});var h=0<arguments.length&&typeof arguments[0]!="object",p=this._state;return new ae(function(E,g){function R(){a.close(i);var O=a._deps.indexedDB.deleteDatabase(a.name);O.onsuccess=Le(function(){var M,N,_;M=a._deps,N=a.name,_=M.indexedDB,M=M.IDBKeyRange,xs(_)||N===ir||Ps(_,M).delete(N).catch(Oe),E()}),O.onerror=Pt(g),O.onblocked=a._fireOnBlocked}if(h)throw new le.InvalidArgument("Invalid closeOptions argument to db.delete()");p.isBeingOpened?p.dbReadyPromise.then(R):R()})},Ye.prototype.backendDB=function(){return this.idbdb},Ye.prototype.isOpen=function(){return this.idbdb!==null},Ye.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},Ye.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ye.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ye.prototype,"tables",{get:function(){var i=this;return o(this._allTables).map(function(a){return i._allTables[a]})},enumerable:!1,configurable:!0}),Ye.prototype.transaction=function(){var i=(function(a,h,p){var E=arguments.length;if(E<2)throw new le.InvalidArgument("Too few arguments");for(var g=new Array(E-1);--E;)g[E-1]=arguments[E];return p=g.pop(),[a,q(g),p]}).apply(this,arguments);return this._transaction.apply(this,i)},Ye.prototype._transaction=function(i,a,h){var p=this,E=he.trans;E&&E.db===this&&i.indexOf("!")===-1||(E=null);var g,R,O=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(R=a.map(function(N){if(N=N instanceof p.Table?N.name:N,typeof N!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return N}),i=="r"||i===Is)g=Is;else{if(i!="rw"&&i!=gs)throw new le.InvalidArgument("Invalid transaction mode: "+i);g=gs}if(E){if(E.mode===Is&&g===gs){if(!O)throw new le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");E=null}E&&R.forEach(function(N){if(E&&E.storeNames.indexOf(N)===-1){if(!O)throw new le.SubTransaction("Table "+N+" not included in parent transaction.");E=null}}),O&&E&&!E.active&&(E=null)}}catch(N){return E?E._promise(null,function(_,b){b(N)}):ze(N)}var M=(function N(_,b,B,L,U){return ae.resolve().then(function(){var z=he.transless||he,D=_._createTransaction(b,B,_._dbSchema,L);if(D.explicit=!0,z={trans:D,transless:z},L)D.idbtrans=L.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,_._state.PR1398_maxLoop=3}catch(W){return W.name===Bt.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return N(_,b,B,null,U)})):ze(W)}var V,G=It(U);return G&&Mn(),z=ae.follow(function(){var W;(V=U.call(D,D))&&(G?(W=jt.bind(null,null),V.then(W,W)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=zs(V)))},z),(V&&typeof V.then=="function"?ae.resolve(V).then(function(W){return D.active?W:ze(new le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):z.then(function(){return V})).then(function(W){return L&&D._resolve(),D._completion.then(function(){return W})}).catch(function(W){return D._reject(W),ze(W)})})}).bind(null,this,g,R,E,h);return E?E._promise(g,M,"lock"):he.trans?pn(he.transless,function(){return p._whenReady(M)}):this._whenReady(M)},Ye.prototype.table=function(i){if(!I(this._allTables,i))throw new le.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},Ye);function Ye(i,a){var h=this;this._middlewares={},this.verno=0;var p=Ye.dependencies;this._options=a=n({addons:Ye.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},p=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var E,g,R,O,M,N={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Oe,dbReadyPromise:null,cancelOpen:Oe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};N.dbReadyPromise=new ae(function(b){N.dbReadyResolve=b}),N.openCanceller=new ae(function(b,B){N.cancelOpen=B}),this._state=N,this.name=i,this.on=mi(this,"populate","blocked","versionchange","close",{ready:[cs,Oe]}),this.on.ready.subscribe=x(this.on.ready.subscribe,function(b){return function(B,L){Ye.vip(function(){var U,z=h._state;z.openComplete?(z.dbOpenError||ae.resolve().then(B),L&&b(B)):z.onReadyBeingFired?(z.onReadyBeingFired.push(B),L&&b(B)):(b(B),U=h,L||b(function D(){U.on.ready.unsubscribe(B),U.on.ready.unsubscribe(D)}))})}}),this.Collection=(E=this,Ei(wl.prototype,function(V,D){this.db=E;var L=ha,U=null;if(D)try{L=D()}catch(G){U=G}var z=V._ctx,D=z.table,V=D.hook.reading.fire;this._ctx={table:D,index:z.index,isPrimKey:!z.index||D.schema.primKey.keyPath&&z.index===D.schema.primKey.name,range:L,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:U,or:z.or,valueMapper:V!==St?V:null}})),this.Table=(g=this,Ei(fa.prototype,function(b,B,L){this.db=g,this._tx=L,this.name=b,this.schema=B,this.hook=g._allTables[b]?g._allTables[b].hook:mi(null,{creating:[ci,Oe],reading:[as,St],updating:[gl,Oe],deleting:[li,Oe]})})),this.Transaction=(R=this,Ei(Sl.prototype,function(b,B,L,U,z){var D=this;this.db=R,this.mode=b,this.storeNames=B,this.schema=L,this.chromeTransactionDurability=U,this.idbtrans=null,this.on=mi(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ae(function(V,G){D._resolve=V,D._reject=G}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(V){var G=D.active;return D.active=!1,D.on.error.fire(V),D.parent?D.parent._reject(V):G&&D.idbtrans&&D.idbtrans.abort(),ze(V)})})),this.Version=(O=this,Ei(Dl.prototype,function(b){this.db=O,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(M=this,Ei(Ca.prototype,function(b,B,L){if(this.db=M,this._ctx={table:b,index:B===":id"?null:B,or:L},this._cmp=this._ascending=Ae,this._descending=function(U,z){return Ae(z,U)},this._max=function(U,z){return 0<Ae(U,z)?U:z},this._min=function(U,z){return Ae(U,z)<0?U:z},this._IDBKeyRange=M._deps.IDBKeyRange,!this._IDBKeyRange)throw new le.MissingAPI})),this.on("versionchange",function(b){0<b.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(b){!b.newVersion||b.newVersion<b.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(b.oldVersion/10))}),this._maxKey=Ci(a.IDBKeyRange),this._createTransaction=function(b,B,L,U){return new h.Transaction(b,B,L,h._options.chromeTransactionDurability,U)},this._fireOnBlocked=function(b){h.on("blocked").fire(b),Dn.filter(function(B){return B.name===h.name&&B!==h&&!B._state.vcFired}).map(function(B){return B.on("versionchange").fire(b)})},this.use(zl),this.use(Gl),this.use(Yl),this.use(_l),this.use(Bl);var _=new Proxy(this,{get:function(b,B,L){if(B==="_vip")return!0;if(B==="table")return function(z){return gr(h.table(z),_)};var U=Reflect.get(b,B,L);return U instanceof fa?gr(U,_):B==="tables"?U.map(function(z){return gr(z,_)}):B==="_createTransaction"?function(){return gr(U.apply(this,arguments),_)}:U}});this.vip=_,p.forEach(function(b){return b(h)})}var Cr,ut=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Hl=(Gs.prototype.subscribe=function(i,a,h){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:a,complete:h})},Gs.prototype[ut]=function(){return this},Gs);function Gs(i){this._subscribe=i}try{Cr={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Cr={indexedDB:null,IDBKeyRange:null}}function La(i){var a,h=!1,p=new Hl(function(E){var g=It(i),R,O=!1,M={},N={},_={get closed(){return O},unsubscribe:function(){O||(O=!0,R&&R.abort(),b&&qt.storagemutated.unsubscribe(L))}};E.start&&E.start(_);var b=!1,B=function(){return Es(U)},L=function(z){mr(M,z),Ds(N,M)&&B()},U=function(){var z,D,V;!O&&Cr.indexedDB&&(M={},z={},R&&R.abort(),R=new AbortController,V=function(G){var W=Nn();try{g&&Mn();var j=Xt(i,G);return j=g?j.finally(jt):j}finally{W&&Ln()}}(D={subscr:z,signal:R.signal,requery:B,querier:i,trans:null}),Promise.resolve(V).then(function(G){h=!0,a=G,O||D.signal.aborted||(M={},function(W){for(var j in W)if(I(W,j))return;return 1}(N=z)||b||(qt(gi,L),b=!0),Es(function(){return!O&&E.next&&E.next(G)}))},function(G){h=!1,["DatabaseClosedError","AbortError"].includes(G==null?void 0:G.name)||O||Es(function(){O||E.error&&E.error(G)})}))};return setTimeout(B,0),_});return p.hasValue=function(){return h},p.getValue=function(){return a},p}var In=Vt;function Hs(i){var a=Jt;try{Jt=!0,qt.storagemutated.fire(i),Bs(i,!0)}finally{Jt=a}}f(In,n(n({},gt),{delete:function(i){return new In(i,{addons:[]}).delete()},exists:function(i){return new In(i,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return a=In.dependencies,h=a.indexedDB,a=a.IDBKeyRange,(xs(h)?Promise.resolve(h.databases()).then(function(p){return p.map(function(E){return E.name}).filter(function(E){return E!==ir})}):Ps(h,a).toCollection().primaryKeys()).then(i)}catch{return ze(new le.MissingAPI)}var a,h},defineClass:function(){return function(i){u(this,i)}},ignoreTransaction:function(i){return he.trans?pn(he.transless,i):i()},vip:Ns,async:function(i){return function(){try{var a=zs(i.apply(this,arguments));return a&&typeof a.then=="function"?a:ae.resolve(a)}catch(h){return ze(h)}}},spawn:function(i,a,h){try{var p=zs(i.apply(h,a||[]));return p&&typeof p.then=="function"?p:ae.resolve(p)}catch(E){return ze(E)}},currentTransaction:{get:function(){return he.trans||null}},waitFor:function(i,a){return a=ae.resolve(typeof i=="function"?In.ignoreTransaction(i):i).timeout(a||6e4),he.trans?he.trans.waitFor(a):a},Promise:ae,debug:{get:function(){return bt},set:function(i){ia(i)}},derive:F,extend:u,props:f,override:x,Events:mi,on:qt,liveQuery:La,extendObservabilitySet:mr,getByKeyPath:Y,setByKeyPath:k,delByKeyPath:function(i,a){typeof a=="string"?k(i,a,void 0):"length"in a&&[].map.call(a,function(h){k(i,h,void 0)})},shallowClone:K,deepClone:ie,getObjectDiff:Ys,cmp:Ae,asap:P,minKey:-1/0,addons:[],connections:Dn,errnames:Bt,dependencies:Cr,cache:En,semVer:"4.0.4",version:"4.0.4".split(".").map(function(i){return parseInt(i)}).reduce(function(i,a,h){return i+a/Math.pow(10,2*h)})})),In.maxKey=Ci(In.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(qt(gi,function(i){Jt||(i=new CustomEvent(Rs,{detail:i}),Jt=!0,dispatchEvent(i),Jt=!1)}),addEventListener(Rs,function(i){i=i.detail,Jt||Hs(i)}));var Bn,Jt=!1,Ma=function(){};return typeof BroadcastChannel<"u"&&((Ma=function(){(Bn=new BroadcastChannel(Rs)).onmessage=function(i){return i.data&&Hs(i.data)}})(),typeof Bn.unref=="function"&&Bn.unref(),qt(gi,function(i){Jt||Bn.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!Vt.disableBfCache&&i.persisted){bt&&console.debug("Dexie: handling persisted pagehide"),Bn!=null&&Bn.close();for(var a=0,h=Dn;a<h.length;a++)h[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!Vt.disableBfCache&&i.persisted&&(bt&&console.debug("Dexie: handling persisted pageshow"),Ma(),Hs({all:new Qe(-1/0,[[]])}))})),ae.rejectionMapper=function(i,a){return!i||i instanceof ht||i instanceof TypeError||i instanceof SyntaxError||!i.name||!De[i.name]?i:(a=new De[i.name](a||i.message,i),"stack"in i&&v(a,"stack",{get:function(){return this.inner.stack}}),a)},ia(bt),n(Vt,Object.freeze({__proto__:null,Dexie:Vt,liveQuery:La,Entity:ua,cmp:Ae,PropModSymbol:Yt,PropModification:ys,replacePrefix:function(i,a){return new ys({replacePrefix:[i,a]})},default:Vt,RangeSet:Qe,mergeRanges:vi,rangesOverlap:fr}),{default:Vt}),Vt})})(Il);var cp=Il.exports;const _o=Dc(cp),Rc=Symbol.for("Dexie"),Fc=globalThis[Rc]||(globalThis[Rc]=_o);if(_o.semVer!==Fc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_o.semVer} and ${Fc.semVer}`);export{Tp as $,Od as C,ne as D,Cp as F,ri as H,Ju as I,Ge as J,wn as K,Jd as P,Ep as R,ed as S,Oo as W,Vi as X,Ip as a,Ut as b,Fc as c,gp as d,up as e,$o as f,fp as g,pp as i,mp as n,wd as p,dp as s,Hu as u,pd as v};
