import{M as f,B as u}from"./web-ifc-api-Glg4rFxW.js";import{g as p}from"./lil-gui.module.min-Bc0DeA9g.js";import{C as g}from"./index-BjtWM7Op.js";import{W as w,S as F}from"./index-BXYZy8Yd.js";import{F as x}from"./index-BHbmf4IB.js";import{S as y,a as b}from"./simple-camera-FtEnIFQL.js";const h=document.getElementById("container"),a=new g,E=a.get(w),r=E.create();r.scene=new y(a);r.renderer=new F(a,h);r.camera=new b(a);a.init();const B=new f(new u);r.scene.three.add(B);r.camera.controls.setLookAt(12,6,8,0,0,-10);r.scene.setup();const t=new x(a);let m="";async function L(){if(t.groups.size)return;const n=await(await fetch("../../../resources/small.frag")).arrayBuffer(),s=new Uint8Array(n),o=t.load(s);r.scene.three.add(o),m=o.uuid,console.log(o)}function S(e){const n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=e.name,document.body.appendChild(n),n.click(),n.remove()}function U(){if(!t.groups.size)return;const e=t.groups.get(m);if(!e)return;const n=t.export(e),s=new Blob([n]),o=new File([s],"small.frag");S(o)}function R(){t.dispose()}function k(){if(t.groups.size)return;const e=document.createElement("input");e.type="file",e.onchange=async()=>{if(!(e.files&&e.files[0]))return;const n=e.files[0];if(n.name.includes(".frag")){const s=URL.createObjectURL(n),l=await(await fetch(s)).arrayBuffer(),d=new Uint8Array(l);t.load(d)}e.remove()},e.click()}const c=new p,i={loadFragments:()=>L(),disposeFragments:()=>R(),exportFragments:()=>U(),importExternalFragment:()=>k()};c.add(i,"loadFragments").name("Load Fragments");c.add(i,"disposeFragments").name("Dispose Fragments");c.add(i,"exportFragments").name("Export Fragments");c.add(i,"importExternalFragment").name("Import External Fragment");
