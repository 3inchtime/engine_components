import{bm as t,aE as d,as as m}from"./web-ifc-api-1K9lRohe.js";import{C as p,b as u,L as I,o as y,G as g}from"./index-3A2kWhNU.js";const s=new p,c=s.get(u);await c.setup();const P=await fetch("https://thatopen.github.io/engine_components/resources/small.ifc"),b=await P.arrayBuffer(),l=new Uint8Array(b),e=await c.load(l),a=s.get(I),{handle:E}=await a.getOwnerHistory(e),r=new t.IfcPropertySet(new t.IfcGloballyUniqueId(y.create()),E,new t.IfcLabel("Custom Property Set"),null,[]);await a.setData(e,r);const f=new t.IfcPropertySingleValue(new t.IfcIdentifier("Custom Property"),null,new t.IfcText("Custom Property Text Value"),null);await a.setData(e,f);r.HasProperties.push(new d(f.expressID));const L=s.get(g);L.addEntitiesRelation(e,r.expressID,{type:m,inv:"DefinesOcurrence"},186);const n=await e.getProperties(186);n&&(n.Name?n.Name.value="New Wall Name":n.Name=new t.IfcIdentifier("New Wall Name"),await a.setData(e,n));await e.setProperties(243,null);a.registerChange(e,243);const h=document.getElementById("download-btn");h.addEventListener("click",async()=>{const w=await a.saveToIfc(e,l),i=new File([w],"small-modified.ifc"),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=i.name,o.click(),URL.revokeObjectURL(o.href)});
