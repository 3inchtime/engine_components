import{bo as t,aE as d,as as m}from"./web-ifc-api-nU1-R_1k.js";import{C as p,I,i as u,U as y,g}from"./index-C8rcJyf0.js";const s=new p,c=s.get(I);await c.setup();const P=await fetch("https://thatopen.github.io/engine_components/resources/small.ifc"),E=await P.arrayBuffer(),l=new Uint8Array(E),e=await c.load(l),a=s.get(u),{handle:b}=await a.getOwnerHistory(e),r=new t.IfcPropertySet(new t.IfcGloballyUniqueId(y.create()),b,new t.IfcLabel("Custom Property Set"),null,[]);await a.setData(e,r);const f=new t.IfcPropertySingleValue(new t.IfcIdentifier("Custom Property"),null,new t.IfcText("Custom Property Text Value"),null);await a.setData(e,f);r.HasProperties.push(new d(f.expressID));const h=s.get(g);h.addEntitiesRelation(e,r.expressID,{type:m,inv:"DefinesOcurrence"},186);const n=await e.getProperties(186);n&&(n.Name?n.Name.value="New Wall Name":n.Name=new t.IfcIdentifier("New Wall Name"),await a.setData(e,n));await e.setProperties(243,null);a.registerChange(e,243);const L=document.getElementById("download-btn");L.addEventListener("click",async()=>{const w=await a.saveToIfc(e,l),i=new File([w],"small-modified.ifc"),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=i.name,o.click(),URL.revokeObjectURL(o.href)});
