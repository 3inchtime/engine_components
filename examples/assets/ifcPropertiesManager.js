import{bn as t,a4 as d,a3 as m}from"./web-ifc-api-Df2dhA4n.js";import{C as p,b as u,L as I,o as y,G as g}from"./index-CC2Loeen.js";const s=new p,c=s.get(u);await c.setup();const P=await fetch("https://thatopen.github.io/engine_components/resources/small.ifc"),b=await P.arrayBuffer(),l=new Uint8Array(b),e=await c.load(l),a=s.get(I),{handle:L}=await a.getOwnerHistory(e),r=new t.IfcPropertySet(new t.IfcGloballyUniqueId(y.create()),L,new t.IfcLabel("Custom Property Set"),null,[]);await a.setData(e,r);const f=new t.IfcPropertySingleValue(new t.IfcIdentifier("Custom Property"),null,new t.IfcText("Custom Property Text Value"),null);await a.setData(e,f);r.HasProperties.push(new d(f.expressID));const h=s.get(g);h.addEntitiesRelation(e,r.expressID,{type:m,inv:"DefinesOcurrence"},186);const n=await e.getProperties(186);n&&(n.Name?n.Name.value="New Wall Name":n.Name=new t.IfcIdentifier("New Wall Name"),await a.setData(e,n));await e.setProperties(243,null);a.registerChange(e,243);const E=document.getElementById("download-btn");E.addEventListener("click",async()=>{const w=await a.saveToIfc(e,l),i=new File([w],"small-modified.ifc"),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=i.name,o.click(),URL.revokeObjectURL(o.href)});
