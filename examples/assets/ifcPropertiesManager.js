import{a9 as u,bl as n}from"./web-ifc-api-DyW6VqW2.js";import{C as w,I as m,d as p,f as I,U as g}from"./index-BOOccxzK.js";const s=new w,i=s.get(m);await i.setup();const R=await fetch("https://thatopen.github.io/engine_components/resources/small.ifc"),c=await R.arrayBuffer(),e=await i.load(new Uint8Array(c)),r=s.get(p);await r.process(e);const t=s.get(I),{pset:f}=await t.newPset(e,"CalculatedQuantities"),U=await t.newSingleNumericProperty(e,"IfcReal","Volume",12.25);await t.addPropToPset(e,f.expressID,U.expressID);r.addEntitiesRelation(e,f.expressID,{type:u,inv:"DefinesOcurrence"},186);const o=await e.getProperties(186);o&&(o.Name.value="New Wall Name",await t.setData(e,o));const y=new n.IfcTask(new n.IfcGloballyUniqueId(g.create()),null,null,null,null,null,null,null,null,new n.IfcBoolean(!1),null,null,null);await t.setData(e,y);const E=document.getElementById("download-btn");E.addEventListener("click",async()=>{const d=await t.saveToIfc(e,new Uint8Array(c)),l=new File([d],"small-modified.ifc"),a=document.createElement("a");a.href=URL.createObjectURL(l),a.download=l.name,a.click(),URL.revokeObjectURL(a.href)});
