import"./web-ifc-api-BFxa4VQ4.js";import{C as d}from"./index-2WRq2SpB.js";import{I as m,a as w}from"./index-CY9ZflN6.js";import{I as g}from"./index-FdAbunvw.js";import"./ifc-metadata-reader-ySVcvkNZ.js";import"./ifc-fragment-settings-DrbKNZeA.js";import"./ifc-geometry-types-C3SKrzrZ.js";const c=new d,p=c.get(g);await p.setup();const R=await fetch("/resources/small.ifc"),u=await R.arrayBuffer(),I=new Uint8Array(u),e=await p.load(I),t=c.get(m);await t.process(e);const r=t.getEntityRelations(e,6518,"IsDefinedBy");if(r)for(const o of r){const n=await e.getProperties(o);console.log(n),await w.getPsetProps(e,o,async a=>{const s=await e.getProperties(a);console.log(s)})}const f=(o,n)=>{const a=new File([o],n),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=a.name,s.click(),URL.revokeObjectURL(s.href)},l=t.serializeModelRelations(e);l&&f(l,"small-relations.json");const y=t.serializeAllRelations();f(y,"relations-index-all.json");delete t.relationMaps[e.uuid];const x=await fetch("/resources/small-relations.json"),j=t.getRelationsMapFromJSON(await x.text());t.setRelationMap(e,j);const i=t.getEntityRelations(e,6518,"ContainedInStructure");if(i&&i[0]){const o=await e.getProperties(i[0]);console.log(o)}
